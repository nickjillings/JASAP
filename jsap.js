var JSAP=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";t.a=function(e){var t=new EventTarget,n={};function r(e,t,n){var a;for(a in e){var u;if(e.hasOwnProperty(a))if("object"==typeof e[a])e[a].toXML?u=e[a].toXML(n):(u=n.createElement(a),t.appendChild(u),e[a].length?i(e[a],u,n):r(e[a],u,n)),t.appendChild(u);else t.setAttribute(a,e[a])}}function i(e,t,n){var i,a;e.length;i=e.every((function(e){return"number"==typeof e})),a=e.every((function(e){return"string"==typeof e})),i||a?e.forEach((function(e,n){t.setAttribute("index-"+n,e)})):e.forEach((function(e,i){var a=document.createElement("value");a.setAttribute("index",i),r(e,a,n),t.appendChild(a)}))}Object.defineProperties(this,{addEventListener:{value:function(e,n,r){return t.addEventListener(e,n,r)}},removeEventListener:{value:function(e,n,r){return t.removeEventListener(e,n,r)}},name:{get:function(){return e},set:function(t){if(void 0!==e)throw"Name is already set"}},setTerm:{value:function(e,r){if("string"!=typeof e&&0===e.length)throw"term must be a string";n[e]=r,t.dispatchEvent(new CustomEvent("altered",{detail:{term:e,value:r}}))}},setTerms:{value:function(e){if("object"!=typeof e)throw"setTerms takes an object of term/value pairs";var t;for(t in e)e.hasOwnProperty(t)&&this.setTerm(t,e[t])}},deleteTerm:{value:function(e){this.setTerm(e,void 0)}},getTerm:{value:function(e){if("string"!=typeof e&&0===e.length)throw"term must be a string";return n[e]}},hasTerm:{value:function(e){if("string"!=typeof e&&0===e.length)throw"term must be a string";return n.hasOwnProperty(e)}},toJSON:{value:function(){return JSON.parse(JSON.stringify(n))}},toXML:{value:function(t){var i;return i=t?t.createElement(e):(t=document.implementation.createDocument(null,e,null)).firstElementChild,r(n,i,t),i}}})}},function(e,t,n){"use strict";(function(e){var r=n(0),i=n(6),a=n(7),u=n(5),o=n(4),s=n(2),c=n(3);t.a=function t(n,f){function l(e,t,n){e.start.call(e,t,n),e.parameters.getParameterNames().forEach((function(r){var i=e.parameters.getParameterByName(r);i.enabled&&i.start(t,n)}))}function d(){y.forEach((function(e){var t,r;t=e.node,r=n.currentTime,t.stop.call(t,r),t.parameters.getParameterNames().forEach((function(e){var n=t.parameters.getParameterByName(e);n.enabled&&n.stop(r)}))}))}var h,p,m=[],v=[],g=[],y=[],b=!1,P=new c.a(this),w=[];this.pluginAssets=new i.a(this),this.loadPrototypeModule=function(t,n){var r=this;return new Promise((function(n,r){"function"==typeof e.define&&e.define.amd?e.require([t.url],(function(e){n(e)})):"object"==typeof e.module&&e.module.exports?n(e.require(t.url)):r("Cannot load using modular systems")})).then((function(e){if("function"==typeof e)return r.addPrototype(e);reject("Is not a module plugin")})).catch((function(){if(!0!==n)return console.warn("Could not load using modular systems"),r.loadPluginScript(t);reject("Cannot load using modular systems")}))},this.loadResource=function(e){return new Promise((function(t,n){"object"!=typeof e?n("Error"):"string"!=typeof e.url?n("resourceObject.url must be a string"):"function"!=typeof e.test?n("resourceObject.test must be a function"):t(e)})).then((function(e){var t=e.test();if(!1!==t&&!0!==t)throw"resourceObject.test must return true or false";switch(e.type||(e.type="javascript"),e.type=e.type.toLowerCase(),e.type){case"javascript":return t?new Promise((function(t,n){"string"==typeof e.returnObject?window.hasOwnProperty(e.returnObject)?t(window[e.returnObject]):n(!1):t(!0)})):function(e){return!1===e.url.startsWith("http")&&void 0!==f&&f.startsWith("http")&&(e.url=f+e.url),new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e.url),r.onreadystatechange=function(){if(4==r.readyState){var n=document.createElement("script");n.textContent=r.responseText,document.getElementsByTagName("head")[0].appendChild(n),t(e)}},r.send()}))}(e).then((function(e){return"string"!=typeof e.returnObject||!!window.hasOwnProperty(e.returnObject)&&window[e.returnObject]}));default:throw"Invalid type "+String(e.type)}}))},this.loadPluginScript=function(e){if(e){if("string"!=typeof e.returnObject)throw"resourceObject.returnObject must be the name of the prototype function";return this.loadResource(e).then(function(e){return this.addPrototype(e)}.bind(this))}},this.injectPrototype=function(e){if("function"!=typeof e)throw"Invalid executable function";return this.addPrototype(e)},this.addPrototype=function(e){var t=this;return new Promise((function(t,n){"function"!=typeof e?n("The Prototype must be a function!"):"string"!=typeof e.prototype.name||0===e.prototype.name.length?n("Malformed plugin. Name not defined"):"string"!=typeof e.prototype.version||0===e.prototype.version.length?n("Malformed plugin. Version not defined"):"string"!=typeof e.prototype.uniqueID||0===e.prototype.uniqueID.length?n("Malformed plugin. uniqueID not defined"):t(e)})).then((function(e){var n={proto:e,name:e.prototype.name,version:e.prototype.version,uniqueID:e.prototype.uniqueID},r=g.find((function(e){var t,n=0;for(t in this)e[t]===this[t]&&n++;return 4===n}),n);if(r)throw"The plugin must be unique!";return r=new a.a(e,t),g.push(r),Object.defineProperties(r,{factory:{value:t}}),r}))},this.getPrototypes=function(){return g},this.getAudioPluginPrototypes=function(){return g.filter((function(e){return 0==e.hasMidiInput&&0==e.hasMidiOutput}))},this.getMidiSynthPrototypes=function(){return g.filter((function(e){return 1==e.hasMidiInput&&0==e.hasMidiOutput}))},this.getMidiPluginPrototypes=function(){return g.filter((function(e){return 1==e.hasMidiInput&&1==e.hasMidiOutput}))},this.getAllPlugins=function(){return y},this.getAllPluginsObject=function(){var e,t={factory:this,subFactories:[]};for(e=0;e<m.length;e++)t.subFactories.push({subFactory:m[e],plugins:m[e].getPlugins()});return t},this.createSubFactory=function(e,t){return console.warn('DEPRECATED - This function will be deprecated in favour of "createAudioPluginChainManager"'),this.createAudioPluginChainManager(e,t)},this.destroySubFactory=function(e,t){return console.warn('DEPRECATED - This function will be deprecated in favour of "destroyAudioPluginChainManager"'),this.destroyAudioPluginChainManager(e,t)},this.createAudioPluginChainManager=function(e,t){var n=new o.a(this,e,t);return Object.defineProperties(n,{SessionData:{value:this.SessionData},UserData:{value:this.UserData}}),m.push(n),n},this.duplicateAudioPluginChainManager=function(e,t,n){var r=this.createAudioPluginChainManager(t,n),i=Promise.resolve();return e.getPlugins().forEach((function(e){i=i.then((function(){return r.createPlugin(e.prototypeObject).then((function(t){t.node.parameters.setParametersByObject(e.node.parameters.getParameterObject)}))}))})),i.then((function(){return r}))},this.destroyAudioPluginChainManager=function(e){var t=m.findIndex((function(e){return e===this}),e);t>=0&&(m.splice(t,1),e.destroy())},this.createMidiSynthesiserHost=function(e){void 0===e&&(e=this);var t=new s.a(e);return Object.defineProperties(t,{SessionData:{value:this.SessionData},UserData:{value:this.UserData}}),v.push(t),t},this.destroyMidiSynthesiserHost=function(e){var t=v.findIndex((function(e){return e===this}),e);t>=0&&(v.splice(t,1),e.destroy())},this.registerPluginInstance=function(e){if(y.find((function(e){return e===this}),e))throw"Plugin Instance not unique";if(y.push(e),b){var t=n.currentTime,r=this.getCurrentProgramTime();l(e.node,r,t)}return!0},this.deletePlugin=function(e){var t=y.indexOf(e);if(t>=0){var n=y.splice(t,1);n[0].delete(),n[0].node.externalInterface.closeWindows()}},this.getCurrentProgramTime=function(){return b?n.currentTime-p+h:h},this.setCurrentProgramTime=function(e){if(b)throw"Must stop playback to set the current program time";"number"==typeof e&&e>=0&&(h=e,this.PluginGUI.pollAllPlugins())},this.audioStart=function(e,t){void 0===t&&(t=n.currentTime),void 0===e&&(e=0,console.warn("Assuming start time at 0")),b||(this.setCurrentProgramTime(e),p=t,function(e,t){y.forEach((function(n){l(n.node,e,t)}))}(e,t),b=!0)},this.audioStop=function(){b&&(d(),b=!1)},this.createStore=function(e){var t=new r.a(e);return w.push(t),t},this.getStores=function(){return w},this.findStore=function(e){return w.find((function(t){return t.name===e}))},this.SessionData=new r.a("Session"),this.UserData=new r.a("User"),this.FeatureMap=new u.a,Object.defineProperty(this.FeatureMap,"factory",{value:this}),Object.defineProperties(this,{context:{value:n},hasAudioStarted:{get:function(){return b}},pluginRootURL:{get:function(){return f},set:function(e){if("string"==typeof e)return f=e;throw"Cannot set root URL without a string"}},createFactoryCopy:{value:function(e){return n=this,r=e,new Promise((function(e,t){void 0===r.sampleRate?t(new Error("Invalid audio context provided")):e(r)})).then((function(e){var n=new t(e),r=[];return g.forEach((function(e){r.push(n.addPrototype(e.proto))})),Promise.all(r).then((function(){return n}))})).then((function(e){return e.pluginAssets.importFromAssetLists(n.pluginAssets),e}));var n,r}},subFactories:{get:function(){return m}},PluginGUI:{value:P}})}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t,n=this;function i(r){return t&&e.deletePlugin(t.id),new Promise((function(e,t){0==r.hasMidiInput||1==r.hasMidiOutput?t("Prototype is not a MidiSynthesis type. hasMidiInput must be true and hasMidiOutput must be false"):e(r)})).then((function(){return r.createPluginInstance(n,!1).then((function(e){return Object.defineProperties(e,{TrackData:{value:n.TrackData}}),e}))}))}this.TrackData=new r.a("Track");var a=[];Object.defineProperties(this,{connect:{value:function(e,n,r){if(void 0===e)throw"Must define an AudioNode object";a.find((function(t){return t.destinationNode==e&&t.output==n&&t.input==r}))||(a.push({destinationNode:e,output:n,input:r}),void 0===t?console.warn("MIDI Synthesiser is not loaded, connections will be validated on load"):t.node.connect(e,n,r))}},disconnect:{value:function(e,n,r){void 0===e?(t&&t.disconnect(),a=[]):"number"==typeof e&&void 0===n?(n=e,e=void 0,a=a.filter((function(e){return e.output!=n||(t&&t.node.disconnect(e.destinationNode,e.output),!1)}))):"object"==typeof e&&void 0===n?a=a.filter((function(n){return n.destinationNode!=e||(t&&t.node.disconnect(n.destinationNode),!1)})):"object"==typeof e&&"number"==typeof n?a=a.filter((function(r){return r.destinationNode!=e||r.output!=n||(t&&t.node.disconnect(r.destinationNode,r.output),!1)})):"object"==typeof e&&"number"==typeof n&&"number"==typeof r&&(a=a.filter((function(i){return i.destinationNode!=e||i.output!=n||i.input!=r||(t&&t.node.disconnect(i.destinationNode,i.output,i.input),!1)})))}},scheduleEvent:{value:function(e,n){if(!t)throw"MIDI Synthesiser not loaded";t.node.scheduleEvent(e,n)}},cancelAllEvents:{value:function(e){if(!t)throw"MIDI Synthesiser not loaded";t.node.cancelAllEvents(e)}},midiSynthesiser:{get:function(){return t},set:function(){throw"Cannot set read-only attribute."}},loadMidiSynthesiserModule:{value:function(e){var n=this;return new Promise((function(t,n){0==e.hasMidiInput||1==e.hasMidiOutput?n("Prototype is not a MidiSynthesis type. hasMidiInput must be true and hasMidiOutput must be false"):t(e)})).then((function(e){return i.call(n,e).catch((function(e){throw console.log(e),"Plugin did not get created! Aborting"}))})).then((function(e){return e.node.onloaded.call(e.node),t=e,a.forEach((function(e){t.node.connect(e.destinationNode,e.output,e.input)})),t}))}}})}},function(e,t,n){"use strict";function r(e){return Object.create({setDefaultInterface:function(e,t,n){return{url:e,width:t,height:n}},buildPluginInterface:function(e,t){var n=document.createElement("iframe");return n.src=t.src,t.width&&(n.width=t.width),t.height&&(n.height=t.height),n.style.border="0",n},spawnPluginWindow:function(e,t,n){var r=window.open(t.src,e.name,n);return e.externalInterface.registerWindow(r),r},pollAllPlugins:function(){e.getAllPlugins().forEach((function(e){e.node.externalInterface.updateInterfaces(!0)}))}})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=function(e,t){function n(e){var t,n=[];for(t=0;t<e.inputBuffer.numberOfChannels;t++)n[t]=e.inputBuffer.getChannelData(t);i.postMessage({state:2,frames:n})}function r(e){this.postFeatures(t,e.data.response)}var i=new Worker("jsap/feature-worker.js");i.onerror=function(e){console.error(e)},this.setFeatures=function(t){var a=this,u={state:1,sampleRate:e.context.sampleRate,featureList:t,numChannels:e.numberOfOutputs,frameSize:this.frameSize};this.features=t,t&&t.length>0?(i.onmessage=function(e){1===e.data.state?(i.onmessage=r.bind(a),a.extractor.onaudioprocess=n.bind(a)):i.postMessage(u)},i.postMessage({state:0})):this.extractor.onaudioprocess=void 0},this.rejoinExtractor=function(){e.connect(this.extractor)},this.extractor=e.context.createScriptProcessor(t,e.numberOfOutputs,1),e.connect(this.extractor),this.extractor.connect(e.context.destination),Object.defineProperty(this,"frameSize",{value:t})};var i=function(e,t){this.extractor=e.context.createAnalyser(),this.extractor.fftSize=t,e.connect(this.extractor),this.features=[],Object.defineProperty(this,"frameSize",{value:t});var n=owner.recursiveProcessing;function r(e){var t={numberOfChannels:1,results:[]};n(e,this.features),t.results[0]={channel:0,results:JSON.parse(e.toJSON())},this.postFeatures(e.length,t)}this.setFeatures=function(e){this.features=e,0===this.features.length?this.extractor.clearCallback():this.extractor.frameCallback(r,this)},this.rejoinExtractor=function(){e.connect(this.extractor)}};var a=function(e,t){var n=[];this.addExtractor=function(e){var a;return a=window.Worker?new r(t,e):new i(t,e),n.push(a),Object.defineProperty(a,"postFeatures",{value:function(e,t){var n={outputIndex:0,frameSize:e,results:t};this.postFeatures(n)}.bind(this)}),a},this.findExtractor=function(e){var t=e;return n.find((function(e){return Number(e.frameSize)===Number(t)}))},this.rejoinExtractors=function(){n.forEach((function(e){e.rejoinExtractor()}))},this.deleteExtractor=function(e){}};function u(e,t){var n;this.updateFeatures=function(t){var r;for(r=0;r<t.length;r++){if(void 0===n){if(r>1)throw"Requested an output that does not exist";n=new a(e,e.chainStart),Object.defineProperty(n,"postFeatures",{value:function(e){this.postFeatures(e)}.bind(this)})}var i;for(i=0;i<t[r].length;i++){var u=n.findExtractor(t[r][i].frameSize);u||(u=n.addExtractor(t[r][i].frameSize)),u.setFeatures(t[r][i].featureList)}}},this.rejoinExtractors=function(){n&&n.rejoinExtractors()},this.postFeatures=function(e){t.postFeatures({plugin:this,outputIndex:e.outputIndex,frameSize:e.frameSize,results:e.results})},t.createSourceMap(this,void 0)}var o=n(0);t.a=function(e,t,n){var r=[],i=t,a=n,s="",c=0,f=new u(this,e.FeatureMap),l=new EventTarget,d=this;function h(){for(var e=0,t=r.length-1;e<t;){var n=r[e++],i=r[e];n.reconnect(i)}}function p(){r.forEach((function(e){e.disconnect()}))}function m(){return r.length>0?(i.disconnect(r[0].input),r[r.length-1].output.disconnect(a)):i.disconnect(a),!0}function v(){r.length>0?(i.connect(r[0].input),r[r.length-1].output.connect(a)):i.connect(a),f.rejoinExtractors()}function g(e){return new Promise((function(t,n){t(e)})).then((function(){return e.createPluginInstance(d,!1).then((function(e){return Object.defineProperties(e,{TrackData:{value:d.TrackData}}),e}))}))}function y(e,t){var n,r,i=t.length;for(n=0;n<i;n++)e[(r=t[n]).name].apply(e,r.parameters),r.features&&r.features.length>0&&y(e.result[r.name],r.features)}function b(){var e=function(){var e=0;return r.filter((function(e){return!e.isBypassed()})).forEach((function(t){e+=t.node.processingDelayAsSamples})),e}();return c!=e&&(c=e,l.dispatchEvent(new Event("alterdelay"))),c}this.parent=e,i.disconnect(),i.connect(n),this.TrackData=new o.a("Track"),this.featureSender=f,this.getFeatureChain=function(){},this.bypassPlugin=function(e,t){!1!==r.includes(e)&&e.bypass(t)},this.getPrototypes=function(){return this.parent.getPrototypes()},this.getFactory=function(){return this.parent},this.destroy=function(e){var t;for(t=0;t<r.length;t++)this.destroyPlugin(r[t]);i.disconnect(),!0===e&&i.connect(a)},this.createPlugin=function(e){return g(e).catch((function(e){throw console.log(e),"Plugin did not get created! Aborting"})).then((function(e){return m(),r.push(e),p(),h(),v(),e.addEventListener("alterdelay",d),e.node.onloaded.call(e.node),b(),l.dispatchEvent(new Event("change")),e}))},this.removePlugin=function(e){var t=this.getPluginIndex(e);t>=0&&(m(),e.removeEventListener("alterdelay",d),e.node.stop.call(e.node),e.node.onunloaded.call(e.node),r.splice(t,1),p(),h(),v(),b(),l.dispatchEvent(new Event("change")))},this.destroyPlugin=function(e){this.removePlugin(e),this.parent.deletePlugin(e.id),b()},this.getPlugins=function(){return r},this.getAllPlugins=function(){return this.parent.getAllPluginsObject()},this.getPluginIndex=function(e){return r.findIndex((function(e,t,n){return e===this}),e)},this.movePlugin=function(t,n){var i,a,u,o=this.getPluginIndex(t);if(!1===e.getAllPlugins().includes(t))throw"Plugin does not exist";m(),p(),t.node.owner!==this?(t.node.owner.removePlugin(t),t.node.owner=this,i=[t]):(i=r.splice(o,1),t.node.onunloaded.call(t.node)),0===n?r=i.concat(r):n>=r.length?r=r.concat(i):(a=r.slice(0,n),u=r.slice(n),r=a.concat(i.concat(u))),h(),v(),t.node.onloaded.call(t.node),b(),l.dispatchEvent(new Event("change"))},this.copyPlugin=function(e,t){if(void 0===t&&(t=r.length),"number"!=typeof t||t<0||t>r.length)throw"Plugin copy index outside of the chain scope.";return g(e.prototypeObject).catch((function(e){throw console.log(e),"Plugin did not get created! Aborting"})).then((function(n){return n.node.parameters.setParametersByObject(e.node.parameters.getParameterObject()),m(),p(),r.splice(t,0,n),h(),v(),b(),n.node.onloaded.call(n.node),l.dispatchEvent(new Event("change")),n}))},Object.defineProperties(this,{chainStart:{value:t},chainStop:{value:n},updateDelayCompensation:{value:function(){return b()}},processingDelayAsSamples:{get:function(){return b()},set:function(){throw"processingDelayAsSamples is read-only"}},processingDelayAsSeconds:{get:function(){return this.processingDelayAsSamples/e.context.sampleRate},set:function(){throw"processingDelayAsSeconds is read-only"}},name:{get:function(){return s},set:function(e){return"string"==typeof e&&(s=e),s}},recursiveProcessing:{get:function(){return y}},handleEvent:{value:function(e){"alterdelay"==e.type&&b()}},addEventListener:{value:function(e,t){return l.addEventListener(e,t)}},removeEventListener:{value:function(e,t){return l.addEventListener(e,t)}}})}},function(e,t,n){"use strict";function r(e){var t=[];e.node.featureMap.Receiver;this.getRequestorInstance=function(){return e},this.addFeatures=function(e){!function e(t,n){var r;for(r=0;r<n.length;r++){var i=getFeatureNode(t,n[r]);(!i||n[r].parameters&&0!==n[r].parameters.length)&&(i=addFeatureNode(n[r],t)),void 0!==n[r].features&&n[r].features.length>0&&e(i.features,n[r].features)}}(t,e.features)},this.deleteFeatures=function(e){!function e(n,r){var i,a=r.length;for(i=0;i<a;i++){var u=getFeatureNode(n,r[i]);u>=0&&(r[u].features&&r[u].features.length>0?e(n[u].features,r[u].features):t.splice(u,0))}}(t,e.features)},this.getFeatureList=function(){return t},this.postFeatures=function(n){var r,i={plugin:n.plugin,outputIndex:n.outputIndex,frameSize:n.frameSize,features:{numberOfChannels:n.results.numberOfChannels,results:[]}};function a(e,t,n){var r;function i(e){return e.name===r}for(r in t)if(t.hasOwnProperty(r)){var u=n.find(i);u&&(t[r].constructor===Object&&u.results?(e[r]={},a(e[r],t[r],u.results)):e[r]=t[r])}}for(r=0;r<n.results.numberOfChannels;r++)i.features.results[r]={},a(i.features.results[r],n.results.results[r].results,t);e.node.featureMap.Receiver.postFeatures(i)}}function i(e,t){var n=[];function i(e){return n.find((function(e){return e.outputIndex===this.outputIndex&&e.frameSize===this.frameSize}),e)}function a(){function t(e){var n,r=[];for(n=0;n<e.length;n++){var i=getFeatureNode(r,e[n]);(!i||e.parameters&&0!==e[n].parameters.length)&&(i=addFeatureNode(e[n],r)),e[n].features&&e[n].features.length>0&&(i.features=t(e[n].features))}return r}var r,i=[];for(r=0;r<n.length;r++){void 0===i[n[r].outputIndex]&&(i[n[r].outputIndex]=[]);var a=i[n[r].outputIndex].find((function(e){return e.frameSize===this.frameSize}),n[r]);a||(a={frameSize:n[r].frameSize,featureList:void 0},i[n[r].outputIndex].push(a)),a.featureList=t(n[r].getFeatureList())}e.updateFeatures(i)}this.getSourceInstance=function(){return t},this.getSender=function(){return e},this.requestFeatures=function(e,t){var u=i(t);u||(u={outputIndex:t.outputIndex,frameSize:t.frameSize,requestors:[],getFeatureList:function(){var e,t=[];for(e=0;e<this.requestors.length;e++)t=t.concat(this.requestors[e].getFeatureList());return t}},n.push(u));var o=u.requestors.find((function(e){return e.getRequestorInstance()===this}),e);o||(o=new r(e),u.requestors.push(o)),o.addFeatures(t),a()},this.findFrameMap=function(e,t){return n.find((function(n){return n.outputIndex===e&&n.frameSize===t}))},this.cancelFeatures=function(e,t){if(void 0===t)n.forEach((function(t){var n=t.requestors.findIndex((function(t){return t.getRequestorInstance()===e}));n>=0&&t.requestors.splice(n,1)}));else{var r=i(t);if(!r)return;var u=r.requestors.find((function(e){return e.getRequestorInstance()===this}),e);if(!u)return;u.deleteFeatures(t)}a()}}function a(){var e=[];function t(t){return e.findIndex((function(e){return e.getSender()===this}),t)}function n(e,n,r){var i=e[t(n)];if(!i&&!(i=e[t(r)]))throw"Could not locate source map";return i}this.createSourceMap=function(t,n){var r=new i(t,n);return e.push(r),r},this.deleteSourceMap=function(n){var r=t(n);if(-1===r)throw"Could not find the source map for the plugin";e.splice(r,1)},this.getPluginSender=function(e){return e.constructor===PluginInstance&&(e=e.node),e.featureMap.Sender},this.requestFeatures=function(t,r,i){t.constructor!==PluginInstance&&(t=t.pluginInstance);var a=this.getPluginSender(r);n(e,r,a).requestFeatures(t,i)},this.deleteFeatures=function(t,r,i){if(t.constructor!==PluginInstance&&(t=t.pluginInstance),void 0===r)e.forEach((function(e){e.cancelFeatures(t)}));else{var a=this.getPluginSender(r);n(e,r,a).cancelFeatures(t,i)}},this.getFeatureList=function(e,t){},this.postFeatures=function(n){var r=e[t(n.plugin)];if(!r&&!(r=e[t(this.getPluginSender(n.plugin))]))throw"Plugin Instance not loaded!";r.findFrameMap(n.outputIndex,n.frameSize).requestors.forEach((function(e){e.postFeatures(this)}),n)}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(e,t,n,r){var i,a=this;Object.defineProperties(this,{name:{value:t},url:{value:n},assetObject:{get:function(){return r}},fetch:{value:function(){return r?Promise.resolve(r):(void 0===i&&(i=fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){return e.context.decodeAudioData(t)})).then((function(e){return r=e,i=void 0,a}))),i)}},toJSON:{value:function(){return{name:t,url:n}}},toString:{value:function(){return JSON.stringify(this.toJSON())}}})}function i(e,t,n){var i=[];function a(e){return i.find((function(t){return t.url==e}))}this.addAssetUrlToList=function(t,n,u){if("string"!=typeof n)throw"addAssetUrlToList Argument-1 must be a type of string";if(a(n))throw'URL "'+n+'" already in this list';return i.push(new r(e,t,n,u)),i},this.removeAssetFromList=function(e){var t=i.findIndex((function(e){return e.url==url}));if(-1==t)throw"Asset not in this list";return i.splice(t,1),i},this.removeAssetUrlFromList=function(e){if("string"!=typeof e)throw"removeAssetUrlFromList Argument-1 must be a type of string";var t=a(e);return this.removeAssetFromList(t)},this.assetObjects=i,this.name=t,this.resourceType=n}var a=function(e,t,n){function r(e,t){return Promise.all(t.map(e=>e.fetch())).then((function(){"function"==typeof onload&&onload.call(e,t)}),(function(){"function"==typeof onerror&&onerror.call(e)}))}this.selectPack=function(e){if(!t.assetPacks.includes(e))throw"Pack not in factory asset packs";n=e},this.allAssetsLoaded=function(){return n.assetObjects.every(e=>void 0!==e.assetObject)},this.fetchAssetByName=function(e){if(void 0===n||null==n.assetObjects)throw"Pack not defined";var t=n.assetObjects.find(t=>e==t.name);if(t)return t.fetch();throw"Asset with name "+String(e)+" does not exist in this pack"},Object.defineProperties(this,{pack:{get:function(){return n}},loadAssets:{value:function(e){if(void 0===n||null==n.assetObjects)throw"Pack not defined";if(null==e&&(e=n.assetObjects),!Array.isArray(e)||0==e.length)throw"Must pass an array of assets";return e.every((function(e){return n.assetObjects.some(t=>t.name==e.name)}))?r(this,e):Promise.reject("Not all given assets are in this pack")}},onload:{get:function(){return onload},set:function(e){if("function"!=typeof e&&void 0!==e)throw"Must be a function or undefined";onload=e}},onerror:{get:function(){return onload},set:function(e){if("function"!=typeof e&&void 0!==e)throw"Must be a function or undefined";onerror=e}}})};function u(e,t){return e.find((function(e){return e.name==t}))}t.a=function(e){var t=[];this.addPackToList=function(n,r){if("string"!=typeof n)throw"addAssetUrlToList Argument-1 must be a type of string";if(u(t,n))throw'Pack with name "'+n+'" already in this list';var a=new i(e,n,r);return t.push(a),a},this.removeAssetPackFromList=function(e){var n=t.indexOf(e);if(-1==n)throw"Asset pack not in this list";return t.splice(n,1),t},this.removeAssetPackFromListByName=function(e){if("string"!=typeof e)throw"removeAssetUrlFromList Argument-1 must be a type of string";var n=u(t,e);return this.removeAssetFromList(n)},this.assetPacks=t,this.createAssetPackSelector=function(e,t){return new a(e,this,t)},this.importFromAssetLists=function(t){t.assetPacks.forEach((function(t){var n=this.addPackToList(t.name,t.resourceType);t.assetObjects.forEach((function(t){var n;if(void 0!==t.assetObject){n=e.context.createBuffer(t.assetObject.numberOfChannels,t.assetObject.length,t.assetObject.sampleRate);for(var r=0;r<n.numberOfChannels;r++)n.copyToChannel(t.assetObject.getChannelData(r),r,0)}this.addAssetUrlToList(t.name,t.url,n)}),n)}),this)}}},function(e,t,n){"use strict";function r(e){this.next_node=void 0;var t=!1,n=new EventTarget,r=e.context.createGain(),i=e.context.createGain();r.connect(e.getInputs()[0]),e.getOutputs()[0].connect(i),e.addEventListener(this),this.bypass=function(a){return(a=!0===a)===t||(a?(r.disconnect(),r.connect(i),t=!0,0!=e.processingDelayAsSamples&&n.dispatchEvent(new Event("alterdelay"))):(r.disconnect(),r.connect(e.getInputs()[0]),t=!1,0!=e.processingDelayAsSamples&&n.dispatchEvent(new Event("alterdelay")))),t},this.isBypassed=function(){return t},this.reconnect=function(e){this.connect(e)},this.connect=function(e){return void 0!==this.next_node&&this.disconnect(),void 0!==e&&void 0!==e.input&&(this.next_node=e,i.connect(this.next_node.input),!0)},this.disconnect=function(){void 0!==this.next_node&&(i.disconnect(this.next_node.input),this.next_node=void 0)},this.destroy=function(){e.destroy()},Object.defineProperties(this,{handleEvent:{value:function(e){n.dispatchEvent(new Event(e.type))}},addEventListener:{value:function(e,t,r){return n.addEventListener(e,t,r)}},removeEventListener:{value:function(e,t,r){return n.removeEventListener(e,t,r)}},node:{value:e},input:{get:function(){return r}},output:{get:function(){return i}},bypassed:{get:function(){return t}}})}function i(e){var t=e.context.createGain();e.getOutputs()[0].connect(t),this.destroy=function(){e.destroy()},Object.defineProperties(this,{node:{value:e},output:{get:function(){return t}}})}function a(e,t){var n=this;function a(e,t){if(t)return t.then(loadResource(e));var n=loadResource(e);return n.then((function(e){if(void 0!==e.resources&&e.resources.length>0)for(var t=0;t<e.resources.length;t++)n=a(e.resources[t],n)})),n}function u(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function o(e){return e.hasOwnProperty("length")&&e.length>0?o(e[e.length-1]):e.hasOwnProperty("resources")?o(e.resources):e.test}Object.defineProperties(this,{name:{value:e.prototype.name},proto:{value:e},version:{value:e.prototype.version},uniqueID:{value:e.prototype.uniqueID},hasMidiInput:{value:e.prototype.hasMidiInput||!1},hasMidiOutput:{value:e.prototype.hasMidiOutput||!1}}),this.createPluginInstance=async function(a,u){var o=function(a){return Promise.all(s).then((function(){return new Promise((function(n,r){!function(){for(var e=!0,t=0;t<s.length;t++)if(1!==s[t].state||!s[t].test()){e=!1;break}return e}()?r(new Error("Plugin not ready")):n(new e(t,a))}))})).then((function(e){return new Promise((function(t,n){if(e.initialise)return e.initialise().then((function(){t(e)}));t(e)}))})).then((function(a){var u;if(!0!==a.hasMidiInput&&!0!==a.hasMidiOutput)u=new r(a);else{if(!0!==a.hasMidiInput||!0===a.hasMidiOutput)throw"No Instance Holder Available!";u=new i(a)}return Object.defineProperties(a,{pluginInstance:{value:u},prototypeObject:{value:n},name:{value:e.prototype.name},version:{value:e.prototype.version},uniqueID:{value:e.prototype.uniqueID},SesionData:{value:t.SessionData},UserData:{value:t.UserData}}),Object.defineProperties(u,{prototypeObject:{value:n},externalInterface:{value:a.externalInterface}}),t.registerPluginInstance(u),u}))}(a);return!0===u||await o,o};var s=[];if(e.prototype.resources)for(var c=0;c<e.prototype.resources.length;c++){var f=e.prototype.resources[c];switch(f.type=f.type.toLowerCase(),f.type){case"css":u(f.url);break;case"javascript":var l={promise:a(f),state:0,complete:function(){this.state=1},test:o(f)};l.promise.then(l.complete.bind(l)),s.push(l);break;default:throw"Could not load "+f.url+", invalid resource.type"}}this.getResourcePromises=function(){return s}}n.d(t,"a",(function(){return a}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(1);function i(e,t,n,r,i){var a,u,o,s=new EventTarget;a=u=function(e){return e},o=function(){},"string"==typeof r&&0!=r.length||(r=t),void 0===i&&(i=!0),"boolean"!=typeof i&&(console.warn("exposed parameter is not of type boolean, assuming exposed = true"),i=!0),Object.defineProperties(this,{addEventListener:{value:function(e,t,n){return s.addEventListener(e,t,n)}},removeEventListener:{value:function(e,t,n){return s.removeEventListener(e,t,n)}},triggerParameterSet:{value:function(e){var t={detail:{parameter:this,updateInterfaces:e}};s.dispatchEvent(new CustomEvent("parameterset",t))}},name:{value:t},owner:{value:e},visibleName:{value:r},exposed:{value:i},update:{get:function(){return a},set:function(e){if("function"!=typeof e)throw"Must be a callback function";if(void 0===e(0))throw"Function must return a value";a=e}},translate:{get:function(){return u},set:function(e){if("function"!=typeof e)throw"Must be a callback function";if(void 0===e(0))throw"Function must return a value";u=e}},trigger:{get:function(){return o},set:function(e){if("function"!=typeof e)throw"Must be a callback function";o=e}},bindToAudioParam:{configurable:!0,value:function(e){throw"Cannot bind this parameter type to an audio parameter"}},boundAudioParam:{configurable:!0,get:function(){}}})}var a=function(e,t,n,r){if("number"!=typeof t||!isFinite(t)||t<0)throw"Invalid Constructor: Time must be a positive number";if("number"!=typeof n||!isFinite(n))throw"Invalid Constructor: Value must be a number";Object.defineProperties(this,{time:{get:function(){return t},set:function(e){return this.setTime(e)}},value:{get:function(){return n},set:function(e){return this.setValue(e)}},setValue:{value:function(t){if("number"!=typeof t||!isFinite(t))throw"Value must be a number";return n=Math.min(Math.max(t,e.minimum),e.maximum)}},setTime:{value:function(e){return"number"==typeof e&&isFinite(e)&&e>=0&&(t=e),t}},toString:{value:function(){return"function"==typeof r?r.call(this,n):String(n)}},owner:{value:e}})},u=function(e,t,n){function r(e,t){return e.find((function(e){return e.time==t}))}function i(e){return e.sort((function(e,t){return e.time>t.time?1:-1}))}if("number"!=typeof e||!isFinite(e))throw"Invalid Constructor: min_value be a number";if("number"!=typeof t||!isFinite(t))throw"Invalid Constructor: max_value be a number";if(e==t)throw"Invalid Constructor: max_value cannot equal to min_value";if(t<e)throw"Invalid Constructor: min_value cannot be greater than max_value";var u=[];Object.defineProperties(this,{insertPoint:{value:function(o,s){if("number"!=typeof o||!isFinite(o)||o<0)throw"Time must be a positive number";if("number"!=typeof s||!isFinite(s))throw"Value must be a number";if(function(e,t){return void 0!==r(e,t)}(u,o))throw"Already a value entry at time "+o;s=Math.min(Math.max(s,e),t);var c=new a(this,o,s,n);return u.push(c),u=i(u),c}},getPoints:{value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1/0),u.filter((function(n){return n.time>=e&&n.time<t}))}},deletePoint:{value:function(e){var t=u.findIndex((function(t){return t.time==e}));return t>=0&&u.splice(t,1,0),u.length}},getStaticValueAsString:{writable:!0,value:function(e){return String(e)}},getValueAtTimePoint:{value:function(e){return r(u,e)}},length:{get:function(){return u.length}},minimum:{value:e},maximum:{value:t},updatePoint:{value:function(e,t){var n=u.find((function(t){return t.time==e}));if(n){if("number"==typeof t.time&&t.time!=n.time){if(r(u,e))throw'A time-point already exists at "'+String(t.time)+'" seconds';n.time=t.time,u=i(u)}n.value=t.value}return n}}})},o=function(e,t,n,r){u.call(this,t,n,r);var i=!1;Object.defineProperties(this,{enabled:{get:function(){return i},set:function(e){return this.length>0&&(i=!0===e),i}}})},s=function(e,t,n,r,i){function a(e,t){if(0==e.length)throw"No automation points available";if(1==e.length)return e[0].value;var n=e.reduce((function(e,n){return n.time<=t?n:e}),e[0]),r=e.find((function(e){return e.time>n.time}));return void 0===r||n.time>t?n.value:function(e,t,n){var r=t.time,i=n.time;e-=r,i-=r,r=0;var a=e/i;return t.value*(1-a)+n.value*a}(t,n,r)}o.call(this,t,n,r,i),Object.defineProperties(this,{getCurrentTimeValue:{value:function(e){return a(this.getPoints(),e)}},start:{value:function(n,r){this.enabled&&function(n,r,i){var u=e.update(a(n,r));t.setValueAtTime(u,i),n.forEach((function(n){if(n.time>r){var a=n.time-r,u=e.update(n.value);t.linearRampToValueAtTime(u,a+i)}}))}(this.getPoints(),n,r)}},stop:{value:function(e){!function(e){void 0===e&&(e=0),t.cancelScheduledValues(e)}(e)}}})};(s.prototype=Object.create(o.prototype)).constructor=s;var c=function(e,t,n,r,i){function a(e,t){if(0==e.length)throw"No automation points available";return 1==e.length?e[0].value:e.reduce((function(e,n){return n.time<=t?n:e}),e[0]).value}o.call(this,t,n,r,i),Object.defineProperties(this,{getCurrentTimeValue:{value:function(e){return a(this.getPoints(),e)}},start:{value:function(n,r){this.enabled&&function(n,r,i){var u=e.update(a(n,r));t.setValueAtTime(u,i),n.forEach((function(n){if(n.time>r){var a=n.time-r,u=e.update(n.value);t.setValueAtTime(u,a+i)}}))}(this.getPoints(),n,r)}},stop:{value:function(e){!function(e){t.cancelScheduledValues(e)}(e)}}})};function f(e,t,n,r,a,u,o,c){var f,l;i.call(this,e,t,"Number",o,c);var d,h=n;function p(t,n){if(l&&l.enabled)throw"Automation is enabled, cannot set the value!";this.minimum&&(t=Math.max(t,this.minimum)),this.maximum&&(t=Math.min(t,this.maximum)),d&&(t=Math.round(t/d),t*=d),t=this.update(t),f&&(l?f.setValueAtTime(t,e.factory.context.currentTime):f.value=t),h!==t&&(h=t,this.triggerParameterSet(n)),this.trigger()}Object.defineProperties(this,{type:{value:"Number"},destroy:{value:function(){e=t=n=r=a=h=d=void 0}},minimum:{value:r},maximum:{value:a},defaultValue:{value:n},value:{get:function(){if(f){if(l&&l.length>0){var t=e.factory.getCurrentProgramTime();return l.getCurrentTimeValue(t)}return this.translate(f.value)}return h},set:function(e){return p.call(this,e,!0)}},setValue:{value:function(e,t){return p.call(this,e,t)}},stepSize:{get:function(){return d},set:function(e){if(!isFinite(e)||e<0)throw"Invalid step size";d=e}},bindToAudioParam:{value:function(e){if("object"!=typeof e||null==e.value)throw"Argument 1 is not a valid AudioParameter object";(f=e).value=this.update(h),e.setValueAtTime?(l=new s(this,f,r,a,u),Object.defineProperties(this,{getValueAtTimePoint:{value:function(e){return this.automationPoints.getValueAtTimePoint(e)}},automationPoints:{value:l},start:{value:function(e,t){return l.start(e,t)}},stop:{value:function(e){l.stop(e)}},enabled:{get:function(){return l.enabled},set:function(e){return l.enabled=e}}})):console.warn("Cannot bind automation as AudioParameter is not automatable")}},boundAudioParam:{configurable:!0,get:function(){return f}},automatable:{get:function(){return"object"==typeof l}},toString:{value:function(e){return null==e&&(e=this.value),"function"==typeof u?u.call(this,e):String(e)}},getParameterObject:{value:function(){return{value:this.value,defaultValue:n,minimum:r,maximum:a,visibleName:t,type:"NumberParameter",name:t}}}})}function l(e,t,n,r,a,u,o){i.call(this,e,t,"String",u,o);var s,c=n;function f(e,t){if(r&&e.length>r)throw"String longer than "+r+" characters";this.boundAudioParam&&(this.boundAudioParam.value=this.update(e)),c!==e&&(c=e,this.triggerParameterSet(t)),this.trigger()}Object.defineProperties(this,{type:{value:"String"},destroy:{value:function(){e=t=n=r=c=void 0}},maxLength:{value:r},defaultValue:{value:n},value:{get:function(){return this.boundAudioParam?this.translate(this.boundAudioParam.value):c},set:function(e){return f.call(this,e,!0)}},setValue:{value:function(e,t){return f.call(this,e,t)}},bindToAudioParam:{value:function(e){if("object"!=typeof e||null==e.value)throw"Argument 1 is not a valid AudioParameter object";(s=e).value=this.update(c)}},boundAudioParam:{configurable:!0,get:function(){return s}},toString:{value:function(e){return null==e&&(e=this.value),"function"==typeof a?a.call(this,e):String(e)}},getParameterObject:{value:function(){return{value:this.value,defaultValue:n,maxLength:r,visibleName:t,type:"StringParameter",name:t}}}})}function d(e,t,n,r){i.call(this,e,t,"Button",n,r);var a=function(){};Object.defineProperties(this,{type:{value:"Button"},destroy:{value:function(){e=t=void 0}},onclick:{get:function(){return a},set:function(e){if("function"!=typeof e)throw"onclick must be a function";a=e}},getParameterObject:{value:function(){return{visibleName:t,type:"ButtonParameter",name:t}}}})}function h(e,t,n,r,a,u,o,s){i.call(this,e,t,"Button",o,s);var f,l,d=n;function h(e,t){if(e<r)throw"Set value is less than "+r;if(e>a)throw"Set value is greater than "+a;return this.boundAudioParam&&(this.boundAudioParam.value=this.update(e)),d!==e&&(d=e,this.triggerParameterSet(t)),this.trigger(),e}Object.defineProperties(this,{type:{value:"Switch"},destroy:{value:function(){e=t=void 0}},defaultValue:{value:n},minState:{value:r},maxState:{value:a},value:{get:function(){return this.boundAudioParam?this.translate(this.boundAudioParam.value):d},set:function(e){return h.call(this,e)}},setValue:{value:function(e,t){return h.call(this,e,t)}},increment:{value:function(){var e=d+1;return e>a&&(e=r),h.call(this,e)}},decrement:{value:function(){var e=d-1;return e<r&&(e=a),h.call(this,e)}},bindToAudioParam:{value:function(e){if("object"!=typeof e||null==e.value)throw"Argument 1 is not a valid AudioParameter object";(f=e).value=this.update(d),e.setValueAtTime?(l=new c(this,f,r,a,u),Object.defineProperties(this,{getValueAtTimePoint:{value:function(e){return this.automationPoints.getValueAtTimePoint(e)}},automationPoints:{value:l},start:{value:function(e,t){return l.start(e,t)}},stop:{value:function(e){l.stop(e)}},enabled:{get:function(){return l.enabled},set:function(e){return l.enabled=e}}})):console.warn("Cannot bind automation as AudioParameter is not automatable")}},boundAudioParam:{configurable:!0,get:function(){return f}},automatable:{get:function(){return"object"==typeof l}},toString:{value:function(e){return null==e&&(e=this.value),"function"==typeof u?u.call(this,e):String(e)}},getParameterObject:{value:function(){return{value:this.value,defaultValue:n,minimum:r,maximum:a,visibleName:t,type:"SwitchParameter",name:t}}}})}function p(e,t,n,r,a,u,o){var s,f;i.call(this,e,t,"Button",u,o);var l=r.indexOf(n);function d(e,t){var n=r.indexOf(e);if(void 0===n||n<0)throw"Not in list range";return this.boundAudioParam&&(this.boundAudioParam.value=this.update(e)),l!==n&&(l=n,this.triggerParameterSet(t)),this.trigger(),r[l]}Object.defineProperties(this,{type:{value:"List"},destroy:{value:function(){e=t=void 0}},defaultValue:{value:n},listValues:{value:r},value:{get:function(){return s?this.translate(s.value):r[l]},set:function(e){return d.call(this,e,!0)}},setValue:{value:function(e,t){return d.call(this,e,t)}},increment:{value:function(){var e=l+1;return e>=r.length&&(e=0),d.call(this,e)}},decrement:{value:function(){var e=l-1;return e<0&&(e=r.length-1),d.call(this,e)}},bindToAudioParam:{value:function(e){if("object"!=typeof e||null==e.value)throw"Argument 1 is not a valid AudioParameter object";(s=e).value=this.update(r[l]),e.setValueAtTime?(f=new c(this,s,0,listValues.length,a),Object.defineProperties(this,{getValueAtTimePoint:{value:function(e){return this.automationPoints.getValueAtTimePoint(e)}},automationPoints:{value:f},start:{value:function(e,t){return f.start(e,t)}},stop:{value:function(e){f.stop(e)}},enabled:{get:function(){return f.enabled},set:function(e){return f.enabled=e}}})):console.warn("Cannot bind automation as AudioParameter is not automatable")}},boundAudioParam:{configurable:!0,get:function(){return s}},automatable:{get:function(){return"object"==typeof f}},addOptionToList:{value:function(e){var t=typeof e;if("string"!=t&&"number"!=t)throw"ListParameter::addOptionToList Argument 1 must be of type string or number";if(r.includes(e))throw"ListParameter::addOptionToList Argument 1 contains a value already in the list options";return r.push(e),r}},deleteOptionFromList:{value:function(e){var t=r.indexOf(e);r[l];if(-1==t)throw'ListParameter::deleteOptionFromList item "'+e+'" does not exist in this list';return r.splice(t,1),l%=r.length,r}},toString:{value:function(e){return null==e&&(e=this.value),"function"==typeof a?a.call(this,e):String(e)}},getParameterObject:{value:function(){return{value:this.value,options:r,defaultValue:n,minimum:0,maximum:r.length,visibleName:t,type:"ListParameter",name:t}}}})}function m(e,t,n,r,a,u,o){i.call(this,e,t,"String",u,o);var s,c=n;function f(e,t){if(r&&e.length>r)throw"String longer than "+r+" characters";c!==e&&(s=void 0,c=e,this.triggerParameterSet(t)),this.trigger()}Object.defineProperties(this,{type:{value:"URL"},destroy:{value:function(){e=t=n=r=c=void 0}},maxLength:{value:r},defaultValue:{value:n},value:{get:function(){return this.boundAudioParam?this.translate(this.boundAudioParam.value):c},set:function(e){return f.call(this,e,!0)}},setValue:{value:function(e,t){return f.call(this,e,t)}},getResource:{value:function(e){return null==s&&(s=new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",c),r.responseType=e,r.onload=function(e){200==r.status?t(e.target.response):n({code:r.status,message:e.target})},r.onerror=function(e){n({code:r.status,message:"error"})},r.ontimeout=function(e){n({code:r.status,message:"timeout"})},r.send()}))),s}},toString:{value:function(e){return null==e&&(e=this.value),"function"==typeof a?a.call(this,e):String(e)}},getParameterObject:{value:function(){return{value:this.value,defaultValue:n,maxLength:r,visibleName:t,type:"URLParameter",name:t}}}})}function v(e,t,n,r,a){i.call(this,e,n,"String",r,a);var u,o,s,c=e.factory.pluginAssets.assetPacks.filter((function(e){return e.resourceType==t})).map((function(e){return e.assetObjects})).flat(),f=new p(e,n+" list",c[0],c,(function(e){return e.url}),n+" list",!1);function l(){f.value.fetch().then((function(e){u=e,"function"==typeof o&&o(e)}),(function(e){"function"==typeof s&&s(e)}))}function d(e,t){"object"==typeof e&&e.hasOwnProperty("url")&&(e=e.url);var n=f.value.url,r=f.listValues.find((function(t){return t.url==e}));return r&&(f.value=r),f.value.url!=n&&(l(),this.triggerParameterSet(t)),this.trigger(),f.value}Object.defineProperties(this,{onload:{get:function(){return o},set:function(e){if("function"!=typeof e)throw"AssetParameter::onload requires a function with one argument to be set";return o=e,u&&o(u),o}},onerror:{get:function(){return s},set:function(e){if("function"!=typeof e)throw"AssetParameter::onerror requires a function with one argument to be set";return s=e}},type:{value:"Asset"},destroy:{value:function(){f.destroy(),e=n=defaultValue=f=void 0}},value:{get:function(){return f.value.url},set:function(e){return d.call(this,e,!0),f.value.url}},setValue:{value:function(e,t){return d.call(this,e,t)}},getResource:{value:function(){return audioBufferPromise||l()}},buffer:{get:function(){return u}},toString:{value:function(e){return f.toString(e)}},options:{get:function(){return f.listValues}},getParameterObject:{value:function(){return{value:f.value.toJSON(),options:f.listValues.map((function(e){return e.toJSON()})),loaded:void 0!==u,visibleName:n,type:"AssetParameter",name:n}}}}),l()}(c.prototype=Object.create(o.prototype)).constructor=c,f.prototype=Object.create(i.prototype),f.prototype.constructor=f,l.prototype=Object.create(i.prototype),l.prototype.constructor=l,d.prototype=Object.create(i.prototype),d.prototype.constructor=d,h.prototype=Object.create(i.prototype),h.prototype.constructor=h,p.prototype=Object.create(i.prototype),p.prototype.constructor=p,m.prototype=Object.create(i.prototype),m.prototype.constructor=m,v.prototype=Object.create(i.prototype),v.prototype.constructor=v;var g=function(e,t,n,r){var i=[],a=new EventTarget;function u(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)}function o(e,t){if(!/^\w+( \w+)*$/.test(t))throw"Invalid string for name";if(e.hasOwnProperty(t))throw"Name is reserved or already defined";return!0}function s(){var e={};return i.filter((function(e){return e.exposed})).forEach((function(t){e[t.name]=t})),e}function c(e,t){if(e.name.includes("."))throw"Name cannot include a period";return-1===i.findIndex((function(t){return t===e}),e)&&(Object.defineProperty(t,e.name,{value:e}),i.push(e)),e}null==n&&(n="default"),null!=r&&"default"!=n||(r=!0),Object.defineProperties(this,{addEventListener:{value:function(e,t,n){return a.addEventListener(e,t,n)}},removeEventListener:{value:function(e,t,n){return a.removeEventListener(e,t,n)}},handleEvent:{value:function(e){var n=e.detail;!1!==n.updateInterfaces&&t.updateInterfaces(),"parameterset"==e.type&&a.dispatchEvent(new CustomEvent("parameterset",{detail:n.parameter}))}},createNumberParameter:{value:function(t,n,r,i,a,u,s){if("string"!=typeof t||"number"!=typeof n||void 0!==r&&"number"!=typeof r||void 0!==i&&"number"!=typeof i)throw"Invlid constructor";if("function"!=typeof a&&void 0!==a)throw"toStringFunc must be a function or undefined";if(o(this,t)){var l=new f(e,t,n,r,i,a,u,s);return c(l,this),l.addEventListener("parameterset",this),l}}},createStringParameter:{value:function(t,n,r,i,a,u){if("string"!=typeof t||"string"!=typeof n||void 0!==r&&"number"!=typeof r)throw"Invlid constructor";if("function"!=typeof i&&void 0!==i)throw"toStringFunc must be a function or undefined";if(o(this,t)){var s=new l(e,t,n,r,i,a,u);return c(s,this),s.addEventListener("parameterset",this),s}}},createButtonParameter:{value:function(t){if("string"!=typeof t)throw"Invalid constructor";if(o(this,t)){var n=new d(e,t);return c(n,this),n.addEventListener("parameterset",this),n}}},createSwitchParameter:{value:function(t,n,r,i,a,u,s){if("string"!=typeof t||"number"!=typeof n||"number"!=typeof r||"number"!=typeof i)throw"Invlid constructor";if("function"!=typeof a&&void 0!==a)throw"toStringFunc must be a function or undefined";if(o(this,t)){var f=new h(e,t,n,r,i,a,u,s);return c(f,this),f.addEventListener("parameterset",this),f}}},createListParameter:{value:function(t,n,r,i,a,u){if("string"!=typeof t||void 0===n||!Array.isArray(r))throw"Invlid constructor";if("function"!=typeof i&&void 0!==i)throw"toStringFunc must be a function or undefined";if(!1===r.includes(n))throw"Invlid constructor - default value missing";if(o(this,t)){var s=new p(e,t,n,r,i,a,u);return c(s,this),s.addEventListener("parameterset",this),s}}},createURLParameter:{value:function(t,n,r,i,a,u){if("string"!=typeof t||void 0!==r&&"number"!=typeof r)throw"Invlid constructor";if("function"!=typeof i&&void 0!==i)throw"toStringFunc must be a function or undefined";if(o(this,t)){var s=new m(e,t,n,r,i,a,u);return c(s,this),s.addEventListener("parameterset",this),s}}},createAssetParameter:{value:function(t,n,r,i,a){if("string"!=typeof n)throw"Invlid constructor";if(o(this,n)){var u=new v(e,t,n,r,i,a);return c(u,this),u.addEventListener("parameterset",this),u}}},createParameterManager:{value:function(n){if(o(this,n)){var r=new g(e,t,n);return c(r,this),r}}},createParameter:{value:function(){throw"This function is now deprecated"}},getParameterName:{value:function(){return console.error("DEPRECATED - use getParameterNames"),this.getParameterNames()}},getParameterByName:{value:function(e){return u(this,e)}},getParameterObject:{value:function(){return s()}},getParameterNames:{value:function(){return i.filter((function(e){return e.exposed})).map((function(e){return e.constructor==this.constructor?e.getParameterNames().map((function(e){return this.name+"."+e}),e).flat():e.name}),this).flat()}},setParameterByName:{value:function(e,t,n){var r=u(this,e);if(r){if(!1===r.exposed)throw"Cannot set hidden parameter";r.setValue(t,n)}}},deleteParameter:{value:function(e){var t=i.findIndex((function(t){return t===e}),e);return t>=0&&(i.splice(t,1),e.destroy(),!0)}},deleteAllParameters:{value:function(e){return i.forEach((function(e){e.destroy()})),i=[],!0}},setParametersByObject:{value:function(e,t){var n;for(n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n])this.setParameterByName(n,e[n].value,t);else{if("number"!=typeof e[n]&&"string"!=typeof e[n])throw"Cannot set "+n+": Not a valid object";this.setParameterByName(n,e[n],t)}}},toJSON:{value:function(){return i.filter((function(e){return e.exposed})).reduce((function(e,t){return t.hasOwnProperty("toJSON")?e[t.name]=t.toJSON():t.hasOwnProperty("getParameterObject")?e[t.name]=t.getParameterObject():t.hasOwnProperty("toString")?e[t.name]=t.toString():t.hasOwnProperty("value")&&(e[t.name]=t.value),e}),{})}},parameters:{get:function(){return s()},set:function(){throw"Cannot set, use .setParameterBy...()"}},exposed:{get:function(){return r}},name:{get:function(){return n}}})},y=function(e){function t(t,n){var r=e.parameters.getParameterNames(),i={};return void 0!==n&&null!=n.length||(n=r),r.filter((function(e){return this.includes(e)}),n).forEach((function(t){var n=e.parameters.getParameterByName(t);i[t]=n.getParameterObject(),i[t].name=t,n.automation&&(i[t].automated=n.automation.enabled)})),i}function n(e,n){var r={message:"updateParameters",parameters:t(0,n)};return e&&(r.sender_id=e),r}function r(e,t){e.postMessage(n(void 0,t),location.origin)}function i(e,t){var r=n(e,t);u.forEach((function(e){e.postMessage(r,location.origin)}))}function a(e,t,n){var r={message:"updateState",level:e,term:t,value:n};u.forEach((function(e){e.postMessage(r,location.origin)}))}var u=[],o=new EventTarget;window.addEventListener("message",(function(t){if(u.includes(t.source))switch(t.data.message){case"setParameterByName":var n;t.data.parameter.name&&(n=e.parameters.getParameterByName(t.data.parameter.name))&&(n.setValue(t.data.parameter.value,!1),i(t.data.sender_id,[t.data.parameter.name]));break;case"setParametersByObject":if(t.data.parameter){var o=function(t){var n=[],r=JSON.parse(t.message.parameters);return Object.keys(r).forEach((function(t){var i=e.parameters.getParameterByName(t);i&&(i.setValue(r[t].value,!1),n.push(t))})),n}(t);i(t.data.sender_id,o)}break;case"requestParameters":"string"==typeof t.data.name?r(t.source,t.data.name):r(t.source);break;case"requestSessionState":a("session",t.data.term,e.sessionDataInterface.requestTerm(t.data.term));break;case"requestTrackState":a("track",t.data.term,e.trackDataInterface.requestTerm(t.data.term));break;case"requestUserState":a("user",t.data.term,e.userDataInterface.requestTerm(t.data.term));break;case"requestPluginState":a("plugin",t.data.term,e.pluginDataInterface.requestTerm(t.data.term));break;case"customMessage":break;default:throw'Unknown message type "'+t.data.message+'"'}})),Object.defineProperties(this,{addEventListener:{value:function(e,t,n){return o.addEventListener(e,t,n)}},removeEventListener:{value:function(e,t,n){return o.removeEventListener(e,t,n)}},sendState:{value:function(t,n){if("session"==t)a("session",n,e.sessionDataInterface.requestTerm(n));else if("track"==t)a("track",n,e.trackDataInterface.requestTerm(n));else if("user"==t)a("user",n,e.userDataInterface.requestTerm(n));else{if("plugin"!=t)throw"Invalid state level option";a("plugin",n,e.pluginDataInterface.requestTerm(n))}}},updateInterfaces:{value:function(t){var n;(void 0===t&&(t=!1),t)?(n=e.parameters.getParameterNames().filter((function(t){var n=e.parameters.getParameterByName(t);return n.automatable&&!0===n.enabled}))).length>0&&i(void 0,n):i()}},closeWindows:{value:function(){for(1;u.length>0;){u.pop().close()}}},registerWindow:{value:function(t){return u.includes(t)&&u.splice(u.indexOf(t),1),u.push(t),t.pluginInstance=e,r(t),!0}},removeWindow:{value:function(e){u.includes(e)&&u.splice(u.indexOf(e),1)}}})},b=function(e,t){function n(e,t){if(void 0===e)throw"Source plugin must be defined";if(void 0===t)throw"FeatureObject must be defined";if("number"!=typeof t.outputIndex||"number"!=typeof t.frameSize||"object"!=typeof t.features)throw"Malformed featureObject";return!0}var r=function(){};this.requestFeatures=function(e){var t;for(t=0;t<e.length;t++)this.requestFeaturesFromPlugin(e[t].plugin,{outputIndex:e[t].outputIndex,frameSize:e[t].frameSize,features:e[t].features})},this.requestFeaturesFromPlugin=function(r,i){n(r,i),t.requestFeatures(e.plugin,r,i)},this.cancelFeaturesFromPlugin=function(r,i){n(r,i),t.deleteFeatures(e.plugin,r,i)},this.cancelAllFeaturesFromPlugin=function(n){if(void 0===n)throw"Source plugin must be defined";t.deleteFeatures(e.plugin,n)},this.cancelAllFeatures=function(){t.deleteFeatures(e.plugin)},this.postFeatures=function(e){"function"==typeof r&&r(e)},Object.defineProperty(this,"onfeatures",{get:function(){return r},set:function(e){return"function"==typeof e&&(r=e,!0)}})},P=function(e,t){var n=function(t,n,r){var i=[],a=function(t,n){this.extractor=e.plugin.factory.context.createAnalyser(),this.extractor.fftSize=n,t.connect(this.extractor),this.features=[],Object.defineProperty(this,"frameSize",{value:n});var r=this.factory.recursiveProcessing;function i(e){var t={numberOfChannels:1,results:[]};r(e,this.features),t.results[0]={channel:0,results:JSON.parse(e.toJSON())},this.postFeatures(e.length,t)}this.setFeatures=function(e){this.features=e,0===this.features.length?this.extractor.clearCallback():this.extractor.frameCallback(i,this)}},u=function(t,n){function r(e){var t,n=[];for(t=0;t<e.inputBuffer.numberOfChannels;t++)n[t]=e.inputBuffer.getChannelData(t);a.postMessage({state:2,frames:n})}function i(e){this.postFeatures(n,e.data.response)}var a=new Worker("jsap/feature-worker.js");a.onerror=function(e){console.error(e)},this.setFeatures=function(n){var u=this,o={state:1,sampleRate:e.plugin.factory.context.sampleRate,featureList:n,numChannels:t.numberOfOutputs,frameSize:this.frameSize};this.features=n,n&&n.length>0?(a.onmessage=function(e){1===e.data.state?(a.onmessage=i.bind(u),u.extractor.onaudioprocess=r.bind(u)):a.postMessage(o)},a.postMessage({state:0})):this.extractor.onaudioprocess=void 0},this.extractor=e.plugin.factory.context.createScriptProcessor(n,t.numberOfOutputs,1),t.connect(this.extractor),this.extractor.connect(e.plugin.factory.context.destination),Object.defineProperty(this,"frameSize",{value:n})};this.addExtractor=function(e){var t;return t=window.Worker?new u(n,e):new a(n,e),i.push(t),Object.defineProperty(t,"postFeatures",{value:function(e,t){var n={outputIndex:r,frameSize:e,results:t};this.postFeatures(n)}.bind(this)}),t},this.findExtractor=function(e){var t=e;return i.find((function(e){return e.frameSize===t}))},this.deleteExtractor=function(e){}},r=[];this.updateFeatures=function(t){var i;for(i=0;i<t.length;i++){if(void 0===r[i]){if(i>e.plugin.numOutputs)throw"Requested an output that does not exist";r[i]=new n(e.plugin,e.plugin.outputs[i],i),Object.defineProperty(r[i],"postFeatures",{value:function(e){this.postFeatures(e)}.bind(this)})}var a;for(a=0;a<t[i].length;a++){var u=r[i].findExtractor(t[i][a].frameSize);u||(u=r[i].addExtractor(t[i][a].frameSize)),u.setFeatures(t[i][a].featureList)}}},this.postFeatures=function(t){e.plugin.factory.FeatureMap.postFeatures({plugin:e.plugin.pluginInstance,outputIndex:t.outputIndex,frameSize:t.frameSize,results:t.results})},t.createSourceMap(this,e.plugin.pluginInstance)},w=function(e){this.plugin=e,this.Receiver=new b(this,e.factory.FeatureMap),this.Sender=new P(this,e.factory.FeatureMap),Object.defineProperty(this,"onfeatures",{get:function(){return this.Receiver.onfeatures},set:function(e){return this.Receiver.onfeatures=e,e}})},O=function(e,t,n,r){this.input=e,this.processor=n,this.GUI=r,this.AudioParam=t,this.handleEvent=function(e){this.AudioParam.value=this.input.value},this.input.addEventListener("change",this),this.input.addEventListener("mousemove",this),this.input.addEventListener("click",this)},S=function(e,t,n){console.log("DEPRECATED!!"),console.log("The class PluginUserInterface has been deprecated"),console.log("Please look at the documents for the new methods for building plugins"),this.processor=e,this.root=document.createElement("div"),t>0&&(this.root.style.width=t+"px"),n>0&&(this.root.style.height=n+"px"),this.dim={width:t,height:n},this.intervalFunction=null,this.updateInterval=null,this.PluginParameterInterfaces=[],this.createPluginParameterInterfaceNode=function(e,t){var n=new O(e,t,this.processor,this);return this.PluginParameterInterfaces.push(n),n},this.update=function(){}};S.prototype.getRoot=function(){return this.root},S.prototype.getDimensions=function(){return this.dim},S.prototype.getWidth=function(){return this.dim.width},S.prototype.getHeight=function(){return this.dim.height},S.prototype.beginCallbacks=function(e){void 0===e&&(e=250),null===this.intervalFunction&&(this.updateInterval=e,this.intervalFunction=window.setInterval(function(){this.update()}.bind(this),250))},S.prototype.stopCallbacks=function(){null!==this.intervalFunction&&(window.clearInterval(this.intervalFunction),this.updateInterval=null,this.intervalFunction=null)},S.prototype.loadResource=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?t(r.response):n(Error(r.statusText))},r.onerror=function(){n(Error("Network Error"))},r.send()}))},S.prototype.clearGUI=function(){this.stopCallbacks(),this.root.innerHTML=""};var A=n(0);function j(e,t){function n(t){var n=t.detail.term,i=t.detail.value;r[n]&&"function"==typeof r[n]&&r[n].call(e,i)}var r={};t.addEventListener("altered",n),Object.defineProperties(this,{destroy:{value:function(){t.removeEventListener("altered",n)}},requestTerm:{value:function(e){return t.getTerm(e)}},listenForTerm:{value:function(e,t){if(r.hasOwnProperty(e))throw"Listener already exists";r[e]=t}},releaseListenerForTerm:{value:function(e){r[e]=void 0}}})}function E(e,t,n,r,i){var a=t.pluginAssets.createAssetPackSelector(e,t.pluginAssets.assetPacks[0]),u=e.parameters.createListParameter(n,t.pluginAssets.assetPacks[0].name,t.pluginAssets.assetPacks.map(e=>e.name),void 0,r,i);u.trigger=function(){var e=t.pluginAssets.assetPacks.find(e=>u.value==e.name);a.selectPack(e)},Object.defineProperties(this,{parameter:{value:u},availablePacks:{get:function(){return t.pluginAssets.assetPacks}},selectPack:{value:function(e){return u.value=e}},selectedPack:{get:function(){return u.value}},loadAssets:{value:a.loadAssets},allAssetsLoaded:{value:a.allAssetsLoaded},fetchAssetByName:{value:a.fetchAssetByName},waitForAssets:{value:a.waitForAssets},value:{get:function(){return u.value},set:function(e){return u.value=e}},onload:{get:function(){return a.onload},set:function(e){return a.onload=e}},onerror:{get:function(){return a.onerror},set:function(e){return a.onerror=e}}})}"function"==typeof AudioNode&&void 0===window.importScripts&&(AudioNode.prototype.getInputs=function(){return[this]});var x=function(e,t){var n=[],r=[],i=t,a=0,u=new EventTarget,o=new y(this);function s(e,t){var n=t.findIndex((function(e){return e===this}),e);return-1!==n&&(t.splice(n,1),!0)}void 0===this.context&&(this.context=e.context),void 0===this.factory&&(this.factory=e),this.featureMap=new w(this),this.parameters=new g(this,o),this.parameters.addEventListener("parameterset",(function(e){u.dispatchEvent(new CustomEvent("parameterset",{detail:e.detail}))})),this.addAssetPackInterface=function(t,n,r){return new E(this,e,t,n,r)},this.PluginData=new A.a("Plugin"),this.sessionDataInterface=new j(this,e.SessionData),this.userDataInterface=new j(this,e.UserData),this.trackDataInterface=new j(this,t.TrackData),this.pluginDataInterface=new j(this,this.PluginData),this.delete=function(){this.sessionDataInterface.destroy(),this.userDataInterface.destroy(),this.trackDataInterface.destroy(),this.pluginDataInterface.destroy(),this.deconstruct&&"function"==typeof this.deconstruct&&this.deconstruct()},this.addInput=function(e){return n.push(e),n},this.deleteInput=function(e){return s(e,n)},this.addOutput=function(e){return r.push(e),this.outputs},this.deleteOutput=function(e){return s(e,r)},this.setProcessingDelayAsSeconds=function(t){var n=e.context.sampleRate;if("number"==typeof t&&isFinite(t)&&t>=0)return this.setProcessingDelayAsSamples(t*n)/n;throw"setProcessingDelayAsSeconds Invalid argument"},this.setProcessingDelayAsSamples=function(e){if("number"==typeof e&&isFinite(e)&&e>=0){a=e;var t=new Event("alterdelay");return u.dispatchEvent(t),a}throw"setProcessingDelayAsSamples Invalid argument"},this.start=this.stop=this.onloaded=this.onunloaded=this.deconstruct=function(){},Object.defineProperties(this,{externalInterface:{value:o},numInputs:{get:function(){return n.length},set:function(){throw"Cannot set the number of inputs of BasePlugin"}},numOutputs:{get:function(){return r.length},set:function(){throw"Cannot set the number of outputs of BasePlugin"}},numParameters:{get:function(){return this.parameters.parameters.length},set:function(){throw"Cannot set the number of parameters of BasePlugin"}},owner:{get:function(){return i},set:function(e){return"object"==typeof e&&(i=e),i}},inputs:{get:function(e){return n},set:function(){throw"Illegal attempt to modify BasePlugin"}},outputs:{get:function(e){return r},set:function(){throw"Illegal attempt to modify BasePlugin"}},processingDelayAsSamples:{get:function(){return a},set:this.setProcessingDelayAsSamples},processingDelayAsSeconds:{get:function(){return a/e.context.sampleRate},set:this.setProcessingDelayAsSeconds},connect:{value:function(e){this.outputs[0].connect(e.inpt?e.input:e)}},disconnect:{value:function(e){void 0===e?this.outputs[0].disconnect():this.outputs[0].disconnect(e.input?e.input:e)}},getInputs:{value:function(){return this.inputs}},getOutputs:{value:function(){return this.outputs}},getParameterNames:{value:function(){return this.parameters.getParameterNames()}},getParameterByName:{value:function(e){return this.parameters.getParameterByName(e)}},getParameterObject:{value:function(){return this.parameters.getParameterObject()}},setParameterByName:{value:function(e,t){return this.parameters.setParameterByName(e,t)}},setParametersByObject:{value:function(e){return this.parameters.setParametersByObject(e)}},addEventListener:{value:function(e,t){return u.addEventListener(e,t)}},removeEventListener:{value:function(e,t){return u.addEventListener(e,t)}}})},I=function(e,t){var n=!1,r=!1,i="roll";x.call(this,e,t),Object.defineProperties(this,{addInput:{value:function(){throw'Cannot add input to type "SynthesiserBasePlugin"'}},deleteInput:{value:function(){throw'Cannot delete input to type "SynthesiserBasePlugin"'}},scheduleEvent:{value:function(e,t){n||(console.warning("WARNING - .scheduleEvent is not overridden"),n=!0)},writable:!0},cancelAllEvents:{value:function(){r||(console.warning("WARNING - .cancelAllEvents is not overridden"),r=!0)},writable:!0},setEditorType:{value:function(e){return"roll"!=e&&"line"!=e&&"sequencer"!=e||(i=e),i}},getEditorType:{value:function(){return i}},isNoteActive:{value:function(e){return"number"==typeof e&&e>=0&&e<128},writable:!0},getActiveNoteProperties:{value:function(){for(var e=[],t=0;t<128;t++)e.push({code:t,name:this.midiNoteToName(t)});return e},writable:!0},midiNoteToFrequency:{value:function(e){return 440*Math.pow(2,(e-69)/12)}},frequencyToMidiNote:{value:function(e){return Math.round(12*Math.log2(e/440))+69}},midiNoteToName:{value:function(e){var t=e-21,n=Math.floor(t/12);return["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"][Math.floor((t+36)%12)]+String(n)}},noteNameToMIDI:{value:function(e){return 12*Number(e.slice(e.length-1))+["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"].indexOf(e.slice(0,e.length-1))+21}}})};(I.prototype=Object.create(x.prototype)).constructor=I;var F=function(e,t,n,r,i,a,u){var o=i;t.listenForParameterByName((function(e){o=e.value}),n,!0),Object.defineProperties(this,{name:{value:r},parameterName:{value:n},defaultValue:{value:i},maximum:{value:a},minimum:{value:u},value:{get:function(){return o},set:function(e){return"number"==typeof e&&(o=Math.max(u,Math.min(a,e))),o}},update:{value:function(e){t.setParameterByName(n,e)}}})};var N=function(e,t,n,r,i,a){var u=i;t.listenForParameterByName((function(e){u=e.value}),n,!0),Object.defineProperties(this,{name:{value:r},parameterName:{value:n},defaultValue:{value:i},maximum:{value:maximum},minimum:{value:minimum},value:{get:function(){return u},set:function(e){return a.includes(e)&&(u=e),u}},update:{value:function(e){t.setParameterByName(n,e)}}})};var L=function(e,t,n,r,i){var a=i;t.listenForParameterByName((function(e){a=e.value}),n,!0),Object.defineProperties(this,{name:{value:r},parameterName:{value:n},defaultValue:{value:i},maximum:{value:maximum},minimum:{value:minimum},value:{get:function(){return a},set:function(e){return"string"==typeof e&&(a=e),a}},update:{value:function(e){t.setParameterByName(n,e)}}})};var T=function(e,t,n,r,i,a,u){var o=i;t.listenForParameterByName((function(e){o=e.value}),n,!0),Object.defineProperties(this,{name:{value:r},parameterName:{value:n},defaultValue:{value:i},maximum:{value:maximum},minimum:{value:minimum},value:{get:function(){return o},set:function(e){return"number"==typeof e&&(o=Math.max(u,Math.min(a,e))),o}},increment:{value:function(){var e=o+1;return e>a&&(e=u),o=e}},decrement:{value:function(){var e=o-1;return e<u&&(e=a),o=e}},update:{value:function(e){t.setParameterByName(n,e)}}})};var M=function(e){var t=[];Object.defineProperties(this,{createNumberParameterListener:{value:function(n,r,i,a,u){var o=new F(this,e,n,r,i,a,u);return t.push(o),o}},createListParameterListener:{value:function(n,r,i,a){var u=new N(this,e,n,r,i,a);return t.push(u),u}},createStringParameterListener:{value:function(n,r,i){var a=new L(this,e,n,r,i);return t.push(a),a}},createSwitchParameterListener:{value:function(n,r,i,a,u){var o=new T(this,e,n,r,i,a,u);return t.push(o),o}}})};function C(){function e(e){if(void 0===e||void 0===e.message)throw"Malformed message object";e.sender_id=r,t.postMessage(e,window.location.origin)}var t;window.opener?t=window.opener:window.parent&&(t=window.parent);var n,r=(n=new Uint8Array(16),window.crypto.getRandomValues(n),Array.from(n,(function(e){return("0"+e.toString(16)).substr(-2)})).join("")),i=[],a=[],u=[];window.onmessage=function(e){if(e.source==t&&e.data.sender_id!=r){var n;switch(e.data.message){case"updateParameters":n=new CustomEvent("parametersChanged",{detail:e.data});break;case"updateState":n=new CustomEvent("updateState",{detail:e.data});break;default:return}window.dispatchEvent(n)}},window.addEventListener("parametersChanged",(function(e){e.detail.parameters&&(Object.keys(e.detail.parameters).forEach((function(t){i.filter((function(e){return e.name==t||void 0===e.name})).forEach((function(n){n.callback(e.detail.parameters[t])}))})),a.forEach((function(t){t(e.detail.parameters)})))})),window.addEventListener("updateState",(function(e){u.filter((function(t){return t.level==e.detail.level&&t.term==e.detail.term})).forEach((function(t){t.callback(e.detail.value)}))})),this.parameterListenerManager=new M(this),Object.defineProperties(this,{pluginInstance:{get:function(){return window.pluginInstance}},setParameterByName:{value:function(t,n){if("string"!=typeof t)throw"Expects parameter name to be a string";e({message:"setParameterByName",parameter:{name:t,value:n}})}},setParameterByObject:{value:function(t){e({message:"setParameterByObject",parameters:t})}},requestParameters:{value:function(){e({message:"requestParameters"})}},requestParameterByName:{value:function(t){if("string"!=typeof t)throw"Name not set";e({message:"requestParameters",name:t})}},listenForParameterByName:{value:function(t,n,r){if(void 0===t||"function"!=typeof t)throw"Callback must be a defined function";return i.push({name:n,callback:t}),!1!==r&&e({message:"requestParameters",name:n}),i.length}},listenForParameters:{value:function(t,n){if(void 0===t||"function"!=typeof t)throw"Callback must be a defined function";return a.push(t),!1!==n&&e({message:"requestParameters"}),a.length}},listenForState:{value:function(e,t,n,r){if(void 0===e||"function"!=typeof e)throw"Callback must be a defined function";if("session"!=t&&"track"!=t&&"user"!=t&&"plugin"!=t)throw"Invalid state level given: "+String(t);return u.push({level:t,term:n,callback:e}),!1!==r&&this.requestState(t,n),u.length}},requestState:{value:function(t,n){var r="request"+t.charAt(0).toUpperCase()+t.slice(1)+"State";if("string"!=typeof name)throw"Name not set";e({message:r,term:n})}},sendCustomEvent:{value:function(t,n){e({message:"customMessage",detail:{type:t,payload:n}})}}})}n.d(t,"BasePluginEditorChannel",(function(){return C})),n.d(t,"BasePlugin",(function(){return x})),n.d(t,"SynthesiserBasePlugin",(function(){return I})),n.d(t,"PluginFactory",(function(){return r.a}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9KU0FQL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0pTQVAvLi9zcmMvTGlua2VkU3RvcmUuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L1BsdWdpbkZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L01pZGlTeW50aGVzaXNlckhvc3QuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L1BsdWdpblVzZXJJbnRlcmZhY2VNZXNzYWdlSHViLmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvRmFjdG9yeS9BdWRpb1BsdWdpbkNoYWluTWFuYWdlci9TdWJGYWN0b3J5RmVhdHVyZVNlbmRlci9Xb3JrZXJFeHRyYWN0b3IuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L0F1ZGlvUGx1Z2luQ2hhaW5NYW5hZ2VyL1N1YkZhY3RvcnlGZWF0dXJlU2VuZGVyL0V4dHJhY3Rvci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvQXVkaW9QbHVnaW5DaGFpbk1hbmFnZXIvU3ViRmFjdG9yeUZlYXR1cmVTZW5kZXIvT3V0cHV0Tm9kZS5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvQXVkaW9QbHVnaW5DaGFpbk1hbmFnZXIvU3ViRmFjdG9yeUZlYXR1cmVTZW5kZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L0F1ZGlvUGx1Z2luQ2hhaW5NYW5hZ2VyL2luZGV4LmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvRmFjdG9yeS9GZWF0dXJlTWFwL1JlcXVlc3Rvck1hcC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvRmVhdHVyZU1hcC9Tb3VyY2VNYXAuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L0ZlYXR1cmVNYXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L1BsdWdpbkFzc2V0cy9QbHVnaW5Bc3NldC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvUGx1Z2luQXNzZXRzL1BsdWdpbkFzc2V0c0xpc3QuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L1BsdWdpbkFzc2V0cy9Bc3NldFBhY2tTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvUGx1Z2luQXNzZXRzL1BsdWdpbkFzc2V0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvUGx1Z2luSW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9GYWN0b3J5L01pZGlTeW50aGVzaXNJbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0ZhY3RvcnkvUGx1Z2luUHJvdG90eXBlLmpzIiwid2VicGFjazovL0pTQVAvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvQmFzZVBsdWdpbi9wYXJhbWV0ZXJzL1BsdWdpblBhcmFtZXRlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vcGFyYW1ldGVycy9QYXJhbWV0ZXJBdXRvbWF0aW9uLmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvQmFzZVBsdWdpbi9wYXJhbWV0ZXJzL051bWJlclBhcmFtZXRlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vcGFyYW1ldGVycy9TdHJpbmdQYXJhbWV0ZXIuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9CYXNlUGx1Z2luL3BhcmFtZXRlcnMvQnV0dG9uUGFyYW1ldGVyLmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvQmFzZVBsdWdpbi9wYXJhbWV0ZXJzL1N3aXRjaFBhcmFtZXRlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vcGFyYW1ldGVycy9MaXN0UGFyYW1ldGVyLmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvQmFzZVBsdWdpbi9wYXJhbWV0ZXJzL1VSTFBhcmFtZXRlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vcGFyYW1ldGVycy9Bc3NldFBhcmFtZXRlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vcGFyYW1ldGVyTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vUGx1Z2luSW50ZXJmYWNlTWVzc2FnZUh1Yi5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vUGx1Z2luRmVhdHVyZUludGVyZmFjZS9QbHVnaW5GZWF0dXJlSW50ZXJmYWNlUmVjZWl2ZXIuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9CYXNlUGx1Z2luL1BsdWdpbkZlYXR1cmVJbnRlcmZhY2UvUGx1Z2luRmVhdHVyZUludGVyZmFjZVNlbmRlci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vUGx1Z2luRmVhdHVyZUludGVyZmFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vUGx1Z2luVXNlckludGVyZmFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL0Jhc2VQbHVnaW4vTGlua2VkU3RvcmVJbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9CYXNlUGx1Z2luL0Fzc2V0UGFja1NlbGVjdG9ySW50ZXJmYWNlLmpzIiwid2VicGFjazovL0pTQVAvLi9zcmMvQmFzZVBsdWdpbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL1N5bnRoZXNpc2VyQmFzZVBsdWdpbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL1BhcmFtZXRlckxpc3RlbmVycy9OdW1iZXJQYXJhbWV0ZXJMaXN0ZW5lci5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL1BhcmFtZXRlckxpc3RlbmVycy9MaXN0UGFyYW1ldGVyTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9QYXJhbWV0ZXJMaXN0ZW5lcnMvU3RyaW5nUGFyYW1ldGVyTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9QYXJhbWV0ZXJMaXN0ZW5lcnMvU3dpdGNoUGFyYW1ldGVyTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9QYXJhbWV0ZXJMaXN0ZW5lcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vSlNBUC8uL3NyYy9CYXNlUGx1Z2luRWRpdG9yQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly9KU0FQLy4vc3JjL21vZHVsZS5qcyJdLCJuYW1lcyI6WyJlbnVtZXJhYmxlIiwiZ2V0IiwiZ2V0dGVyIiwidmFsdWUiLCJrZXkiLCJiaW5kIiwibW9kdWxlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwib2JqZWN0IiwicHJvcGVydHkiLCJzdG9yZU5hbWUiLCJldCIsIkV2ZW50VGFyZ2V0Iiwicm9vdCIsIm9iamVjdFRvWE1MIiwib2JqIiwiZG9jIiwidGVybSIsImRvY05vZGUiLCJ0b1hNTCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImxlbmd0aCIsImFycmF5VG9YTUwiLCJzZXRBdHRyaWJ1dGUiLCJhcnIiLCJhbGxfbnVtYmVycyIsImFsbF9zdHJpbmdzIiwiZXZlcnkiLCJhIiwiZm9yRWFjaCIsImkiLCJub2RlIiwiZG9jdW1lbnQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGhpcyIsImIiLCJjIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJuYW1lIiwidW5kZWZpbmVkIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwidGVybXNPYmplY3QiLCJzZXRUZXJtIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVEb2N1bWVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiUGx1Z2luRmFjdG9yeSIsImF1ZGlvX2NvbnRleHQiLCJyb290VVJMIiwicGx1Z2luQXVkaW9TdGFydCIsInByb2dyYW1fdGltZSIsImNvbnRleHRfdGltZSIsInN0YXJ0IiwicGFyYW1ldGVycyIsImdldFBhcmFtZXRlck5hbWVzIiwibiIsInAiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJlbmFibGVkIiwidHJpZ2dlckF1ZGlvU3RvcCIsInBsdWdpbnNMaXN0IiwiY3QiLCJjdXJyZW50VGltZSIsInN0b3AiLCJhdWRpb1N0YXJ0UHJvZ3JhbVRpbWUiLCJhdWRpb1N0YXJ0Q29udGV4dFRpbWUiLCJzdWJGYWN0b3JpZXMiLCJzeW50aGVzaXNlckhvc3RzIiwicGx1Z2luX3Byb3RvdHlwZXMiLCJhdWRpb1N0YXJ0ZWQiLCJwbHVnaW5Vc2VySW50ZXJmYWNlTWVzc2FnZUh1YkludGFuY2UiLCJzdG9yZXMiLCJwbHVnaW5Bc3NldHMiLCJsb2FkUHJvdG90eXBlTW9kdWxlIiwicmVzb3VyY2VPYmplY3QiLCJtdXN0TW9kdWxlIiwiZmFjdG9yeSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2xvYmFsIiwiZGVmaW5lIiwiYW1kIiwicmVxdWlyZSIsInVybCIsImYiLCJleHBvcnRzIiwidGhlbiIsImV4ZWN1dGFibGUiLCJhZGRQcm90b3R5cGUiLCJjYXRjaCIsImNvbnNvbGUiLCJ3YXJuIiwibG9hZFBsdWdpblNjcmlwdCIsImxvYWRSZXNvdXJjZSIsInRlc3QiLCJyZXNwb25zZSIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsInJldHVybk9iamVjdCIsIndpbmRvdyIsInN0YXJ0c1dpdGgiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic2NyaXB0IiwidGV4dENvbnRlbnQiLCJyZXNwb25zZVRleHQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNlbmQiLCJTdHJpbmciLCJwbHVnaW4iLCJpbmplY3RQcm90b3R5cGUiLCJwcm90b3R5cGVFeGVjdXRhYmxlIiwicGx1Z2luX3Byb3RvIiwidmVyc2lvbiIsInVuaXF1ZUlEIiwidGVzdE9iaiIsImZpbmQiLCJlIiwicGFyYW0iLCJtYXRjaCIsInB1c2giLCJnZXRQcm90b3R5cGVzIiwiZ2V0QXVkaW9QbHVnaW5Qcm90b3R5cGVzIiwiZmlsdGVyIiwicHJvdG8iLCJoYXNNaWRpSW5wdXQiLCJoYXNNaWRpT3V0cHV0IiwiZ2V0TWlkaVN5bnRoUHJvdG90eXBlcyIsImdldE1pZGlQbHVnaW5Qcm90b3R5cGVzIiwiZ2V0QWxsUGx1Z2lucyIsImdldEFsbFBsdWdpbnNPYmplY3QiLCJnZXRQbHVnaW5zIiwiY3JlYXRlU3ViRmFjdG9yeSIsImNoYWluU3RhcnQiLCJjaGFpblN0b3AiLCJjcmVhdGVBdWRpb1BsdWdpbkNoYWluTWFuYWdlciIsImRlc3Ryb3lTdWJGYWN0b3J5IiwiZGVzdHJveUF1ZGlvUGx1Z2luQ2hhaW5NYW5hZ2VyIiwiU2Vzc2lvbkRhdGEiLCJVc2VyRGF0YSIsImR1cGxpY2F0ZUF1ZGlvUGx1Z2luQ2hhaW5NYW5hZ2VyIiwic291cmNlQ2hhaW5NYW5hZ2VyIiwicHJvbWlzZUNoYWluIiwicGx1Z2luX29iamVjdCIsImNyZWF0ZVBsdWdpbiIsInByb3RvdHlwZU9iamVjdCIsIm5ld1BsdWdpbiIsInNldFBhcmFtZXRlcnNCeU9iamVjdCIsImdldFBhcmFtZXRlck9iamVjdCIsIlN1YkZhY3RvcnkiLCJpbmRleCIsImZpbmRJbmRleCIsImVsZW1lbnQiLCJzcGxpY2UiLCJkZXN0cm95IiwiY3JlYXRlTWlkaVN5bnRoZXNpc2VySG9zdCIsImhvc3QiLCJkZXN0cm95TWlkaVN5bnRoZXNpc2VySG9zdCIsInJlZ2lzdGVyUGx1Z2luSW5zdGFuY2UiLCJpbnN0YW5jZSIsImdldEN1cnJlbnRQcm9ncmFtVGltZSIsImRlbGV0ZVBsdWdpbiIsImluZGV4T2YiLCJkZWxldGUiLCJleHRlcm5hbEludGVyZmFjZSIsImNsb3NlV2luZG93cyIsInNldEN1cnJlbnRQcm9ncmFtVGltZSIsInRpbWUiLCJQbHVnaW5HVUkiLCJwb2xsQWxsUGx1Z2lucyIsImF1ZGlvU3RhcnQiLCJ0cmlnZ2VyQXVkaW9TdGFydCIsImF1ZGlvU3RvcCIsImNyZWF0ZVN0b3JlIiwiZ2V0U3RvcmVzIiwiZmluZFN0b3JlIiwiRmVhdHVyZU1hcCIsImRlZmluZVByb3BlcnR5IiwidCIsImNvbnRleHQiLCJuZXdjb250ZXh0Iiwic2FtcGxlUmF0ZSIsIkVycm9yIiwiQkZhY3RvcnkiLCJwcm9taXNlcyIsImFsbCIsIm5ld0ZhY3RvcnkiLCJpbXBvcnRGcm9tQXNzZXRMaXN0cyIsIk1pZGlTeW50aGVzaXNlckhvc3QiLCJtaWRpU3ludGhTbG90Iiwic2VsZiIsImJ1aWxkTmV3U3ludGhlc2lzZXJPYmplY3QiLCJpZCIsImNyZWF0ZVBsdWdpbkluc3RhbmNlIiwiVHJhY2tEYXRhIiwiY29ubmVjdGlvbnMiLCJkZXN0aW5hdGlvbk5vZGUiLCJvdXRwdXQiLCJpbnB1dCIsImNvbm4iLCJjb25uZWN0IiwiZGlzY29ubmVjdCIsIm1zZyIsInNjaGVkdWxlRXZlbnQiLCJjYW5jZWxBbGxFdmVudHMiLCJsb2ciLCJvbmxvYWRlZCIsIlBsdWdpblVzZXJJbnRlcmZhY2VNZXNzYWdlSHViIiwiY3JlYXRlIiwid2lkdGgiLCJoZWlnaHQiLCJpbnRlcmZhY2Vfb2JqZWN0IiwiaWZyYW1lIiwic3JjIiwic3R5bGUiLCJib3JkZXIiLCJvcHRzIiwidyIsInJlZ2lzdGVyV2luZG93IiwidXBkYXRlSW50ZXJmYWNlcyIsImZyYW1lU2l6ZSIsIm9uYXVkaW9jYWxsYmFjayIsImZyYW1lcyIsImlucHV0QnVmZmVyIiwibnVtYmVyT2ZDaGFubmVscyIsImdldENoYW5uZWxEYXRhIiwid29ya2VyIiwicG9zdE1lc3NhZ2UiLCJwb3N0RmVhdHVyZXMiLCJkYXRhIiwiV29ya2VyIiwib25lcnJvciIsImVycm9yIiwic2V0RmVhdHVyZXMiLCJmZWF0dXJlTGlzdCIsImNvbmZpZ01lc3NhZ2UiLCJudW1iZXJPZk91dHB1dHMiLCJmZWF0dXJlcyIsIm9ubWVzc2FnZSIsInN0YXRlIiwiZXh0cmFjdG9yIiwib25hdWRpb3Byb2Nlc3MiLCJyZWpvaW5FeHRyYWN0b3IiLCJjcmVhdGVTY3JpcHRQcm9jZXNzb3IiLCJkZXN0aW5hdGlvbiIsImNyZWF0ZUFuYWx5c2VyIiwiZmZ0U2l6ZSIsInJlY3Vyc2l2ZVByb2Nlc3NpbmciLCJvd25lciIsIm1lc3NhZ2UiLCJyZXN1bHRzIiwidG9KU09OIiwiY2xlYXJDYWxsYmFjayIsImZyYW1lQ2FsbGJhY2siLCJwYXJlbnQiLCJleHRyYWN0b3JzIiwiYWRkRXh0cmFjdG9yIiwicmVzdWx0c0pTT04iLCJmaW5kRXh0cmFjdG9yIiwiY2hlY2siLCJOdW1iZXIiLCJyZWpvaW5FeHRyYWN0b3JzIiwiZGVsZXRlRXh0cmFjdG9yIiwiU3ViRmFjdG9yeUZlYXR1cmVTZW5kZXIiLCJGYWN0b3J5RmVhdHVyZU1hcCIsIm91dHB1dE5vZGVzIiwidXBkYXRlRmVhdHVyZXMiLCJmZWF0dXJlT2JqZWN0IiwibyIsInJlc3VsdE9iamVjdCIsInNpIiwib3V0cHV0SW5kZXgiLCJjcmVhdGVTb3VyY2VNYXAiLCJwbHVnaW5fbGlzdCIsInBsdWdpbkNoYWluU3RhcnQiLCJwbHVnaW5DaGFpblN0b3AiLCJmYWN0b3J5TmFtZSIsImRlbGF5U2FtcGxlcyIsImNoYWluU3RhcnRGZWF0dXJlIiwiZXZlbnRUYXJnZXQiLCJyZWJ1aWxkIiwibCIsImN1cnJlbnROb2RlIiwibmV4dE5vZGUiLCJyZWNvbm5lY3QiLCJpc29sYXRlIiwiY3V0Q2hhaW4iLCJqb2luQ2hhaW4iLCJidWlsZE5ld1BsdWdpbiIsImJhc2UiLCJsaXN0IiwiZW50cnkiLCJhcHBseSIsInJlc3VsdCIsInVwZGF0ZURlbGF5Q29tcGVuc2F0aW9uIiwic3VtIiwiaXNCeXBhc3NlZCIsInByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyIsImdldERlbGF5Q29tcGVuc2F0aW9uIiwiRXZlbnQiLCJMaW5rZWRTdG9yZSIsImZlYXR1cmVTZW5kZXIiLCJnZXRGZWF0dXJlQ2hhaW4iLCJieXBhc3NQbHVnaW4iLCJwbHVnaW5faW5zdGFuY2UiLCJpbmNsdWRlcyIsImJ5cGFzcyIsImdldEZhY3RvcnkiLCJkZXN0cm95UGx1Z2luIiwicmVtb3ZlUGx1Z2luIiwiZ2V0UGx1Z2luSW5kZXgiLCJvbnVubG9hZGVkIiwiYXJyYXkiLCJtb3ZlUGx1Z2luIiwibmV3X2luZGV4IiwiaG9sZExvdyIsImhvbGRIaWdoIiwiY29uY2F0Iiwic2xpY2UiLCJjb3B5UGx1Z2luIiwiY29weV9pbmRleCIsIlJlcXVlc3Rvck1hcCIsInBsdWdpbkluc3RhbmNlIiwiRmVhdHVyZXMiLCJmZWF0dXJlTWFwIiwiUmVjZWl2ZXIiLCJnZXRSZXF1ZXN0b3JJbnN0YW5jZSIsImFkZEZlYXR1cmVzIiwicmVjdXJzaXZlbHlBZGRGZWF0dXJlcyIsInJvb3RBcnJheSIsImZlYXR1cmVOb2RlIiwiZ2V0RmVhdHVyZU5vZGUiLCJhZGRGZWF0dXJlTm9kZSIsImRlbGV0ZUZlYXR1cmVzIiwicmVjdXJzaXZlbHlEZWxldGVGZWF0dXJlcyIsImdldEZlYXR1cmVMaXN0IiwicmVjdXJzaXZlUG9zdEZlYXR1cmVzIiwicm9vdE5vZGUiLCJyZXN1bHRzTGlzdCIsIkZlYXR1cmVMaXN0IiwiYW8iLCJjb25zdHJ1Y3RvciIsIlNvdXJjZU1hcCIsIlNlbmRlciIsInBsdWdpbkluc3RhY2UiLCJNYXBwaW5ncyIsImZpbmRGZWF0dXJlT2JqZWN0IiwidXBkYXRlU2VuZGVyIiwicmVjdXJzaXZlRmluZCIsIm91dHB1dExpc3QiLCJmcmFtZUxpc3QiLCJnZXRTb3VyY2VJbnN0YW5jZSIsImdldFNlbmRlciIsInJlcXVlc3RGZWF0dXJlcyIsInJlcXVlc3Rvckluc3RhbmNlIiwibWFwIiwiRiIsInJlcXVlc3RvcnMiLCJyZXF1ZXN0b3IiLCJmaW5kRnJhbWVNYXAiLCJjYW5jZWxGZWF0dXJlcyIsInJlcXVlc3RvckluZGV4IiwiZmluZFNvdXJjZUluZGV4IiwiZmluZFNvdXJjZU1hcCIsInNvdXJjZSIsInBsdWdpblNlbmRlciIsInNvdXJjZU1hcCIsImRlbGV0ZVNvdXJjZU1hcCIsImdldFBsdWdpblNlbmRlciIsIlBsdWdpbkluc3RhbmNlIiwiUGx1Z2luQXNzZXQiLCJmYWN0b3J5Q29udGV4dCIsImFzc2V0T2JqZWN0IiwiZmV0Y2giLCJyIiwiYXJyYXlCdWZmZXIiLCJhYiIsImRlY29kZUF1ZGlvRGF0YSIsIlBsdWdpbkFzc2V0c0xpc3QiLCJyZXNvdXJjZVR5cGUiLCJhc3NldE9iamVjdHMiLCJmaW5kQXNzZXRCeVVybCIsImFzc2V0IiwiYWRkQXNzZXRVcmxUb0xpc3QiLCJyZW1vdmVBc3NldEZyb21MaXN0IiwicmVtb3ZlQXNzZXRVcmxGcm9tTGlzdCIsImFzc2V0UGFja01hbmFnZXIiLCJwYWNrIiwiZmV0Y2hBc3NldHMiLCJhc3NldHNMaXN0Iiwib25sb2FkIiwic2VsZWN0UGFjayIsIl9wYWNrIiwiYXNzZXRQYWNrcyIsImFsbEFzc2V0c0xvYWRlZCIsImZldGNoQXNzZXRCeU5hbWUiLCJBcnJheSIsImlzQXJyYXkiLCJzb21lIiwiZmluZFBhY2tCeU5hbWUiLCJhc3NldFBhY2tMaXN0IiwiYWRkUGFja1RvTGlzdCIsImFzc2V0UGFjayIsInJlbW92ZUFzc2V0UGFja0Zyb21MaXN0IiwicmVtb3ZlQXNzZXRQYWNrRnJvbUxpc3RCeU5hbWUiLCJjcmVhdGVBc3NldFBhY2tTZWxlY3RvciIsIm9sZENvbnRleHQiLCJvcmlnaW5hbEFzc2V0UGFjayIsIm5ld0NvbnRleHRQYWNrIiwib3JpZ2luYWxBc3NldCIsImNyZWF0ZUJ1ZmZlciIsImNvcHlUb0NoYW5uZWwiLCJwbHVnaW5fbm9kZSIsIm5leHRfbm9kZSIsIl9ieXBhc3NlZCIsImV2IiwiX2luIiwiY3JlYXRlR2FpbiIsIl9vdXQiLCJnZXRJbnB1dHMiLCJnZXRPdXRwdXRzIiwibmV3X25leHQiLCJNaWRpU3ludGhlc2lzSW5zdGFuY2UiLCJzeW50aE5vZGUiLCJQbHVnaW5Qcm90b3R5cGUiLCJsb2FkUmVzb3VyY2VDaGFpbiIsImsiLCJyZXNvdXJjZXMiLCJsb2FkU3R5bGVzaGVldCIsImNzcyIsInJlY3Vyc2l2ZUdldFRlc3QiLCJhc3luYyIsInJlc291cmNlUHJvbWlzZXMiLCJjaGVja0lzUmVhZHkiLCJpbml0aWFsaXNlIiwicmVzb3VyY2UiLCJwcm9taXNlIiwiY29tcGxldGUiLCJnZXRSZXNvdXJjZVByb21pc2VzIiwiZyIsIkZ1bmN0aW9uIiwiUGx1Z2luUGFyYW1ldGVyIiwiZGF0YVR5cGUiLCJ2aXNpYmxlTmFtZSIsImV4cG9zZWQiLCJ1cGRhdGUiLCJ0cmFuc2xhdGUiLCJ0cmlnZ2VyIiwidiIsImxpc3RlbmVyIiwib3B0aW9ucyIsInBhcmFtZXRlciIsImFwIiwiVGltZVBvaW50IiwidG9TdHJpbmdGdW5jIiwiaXNGaW5pdGUiLCJzZXRUaW1lIiwic2V0VmFsdWUiLCJNYXRoIiwibWluIiwibWF4IiwibWluaW11bSIsIm1heGltdW0iLCJUaW1lUG9pbnRMaXN0IiwibWluX3ZhbHVlIiwibWF4X3ZhbHVlIiwiZ2V0UG9pbnRBdFRpbWUiLCJhdXRvbWF0aW9uUG9pbnRzIiwic29ydFBvaW50cyIsInNvcnQiLCJoYXNQb2ludEF0VGltZSIsInBvaW50Iiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwiSW5maW5pdHkiLCJQYXJhbWV0ZXJBdXRvbWF0aW9uIiwiUGFyYW1ldGVyTGluZWFyQXV0b21hdGlvbiIsImdldEN1cnJlbnRUaW1lVmFsdWUiLCJmaXJzdFBvaW50IiwicmVkdWNlIiwibmV4dFBvaW50Iiwic2Vjb25kUG9pbnQiLCJwb2ludEEiLCJwb2ludEIiLCJ0MSIsInQyIiwibGluZWFySW50ZXJwb2xhdGlvbiIsImdldFBvaW50cyIsImNvbnRleHRUaW1lIiwic3RhcnRQb3NpdGlvbiIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXMiLCJQYXJhbWV0ZXJTdGVwQXV0b21hdGlvbiIsIk51bWJlclBhcmFtZXRlciIsImRlZmF1bHRWYWx1ZSIsImF1ZGlvUGFyYW1ldGVyIiwiYXV0b21hdGlvbiIsIl9zdGVwU2l6ZSIsIl92YWx1ZSIsInJvdW5kIiwidHJpZ2dlclBhcmFtZXRlclNldCIsImdldFZhbHVlQXRUaW1lUG9pbnQiLCJTdHJpbmdQYXJhbWV0ZXIiLCJtYXhMZW5ndGgiLCJib3VuZEF1ZGlvUGFyYW0iLCJCdXR0b25QYXJhbWV0ZXIiLCJvbmNsaWNrIiwiU3dpdGNoUGFyYW1ldGVyIiwibWluU3RhdGUiLCJtYXhTdGF0ZSIsIkxpc3RQYXJhbWV0ZXIiLCJsaXN0T2ZWYWx1ZXMiLCJfaW5kZXgiLCJzZXRWIiwibGlzdFZhbHVlcyIsIlVSTFBhcmFtZXRlciIsInJlc3BvbnNlVHlwZSIsInN0YXR1cyIsInRhcmdldCIsImNvZGUiLCJvbnRpbWVvdXQiLCJBc3NldFBhcmFtZXRlciIsImF1ZGlvQnVmZmVyIiwib25sb2FkQ2FsbGJhY2siLCJvbmVycm9yQ2FsbGJhY2siLCJyZXNvdXJjZU9wdGlvbnMiLCJmbGF0IiwiYXNzZXRMaXN0IiwibG9hZEFzc2V0IiwiYnVmZmVyIiwidHYiLCJpdGVtIiwiYXVkaW9CdWZmZXJQcm9taXNlIiwidG9TdHJpbmciLCJsb2FkZWQiLCJQYXJhbWV0ZXJNYW5hZ2VyIiwicGx1Z2luRXh0ZXJuYWxJbnRlcmZhY2UiLCJwYXJhbWV0ZXJMaXN0IiwiZmluZFBhcmFtZXRlciIsInNwbGl0IiwiaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlIiwiYnVpbGRQYXJhbWV0ZXJPYmplY3QiLCJhZGRQYXJhbWV0ZXIiLCJzZXRQYXJhbWV0ZXJCeU5hbWUiLCJQbHVnaW5JbnRlcmZhY2VNZXNzYWdlSHViIiwiYnVpbGRQbHVnaW5QYXJhbWV0ZXJKU09OIiwic291cmNlcyIsIm5hbWVzIiwiTyIsImF1dG9tYXRlZCIsImJ1aWxkUGFyYW1ldGVyVXBkYXRlUGF5bG9hZCIsInNlbmRlcl9pZCIsInNlbmRQYXJhbWV0ZXJVcGRhdGVzIiwiY2hhbm5lbCIsImxvY2F0aW9uIiwib3JpZ2luIiwiYnJvYWRjYXN0UGFyYW1ldGVyVXBkYXRlcyIsIndpbmRvd01lc3NhZ2VMaXN0IiwiYnJvYWRjYXN0U3RhdGVDaGFuZ2UiLCJsZXZlbCIsInBhcmFtZXRlck9iamVjdCIsInVwZGF0ZU9iamVjdHMiLCJrZXlzIiwic2V0UGFyYW1ldGVyTWVzc2FnZSIsInNlc3Npb25EYXRhSW50ZXJmYWNlIiwicmVxdWVzdFRlcm0iLCJ0cmFja0RhdGFJbnRlcmZhY2UiLCJ1c2VyRGF0YUludGVyZmFjZSIsInBsdWdpbkRhdGFJbnRlcmZhY2UiLCJhdXRvbWF0aW9uT25seSIsImF1dG9tYXRhYmxlIiwicG9wIiwiY2xvc2UiLCJQbHVnaW5GZWF0dXJlSW50ZXJmYWNlUmVjZWl2ZXIiLCJGZWF0dXJlSW50ZXJmYWNlSW5zdGFuY2UiLCJjaGVja0ZlYXR1cmVBcmdzIiwiY19mZWF0dXJlcyIsInJlcXVlc3RGZWF0dXJlc0Zyb21QbHVnaW4iLCJjYW5jZWxGZWF0dXJlc0Zyb21QbHVnaW4iLCJjYW5jZWxBbGxGZWF0dXJlc0Zyb21QbHVnaW4iLCJjYW5jZWxBbGxGZWF0dXJlcyIsIk1lc3NhZ2UiLCJmdW5jIiwiUGx1Z2luRmVhdHVyZUludGVyZmFjZVNlbmRlciIsIk91dHB1dE5vZGUiLCJFeHRyYWN0b3IiLCJXb3JrZXJFeHRyYWN0b3IiLCJudW1PdXRwdXRzIiwib3V0cHV0cyIsIlBsdWdpbkZlYXR1cmVJbnRlcmZhY2UiLCJCYXNlUGx1Z2luSW5zdGFuY2UiLCJvbmZlYXR1cmVzIiwiUGx1Z2luUGFyYW1ldGVySW50ZXJmYWNlTm9kZSIsIkRPTSIsIlBsdWdpblBhcmFtZXRlckluc3RhbmNlIiwicHJvY2Vzc29yIiwiZ3VpIiwiR1VJIiwiQXVkaW9QYXJhbSIsImhhbmRsZUV2ZW50IiwiZXZlbnQiLCJQbHVnaW5Vc2VySW50ZXJmYWNlIiwiZGltIiwiaW50ZXJ2YWxGdW5jdGlvbiIsInVwZGF0ZUludGVydmFsIiwiUGx1Z2luUGFyYW1ldGVySW50ZXJmYWNlcyIsImNyZWF0ZVBsdWdpblBhcmFtZXRlckludGVyZmFjZU5vZGUiLCJnZXRSb290IiwiZ2V0RGltZW5zaW9ucyIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiYmVnaW5DYWxsYmFja3MiLCJtcyIsInNldEludGVydmFsIiwic3RvcENhbGxiYWNrcyIsImNsZWFySW50ZXJ2YWwiLCJyZXEiLCJzdGF0dXNUZXh0IiwiY2xlYXJHVUkiLCJpbm5lckhUTUwiLCJMaW5rZWRTdG9yZUludGVyZmFjZSIsImxpbmtlZFN0b3JlIiwib25hbHRlcmVkIiwibGlzdGVuZXJzIiwiZ2V0VGVybSIsImNhbGxiYWNrIiwiQXNzZXRQYWNrU2VsZWN0b3JJbnRlcmZhY2UiLCJwYXJhbWV0ZXJOYW1lIiwicGFja1NlbGVjdG9yIiwibGlzdFBhcmFtZXRlciIsImNyZWF0ZUxpc3RQYXJhbWV0ZXIiLCJsb2FkQXNzZXRzIiwid2FpdEZvckFzc2V0cyIsInMiLCJBdWRpb05vZGUiLCJpbXBvcnRTY3JpcHRzIiwiQmFzZVBsdWdpbiIsImlucHV0TGlzdCIsInBPd25lciIsImRlbGV0ZUlPIiwiYWRkQXNzZXRQYWNrSW50ZXJmYWNlIiwiUGx1Z2luRGF0YSIsImRlY29uc3RydWN0IiwiYWRkSW5wdXQiLCJkZWxldGVJbnB1dCIsImFkZE91dHB1dCIsImRlbGV0ZU91dHB1dCIsInNldFByb2Nlc3NpbmdEZWxheUFzU2Vjb25kcyIsInNlY29uZHMiLCJmcyIsInNldFByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyIsInNhbXBsZXMiLCJzZXQiLCJkZXN0IiwiaW5wdCIsImlucHV0cyIsIlN5bnRoZXNpc2VyQmFzZVBsdWdpbiIsImhhc1dhcm5lZFNjaGVkdWxlTm90U2V0IiwiaGFzV2FybmVkQ2FuY2VsTm90U2V0IiwiZWRpdG9yVHlwZSIsIndhcm5pbmciLCJtaWRpTm90ZVRvTmFtZSIsIm0iLCJwb3ciLCJsb2cyIiwib2N0YXZlIiwiZmxvb3IiLCJsaXN0ZW5Gb3JQYXJhbWV0ZXJCeU5hbWUiLCJCYXNlUGx1Z2luRWRpdG9yQ2hhbm5lbCIsInVuaXF1ZV9pZCIsImhvc3RXaW5kb3ciLCJvcGVuZXIiLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiZnJvbSIsImRlYyIsInN1YnN0ciIsImpvaW4iLCJvbnBhcmFtZXRlckxpc3RlbmVycyIsIm9ubGlzdGVuZXJzIiwic3RhdGVsaXN0ZW5lcnMiLCJjdXN0b21FdmVudCIsInBhcmFtZXRlckxpc3RlbmVyTWFuYWdlciIsInRyaWdnZXJSZXF1ZXN0IiwicmVxdWVzdFN0YXRlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJwYXlsb2FkIl0sIm1hcHBpbmdzIjoicUJBQ0EsU0FHQSxjQUdBLFFBQ0Esb0JBR0EsWUFDQSxJQUNBLEtBQ0EsWUFVQSxPQU5BLG1DQUdBLE9BR0EsVUEwREEsT0FyREEsTUFHQSxNQUdBLG9CQUNBLFVBQ0EsMkJBQTJDQSxZQUFZLEVBQU1DLElBQUtDLEtBS2xFLGdCQUNBLGdEQUNBLDRDQUF5REMsTUFBTyxXQUVoRSxzQ0FBa0RBLE9BQU8sS0FRekQsa0JBRUEsR0FEQSxjQUNBLGFBQ0EscURBQ0EsMEJBR0EsR0FGQSxPQUNBLG1DQUEwQ0gsWUFBWSxFQUFNRyxNQUFPQSxJQUNuRSwyREFBaUgsT0FBT0EsRUFBTUMsSUFBUUMsS0FBSyxLQUFNRCxJQUNqSixVQUlBLGdCQUNBLHNCQUNBLFdBQTRCLE9BQU9FLEVBQWdCLFNBQ25ELFdBQWtDLE9BQU9BLEdBRXpDLE9BREEsYUFDQSxHQUlBLGtCQUF1RCxPQUFPQyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFRQyxJQUczRyxPQUlBLFMsK0JDb0VlLElBbEpHLFNBQVVDLEdBR3hCLElBQUlDLEVBQUssSUFBSUMsWUFDVEMsRUFBTyxHQUVYLFNBQVNDLEVBQVlDLEVBQUtGLEVBQU1HLEdBRTVCLElBQUlDLEVBQ0osSUFBS0EsS0FBUUYsRUFBSyxDQUdOLElBQUlHLEVBRlosR0FBSUgsRUFBSVQsZUFBZVcsR0FDbkIsR0FBeUIsaUJBQWRGLEVBQUlFLEdBRVBGLEVBQUlFLEdBQU1FLE1BQ1ZELEVBQVVILEVBQUlFLEdBQU1FLE1BQU1ILElBRTFCRSxFQUFVRixFQUFJSSxjQUFjSCxHQUM1QkosRUFBS1EsWUFBWUgsR0FDYkgsRUFBSUUsR0FBTUssT0FDVkMsRUFBV1IsRUFBSUUsR0FBT0MsRUFBU0YsR0FFL0JGLEVBQVlDLEVBQUlFLEdBQU9DLEVBQVNGLElBR3hDSCxFQUFLUSxZQUFZSCxRQUVqQkwsRUFBS1csYUFBYVAsRUFBTUYsRUFBSUUsS0FNNUMsU0FBU00sRUFBV0UsRUFBS1osRUFBTUcsR0FFM0IsSUFBSVUsRUFDQUMsRUFDT0YsRUFBSUgsT0FDZkksRUFBY0QsRUFBSUcsT0FBTSxTQUFVQyxHQUM5QixNQUFvQixpQkFBTkEsS0FFbEJGLEVBQWNGLEVBQUlHLE9BQU0sU0FBVUMsR0FDOUIsTUFBb0IsaUJBQU5BLEtBRWRILEdBQWVDLEVBRWZGLEVBQUlLLFNBQVEsU0FBVUQsRUFBR0UsR0FDckJsQixFQUFLVyxhQUFhLFNBQVdPLEVBQUdGLE1BSXBDSixFQUFJSyxTQUFRLFNBQVVELEVBQUdFLEdBQ3JCLElBQUlDLEVBQU9DLFNBQVNiLGNBQWMsU0FDbENZLEVBQUtSLGFBQWEsUUFBU08sR0FDM0JqQixFQUFZZSxFQUFHRyxFQUFNaEIsR0FDckJILEVBQUtRLFlBQVlXLE1BSzdCNUIsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixpQkFBb0IsQ0FDaEIsTUFBUyxTQUFTTixFQUFFTyxFQUFFQyxHQUNsQixPQUFPMUIsRUFBRzJCLGlCQUFpQlQsRUFBRU8sRUFBRUMsS0FHdkMsb0JBQXVCLENBQ25CLE1BQVMsU0FBU1IsRUFBRU8sRUFBRUMsR0FDbEIsT0FBTzFCLEVBQUc0QixvQkFBb0JWLEVBQUVPLEVBQUVDLEtBRzFDLEtBQVEsQ0FDSixJQUFPLFdBQ0gsT0FBTzNCLEdBRVgsSUFBTyxTQUFVOEIsR0FDYixRQUFrQkMsSUFBZC9CLEVBR0EsS0FBTSx3QkFJbEIsUUFBVyxDQUNQLE1BQVMsU0FBVU8sRUFBTWpCLEdBQ3JCLEdBQW9CLGlCQUFUaUIsR0FBcUMsSUFBaEJBLEVBQUtLLE9BQ2pDLEtBQU0sd0JBRVZULEVBQUtJLEdBQVFqQixFQUNiVyxFQUFHK0IsY0FBYyxJQUFJQyxZQUFZLFVBQVcsQ0FBQ0MsT0FBTyxDQUFDM0IsS0FBTUEsRUFBTWpCLE1BQU9BLFFBR2hGLFNBQVksQ0FDUixNQUFTLFNBQVU2QyxHQUNmLEdBQTJCLGlCQUFoQkEsRUFDUCxLQUFNLCtDQUVWLElBQUk1QixFQUNKLElBQUtBLEtBQVE0QixFQUNMQSxFQUFZdkMsZUFBZVcsSUFDM0JrQixLQUFLVyxRQUFRN0IsRUFBTTRCLEVBQVk1QixNQUsvQyxXQUFjLENBQ1YsTUFBUyxTQUFVQSxHQUNma0IsS0FBS1csUUFBUTdCLE9BQU13QixLQUczQixRQUFXLENBQ1AsTUFBUyxTQUFVeEIsR0FDZixHQUFvQixpQkFBVEEsR0FBcUMsSUFBaEJBLEVBQUtLLE9BQ2pDLEtBQU0sd0JBRVYsT0FBT1QsRUFBS0ksS0FHcEIsUUFBVyxDQUNQLE1BQVMsU0FBVUEsR0FDZixHQUFvQixpQkFBVEEsR0FBcUMsSUFBaEJBLEVBQUtLLE9BQ2pDLEtBQU0sd0JBRVYsT0FBT1QsRUFBS1AsZUFBZVcsS0FHbkMsT0FBVSxDQUNOLE1BQVMsV0FDTCxPQUFPOEIsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVXBDLE1BR3pDLE1BQVMsQ0FDTCxNQUFTLFNBQVVHLEdBQ2YsSUFBSWdCLEVBUUosT0FISUEsRUFKQ2hCLEVBSU1BLEVBQUlJLGNBQWNWLElBSHpCTSxFQUFNaUIsU0FBU2lCLGVBQWVDLGVBQWUsS0FBTXpDLEVBQVcsT0FDbkQwQyxrQkFJZnRDLEVBQVlELEVBQU1tQixFQUFNaEIsR0FDakJnQixRLDhCQ2hKdkIsaUVBZ2dCZSxJQWxmZixTQUFTcUIsRUFBY0MsRUFBZUMsR0E2Q2xDLFNBQVNDLEVBQWlCeEIsRUFBTXlCLEVBQWNDLEdBQzFDMUIsRUFBSzJCLE1BQU1wRCxLQUFLeUIsRUFBTXlCLEVBQWNDLEdBQ3BDMUIsRUFBSzRCLFdBQVdDLG9CQUFvQi9CLFNBQVEsU0FBU2dDLEdBQ2pELElBQUlDLEVBQUkvQixFQUFLNEIsV0FBV0ksbUJBQW1CRixHQUN2Q0MsRUFBRUUsU0FDRkYsRUFBRUosTUFBTUYsRUFBY0MsTUF1QmxDLFNBQVNRLElBQ0xDLEVBQVlyQyxTQUFRLFNBQVVnQyxHQW5CbEMsSUFBeUI5QixFQUNqQm9DLEVBRGlCcEMsRUFvQkQ4QixFQUFFOUIsS0FuQmxCb0MsRUFBS2QsRUFBY2UsWUFDdkJyQyxFQUFLc0MsS0FBSy9ELEtBQUt5QixFQUFNb0MsR0FDckJwQyxFQUFLNEIsV0FBV0Msb0JBQW9CL0IsU0FBUSxTQUFTZ0MsR0FDakQsSUFBSUMsRUFBSS9CLEVBQUs0QixXQUFXSSxtQkFBbUJGLEdBQ3ZDQyxFQUFFRSxTQUNGRixFQUFFTyxLQUFLRixTQWtCbkIsSUFJQUcsRUFDQUMsRUFMSUMsRUFBZSxHQUNuQkMsRUFBbUIsR0FDbkJDLEVBQW9CLEdBQ3BCUixFQUFjLEdBR2RTLEdBQWUsRUFDZkMsRUFBdUMsSUFBSSxJQUE4QjFDLE1BQ3pFMkMsRUFBUyxHQUVUM0MsS0FBSzRDLGFBQWUsSUFBSSxJQUFtQjVDLE1BUzNDQSxLQUFLNkMsb0JBQXNCLFNBQVNDLEVBQWdCQyxHQUNoRCxJQUFJQyxFQUFVaEQsS0FDZCxPQUFPLElBQUlpRCxTQUFRLFNBQVNDLEVBQVNDLEdBQ0osbUJBQWxCQyxFQUFPQyxRQUF5QkQsRUFBT0MsT0FBT0MsSUFDckRGLEVBQU9HLFFBQVEsQ0FBQ1QsRUFBZVUsTUFBTSxTQUFTQyxHQUMxQ1AsRUFBUU8sTUFFbUIsaUJBQWpCTCxFQUFPcEYsUUFBc0JvRixFQUFPcEYsT0FBTzBGLFFBQ3pEUixFQUFRRSxFQUFPRyxRQUFRVCxFQUFlVSxNQUV0Q0wsRUFBTyx3Q0FFWlEsTUFBSyxTQUFTQyxHQUNiLEdBQTBCLG1CQUFmQSxFQUNQLE9BQU9aLEVBQVFhLGFBQWFELEdBRTVCVCxPQUFPLDZCQUVaVyxPQUFNLFdBQ0wsSUFBbUIsSUFBZmYsRUFJQSxPQURBZ0IsUUFBUUMsS0FBSyx3Q0FDTmhCLEVBQVFpQixpQkFBaUJuQixHQUhoQ0ssT0FBTyx5Q0FPbkJuRCxLQUFLa0UsYUFBZSxTQUFVcEIsR0FDMUIsT0FBTyxJQUFJRyxTQUFRLFNBQVNDLEVBQVNDLEdBQ0gsaUJBQW5CTCxFQUNQSyxFQUFPLFNBRTRCLGlCQUF2QkwsRUFBZVUsSUFDM0JMLEVBQU8sdUNBRTZCLG1CQUF4QkwsRUFBZXFCLEtBQzNCaEIsRUFBTywwQ0FFUEQsRUFBUUosTUFFYmEsTUFBSyxTQUFTYixHQUNiLElBQUlzQixFQUFXdEIsRUFBZXFCLE9BQzlCLElBQWlCLElBQWJDLElBQW1DLElBQWJBLEVBQ3RCLEtBQU0sZ0RBTVYsT0FKS3RCLEVBQWV1QixPQUNoQnZCLEVBQWV1QixLQUFPLGNBRTFCdkIsRUFBZXVCLEtBQU92QixFQUFldUIsS0FBS0MsY0FDbEN4QixFQUFldUIsTUFDbkIsSUFBSyxhQUNELE9BQUtELEVBYU0sSUFBSW5CLFNBQVEsU0FBVUMsRUFBU0MsR0FDUyxpQkFBaENMLEVBQWV5QixhQUNsQkMsT0FBT3JHLGVBQWUyRSxFQUFleUIsY0FDckNyQixFQUFRc0IsT0FBTzFCLEVBQWV5QixlQUU5QnBCLEdBQU8sR0FHWEQsR0FBUSxNQXhLcEMsU0FBc0JKLEdBSWxCLE9BSDhDLElBQTFDQSxFQUFlVSxJQUFJaUIsV0FBVyxjQUFpQ25FLElBQVpjLEdBQXlCQSxFQUFRcUQsV0FBVyxVQUMvRjNCLEVBQWVVLElBQU1wQyxFQUFVMEIsRUFBZVUsS0FFM0MsSUFBSVAsU0FBUSxTQUFVQyxFQUFTQyxHQUNsQyxJQUFJdUIsRUFBTSxJQUFJQyxlQUNkRCxFQUFJRSxLQUFLLE1BQU85QixFQUFlVSxLQUMvQmtCLEVBQUlHLG1CQUFxQixXQUNyQixHQUFzQixHQUFsQkgsRUFBSUksV0FBaUIsQ0FDckIsSUFBSUMsRUFBU2pGLFNBQVNiLGNBQWMsVUFDcEM4RixFQUFPQyxZQUFjTixFQUFJTyxhQUN6Qm5GLFNBQVNvRixxQkFBcUIsUUFBUSxHQUFHaEcsWUFBWTZGLEdBQ3JEN0IsRUFBUUosS0FJaEI0QixFQUFJUyxVQW9JZWpCLENBQWFwQixHQUFnQmEsTUFBSyxTQUFVYixHQUMvQyxNQUEyQyxpQkFBaENBLEVBQWV5QixnQkFFbEJDLE9BQU9yRyxlQUFlMkUsRUFBZXlCLGVBQzlCQyxPQUFPMUIsRUFBZXlCLGlCQXFCakQsUUFDSSxLQUFPLGdCQUFrQmEsT0FBT3RDLEVBQWV1QixXQUsvRHJFLEtBQUtpRSxpQkFBbUIsU0FBVW5CLEdBQzlCLEdBQUlBLEVBQWdCLENBQ2hCLEdBQTJDLGlCQUFoQ0EsRUFBZXlCLGFBQ3RCLEtBQU0seUVBRVYsT0FBT3ZFLEtBQUtrRSxhQUFhcEIsR0FBZ0JhLEtBQUssU0FBVTBCLEdBQ3BELE9BQU9yRixLQUFLNkQsYUFBYXdCLElBQzNCdEgsS0FBS2lDLFNBSWZBLEtBQUtzRixnQkFBa0IsU0FBU0MsR0FDNUIsR0FBa0MsbUJBQXZCQSxFQUNQLEtBQUssOEJBRVQsT0FBT3ZGLEtBQUs2RCxhQUFhMEIsSUFHN0J2RixLQUFLNkQsYUFBZSxTQUFVMkIsR0FDMUIsSUFBSXhDLEVBQVVoRCxLQUNkLE9BQU8sSUFBSWlELFNBQVEsU0FBU0MsRUFBU0MsR0FDTCxtQkFBakJxQyxFQUNQckMsRUFBTyxxQ0FFcUMsaUJBQWhDcUMsRUFBYXRILFVBQVVtQyxNQUE0RCxJQUF2Q21GLEVBQWF0SCxVQUFVbUMsS0FBS2xCLE9BQ3BGZ0UsRUFBTyxzQ0FFd0MsaUJBQW5DcUMsRUFBYXRILFVBQVV1SCxTQUFrRSxJQUExQ0QsRUFBYXRILFVBQVV1SCxRQUFRdEcsT0FDMUZnRSxFQUFPLHlDQUV5QyxpQkFBcENxQyxFQUFhdEgsVUFBVXdILFVBQW9FLElBQTNDRixFQUFhdEgsVUFBVXdILFNBQVN2RyxPQUM1RmdFLEVBQU8sMENBRVBELEVBQVFzQyxNQUViN0IsTUFBSyxTQUFTNkIsR0FDYixJQUFJRyxFQUFVLENBQ1YsTUFBU0gsRUFDVCxLQUFRQSxFQUFhdEgsVUFBVW1DLEtBQy9CLFFBQVdtRixFQUFhdEgsVUFBVXVILFFBQ2xDLFNBQVlELEVBQWF0SCxVQUFVd0gsVUFFbkM5RyxFQUFNNEQsRUFBa0JvRCxNQUFLLFNBQVVDLEdBQ3ZDLElBQUlDLEVBQ0FDLEVBQVEsRUFDWixJQUFLRCxLQUFTOUYsS0FDTjZGLEVBQUVDLEtBQVc5RixLQUFLOEYsSUFDbEJDLElBR1IsT0FBaUIsSUFBVkEsSUFDUkosR0FDSCxHQUFJL0csRUFDQSxLQUFNLDZCQVNWLE9BUEFBLEVBQU0sSUFBSSxJQUFnQjRHLEVBQWN4QyxHQUN4Q1IsRUFBa0J3RCxLQUFLcEgsR0FDdkJYLE9BQU84QixpQkFBaUJuQixFQUFLLENBQ3pCLFFBQVcsQ0FDUCxNQUFTb0UsS0FHVnBFLE1BSWZvQixLQUFLaUcsY0FBZ0IsV0FDakIsT0FBT3pELEdBR1h4QyxLQUFLa0cseUJBQTJCLFdBQzVCLE9BQU8xRCxFQUFrQjJELFFBQU8sU0FBU0MsR0FDckMsT0FBNkIsR0FBdEJBLEVBQU1DLGNBQWdELEdBQXZCRCxFQUFNRSxrQkFJcER0RyxLQUFLdUcsdUJBQXlCLFdBQzFCLE9BQU8vRCxFQUFrQjJELFFBQU8sU0FBU0MsR0FDckMsT0FBNkIsR0FBdEJBLEVBQU1DLGNBQStDLEdBQXZCRCxFQUFNRSxrQkFJbkR0RyxLQUFLd0csd0JBQTBCLFdBQzNCLE9BQU9oRSxFQUFrQjJELFFBQU8sU0FBU0MsR0FDckMsT0FBNkIsR0FBdEJBLEVBQU1DLGNBQStDLEdBQXZCRCxFQUFNRSxrQkFJbkR0RyxLQUFLeUcsY0FBZ0IsV0FDakIsT0FBT3pFLEdBR1hoQyxLQUFLMEcsb0JBQXNCLFdBQ3ZCLElBSUk5RyxFQUpBaEIsRUFBTSxDQUNGLFFBQVdvQixLQUNYLGFBQWdCLElBR3hCLElBQUtKLEVBQUksRUFBR0EsRUFBSTBDLEVBQWFuRCxPQUFRUyxJQUNqQ2hCLEVBQUkwRCxhQUFhMEQsS0FBSyxDQUNsQixXQUFjMUQsRUFBYTFDLEdBQzNCLFFBQVcwQyxFQUFhMUMsR0FBRytHLGVBR25DLE9BQU8vSCxHQUdYb0IsS0FBSzRHLGlCQUFtQixTQUFTQyxFQUFZQyxHQUV6QyxPQURBL0MsUUFBUUMsS0FBSyw4RkFDTmhFLEtBQUsrRyw4QkFBOEJGLEVBQVlDLElBRzFEOUcsS0FBS2dILGtCQUFvQixTQUFTSCxFQUFZQyxHQUUxQyxPQURBL0MsUUFBUUMsS0FBSywrRkFDTmhFLEtBQUtpSCwrQkFBK0JKLEVBQVlDLElBRzNEOUcsS0FBSytHLDhCQUFnQyxTQUFVRixFQUFZQyxHQUN2RCxJQUFJakgsRUFBTyxJQUFJLElBQXdCRyxLQUFNNkcsRUFBWUMsR0FVekQsT0FUQTdJLE9BQU84QixpQkFBaUJGLEVBQU0sQ0FDMUIsWUFBZSxDQUNYaEMsTUFBT21DLEtBQUtrSCxhQUVoQixTQUFZLENBQ1JySixNQUFPbUMsS0FBS21ILFlBR3BCN0UsRUFBYTBELEtBQUtuRyxHQUNYQSxHQUdYRyxLQUFLb0gsaUNBQW1DLFNBQVNDLEVBQW9CUixFQUFZQyxHQUM3RSxJQUFJakgsRUFBT0csS0FBSytHLDhCQUE4QkYsRUFBWUMsR0FDdERRLEVBQWVyRSxRQUFRQyxVQVMzQixPQVJBbUUsRUFBbUJWLGFBQWFoSCxTQUFRLFNBQVM0SCxHQUM3Q0QsRUFBZUEsRUFBYTNELE1BQUssV0FDN0IsT0FBTzlELEVBQUsySCxhQUFhRCxFQUFjRSxpQkFDdEM5RCxNQUFLLFNBQVMrRCxHQUNYQSxFQUFVN0gsS0FBSzRCLFdBQVdrRyxzQkFBc0JKLEVBQWMxSCxLQUFLNEIsV0FBV21HLDZCQUluRk4sRUFBYTNELE1BQUssV0FDckIsT0FBTzlELE1BSWZHLEtBQUtpSCwrQkFBaUMsU0FBVVksR0FDNUMsSUFBSUMsRUFBUXhGLEVBQWF5RixXQUFVLFNBQVVDLEdBQ3pDLE9BQUlBLElBQVloSSxPQUlqQjZILEdBQ0NDLEdBQVMsSUFDVHhGLEVBQWEyRixPQUFPSCxFQUFPLEdBQzNCRCxFQUFXSyxZQUluQmxJLEtBQUttSSwwQkFBNEIsU0FBU25GLFFBQ3RCMUMsSUFBWjBDLElBQ0FBLEVBQVVoRCxNQUVkLElBQUlvSSxFQUFPLElBQUksSUFBb0JwRixHQVVuQyxPQVRBL0UsT0FBTzhCLGlCQUFpQnFJLEVBQU0sQ0FDMUIsWUFBZSxDQUNYdkssTUFBT21DLEtBQUtrSCxhQUVoQixTQUFZLENBQ1JySixNQUFPbUMsS0FBS21ILFlBR3BCNUUsRUFBaUJ5RCxLQUFLb0MsR0FDZkEsR0FHWHBJLEtBQUtxSSwyQkFBNkIsU0FBVUQsR0FDeEMsSUFBSU4sRUFBUXZGLEVBQWlCd0YsV0FBVSxTQUFVQyxHQUM3QyxPQUFJQSxJQUFZaEksT0FJakJvSSxHQUNDTixHQUFTLElBQ1R2RixFQUFpQjBGLE9BQU9ILEVBQU8sR0FDL0JNLEVBQUtGLFlBSWJsSSxLQUFLc0ksdUJBQXlCLFNBQVVDLEdBQ3BDLEdBQUl2RyxFQUFZNEQsTUFBSyxTQUFVaEUsR0FDdkIsT0FBT0EsSUFBTTVCLE9BQ2R1SSxHQUNILEtBQU0sNkJBR1YsR0FEQXZHLEVBQVlnRSxLQUFLdUMsR0FDYjlGLEVBQWMsQ0FDZCxJQUFJbEIsRUFBZUosRUFBY2UsWUFDN0JaLEVBQWV0QixLQUFLd0ksd0JBQ3hCbkgsRUFBaUJrSCxFQUFTMUksS0FBTXlCLEVBQWNDLEdBRWxELE9BQU8sR0FHWHZCLEtBQUt5SSxhQUFlLFNBQVVwRCxHQUMxQixJQUFJeUMsRUFBUTlGLEVBQVkwRyxRQUFRckQsR0FDaEMsR0FBSXlDLEdBQVMsRUFBRyxDQUNaLElBQUlsRyxFQUFJSSxFQUFZaUcsT0FBT0gsRUFBTyxHQUNsQ2xHLEVBQUUsR0FBRytHLFNBQ0wvRyxFQUFFLEdBQUcvQixLQUFLK0ksa0JBQWtCQyxpQkFJcEM3SSxLQUFLd0ksc0JBQXdCLFdBQ3pCLE9BQUkvRixFQUNPdEIsRUFBY2UsWUFBY0csRUFBd0JELEVBRXBEQSxHQUlmcEMsS0FBSzhJLHNCQUF3QixTQUFTQyxHQUNsQyxHQUFJdEcsRUFDQSxLQUFLLHFEQUVVLGlCQUFSc0csR0FBb0JBLEdBQVEsSUFDbkMzRyxFQUF3QjJHLEVBQ3hCL0ksS0FBS2dKLFVBQVVDLG1CQUl2QmpKLEtBQUtrSixXQUFhLFNBQVU1SCxFQUFjQyxRQUNqQmpCLElBQWpCaUIsSUFDQUEsRUFBZUosRUFBY2Usa0JBRVo1QixJQUFqQmdCLElBQ0FBLEVBQWUsRUFDZnlDLFFBQVFDLEtBQUssNkJBRVp2QixJQUNEekMsS0FBSzhJLHNCQUFzQnhILEdBQzNCZSxFQUF3QmQsRUFyV2hDLFNBQTJCRCxFQUFjQyxHQUNyQ1MsRUFBWXJDLFNBQVEsU0FBVWdDLEdBQzFCTixFQUFpQk0sRUFBRTlCLEtBQU15QixFQUFjQyxNQW9XdkM0SCxDQUFrQjdILEVBQWNDLEdBQ2hDa0IsR0FBZSxJQUd2QnpDLEtBQUtvSixVQUFZLFdBQ1QzRyxJQUNBVixJQUNBVSxHQUFlLElBSXZCekMsS0FBS3FKLFlBQWMsU0FBVTlLLEdBQ3pCLElBQUlzQixFQUFPLElBQUksSUFBWXRCLEdBRTNCLE9BREFvRSxFQUFPcUQsS0FBS25HLEdBQ0xBLEdBR1hHLEtBQUtzSixVQUFZLFdBQ2IsT0FBTzNHLEdBR1gzQyxLQUFLdUosVUFBWSxTQUFVaEwsR0FDdkIsT0FBT29FLEVBQU9pRCxNQUFLLFNBQVVsRyxHQUN6QixPQUFPQSxFQUFFVyxPQUFTOUIsTUFLMUJ5QixLQUFLa0gsWUFBYyxJQUFJLElBQVksV0FDbkNsSCxLQUFLbUgsU0FBVyxJQUFJLElBQVksUUFFaENuSCxLQUFLd0osV0FBYSxJQUFJLElBRXRCdkwsT0FBT3dMLGVBQWV6SixLQUFLd0osV0FBWSxVQUFXLENBQzlDLE1BQVN4SixPQUdiL0IsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixRQUFXLENBQ1AsTUFBU21CLEdBRWIsZ0JBQW1CLENBQ2YsSUFBTyxXQUNILE9BQU9zQixJQUdmLGNBQWlCLENBQ2IsSUFBTyxXQUNILE9BQU9yQixHQUVYLElBQU8sU0FBVXNJLEdBQ2IsR0FBaUIsaUJBQU5BLEVBRVAsT0FEQXRJLEVBQVVzSSxFQUdkLEtBQU0seUNBR2Qsa0JBQXFCLENBQ2pCLE1BQVMsU0FBVUMsR0FDZixPQTljUzNHLEVBOGNVaEQsS0E5Y0Q0SixFQThjT0QsRUE3YzFCLElBQUkxRyxTQUFRLFNBQVNDLEVBQVNDLFFBQ0g3QyxJQUExQnNKLEVBQVdDLFdBRVgxRyxFQUFPLElBQUkyRyxNQUFNLG1DQUVqQjVHLEVBQVEwRyxNQUViakcsTUFBSyxTQUFTaUcsR0FDYixJQUFJRyxFQUFXLElBQUk3SSxFQUFjMEksR0FDN0JJLEVBQVcsR0FJZixPQUhBeEgsRUFBa0I3QyxTQUFRLFNBQVV5RyxHQUNoQzRELEVBQVNoRSxLQUFLK0QsRUFBU2xHLGFBQWF1QyxFQUFNQSxXQUV2Q25ELFFBQVFnSCxJQUFJRCxHQUFVckcsTUFBSyxXQUM5QixPQUFPb0csUUFFWnBHLE1BQUssU0FBU3VHLEdBRWIsT0FEQUEsRUFBV3RILGFBQWF1SCxxQkFBcUJuSCxFQUFRSixjQUM5Q3NILEtBbkJmLElBQXFCbEgsRUFBUzRHLElBaWQxQixhQUFnQixDQUNaLElBQU8sV0FDSCxPQUFPdEgsSUFHZixVQUFhLENBQ1QsTUFBU0ksUSw4Q0MzZnJCLDZDQUllLFNBQVMwSCxFQUFvQnBILEdBQ3hDLElBMEJJcUgsRUExQkFDLEVBQU90SyxLQUNYLFNBQVN1SyxFQUEwQjlDLEdBSS9CLE9BSEk0QyxHQUNBckgsRUFBUXlGLGFBQWE0QixFQUFjRyxJQUVoQyxJQUFJdkgsU0FBUSxTQUFTQyxFQUFTQyxHQUNHLEdBQWhDc0UsRUFBZ0JwQixjQUEwRCxHQUFqQ29CLEVBQWdCbkIsY0FDekRuRCxFQUFRLG9HQUVSRCxFQUFRdUUsTUFFYjlELE1BQUssV0FDSixPQUFPOEQsRUFBZ0JnRCxxQkFBcUJILEdBQU0sR0FDakQzRyxNQUFLLFNBQVM5RCxHQU1YLE9BTEE1QixPQUFPOEIsaUJBQWlCRixFQUFNLENBQzFCLFVBQWEsQ0FDVGhDLE1BQU95TSxFQUFLSSxhQUdiN0ssUUFLbkJHLEtBQUswSyxVQUFZLElBQUksSUFBWSxTQUdqQyxJQUFJQyxFQUFjLEdBQ2xCMU0sT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixRQUFXLENBQ1AsTUFBUyxTQUFTNEssRUFBaUJDLEVBQVFDLEdBQ3ZDLFFBQXdCeEssSUFBcEJzSyxFQUNBLEtBQU0sa0NBRUdELEVBQVkvRSxNQUFLLFNBQVNtRixHQUNuQyxPQUFPQSxFQUFLSCxpQkFBbUJBLEdBQW1CRyxFQUFLRixRQUFVQSxHQUFVRSxFQUFLRCxPQUFTQSxPQUt6RkgsRUFBWTNFLEtBQUssQ0FDYjRFLGdCQUFnQkEsRUFDaEJDLE9BQU9BLEVBQ1BDLE1BQU1BLFNBR1F4SyxJQUFsQitKLEVBQ0F0RyxRQUFRQyxLQUFLLHlFQUVicUcsRUFBY3hLLEtBQUttTCxRQUFRSixFQUFpQkMsRUFBUUMsTUFJaEUsV0FBYyxDQUNWLE1BQVMsU0FBU0YsRUFBaUJDLEVBQVFDLFFBQ2Z4SyxJQUFwQnNLLEdBQ0lQLEdBQ0FBLEVBQWNZLGFBRWxCTixFQUFjLElBRWlCLGlCQUFuQkMsUUFBZ0QsSUFBVkMsR0FDbERBLEVBQVNELEVBQ1RBLE9BQWtCdEssRUFDbEJxSyxFQUFjQSxFQUFZeEUsUUFBTyxTQUFTNEUsR0FDdEMsT0FBSUEsRUFBS0YsUUFBVUEsSUFDWFIsR0FDQUEsRUFBY3hLLEtBQUtvTCxXQUFXRixFQUFLSCxnQkFBaUJHLEVBQUtGLFNBRXRELE9BS2tCLGlCQUFuQkQsUUFBZ0QsSUFBVkMsRUFDcERGLEVBQWNBLEVBQVl4RSxRQUFPLFNBQVM0RSxHQUN0QyxPQUFJQSxFQUFLSCxpQkFBbUJBLElBQ3BCUCxHQUNBQSxFQUFjeEssS0FBS29MLFdBQVdGLEVBQUtILGtCQUVoQyxNQUtrQixpQkFBbkJBLEdBQWdELGlCQUFWQyxFQUNwREYsRUFBY0EsRUFBWXhFLFFBQU8sU0FBUzRFLEdBQ3RDLE9BQUlBLEVBQUtILGlCQUFtQkEsR0FBbUJHLEVBQUtGLFFBQVVBLElBQ3REUixHQUNBQSxFQUFjeEssS0FBS29MLFdBQVdGLEVBQUtILGdCQUFpQkcsRUFBS0YsU0FFdEQsTUFLa0IsaUJBQW5CRCxHQUFnRCxpQkFBVkMsR0FBc0MsaUJBQVRDLElBQ2pGSCxFQUFjQSxFQUFZeEUsUUFBTyxTQUFTNEUsR0FDdEMsT0FBSUEsRUFBS0gsaUJBQW1CQSxHQUFtQkcsRUFBS0YsUUFBVUEsR0FBVUUsRUFBS0QsT0FBU0EsSUFDOUVULEdBQ0FBLEVBQWN4SyxLQUFLb0wsV0FBV0YsRUFBS0gsZ0JBQWlCRyxFQUFLRixPQUFRRSxFQUFLRCxRQUVuRSxTQVEzQixjQUFpQixDQUNiLE1BQVMsU0FBU0ksRUFBS3hCLEdBQ25CLElBQUlXLEVBR0EsS0FBSyw4QkFGTEEsRUFBY3hLLEtBQUtzTCxjQUFjRCxFQUFLeEIsS0FNbEQsZ0JBQW1CLENBQ2YsTUFBUyxTQUFTQSxHQUNkLElBQUlXLEVBR0EsS0FBSyw4QkFGTEEsRUFBY3hLLEtBQUt1TCxnQkFBZ0IxQixLQU0vQyxnQkFBbUIsQ0FDZixJQUFPLFdBQ0gsT0FBT1csR0FFWCxJQUFPLFdBQ0gsS0FBSyxvQ0FHYiwwQkFBNkIsQ0FDekIsTUFBUyxTQUFTbk0sR0FDZCxJQUFJb00sRUFBT3RLLEtBQ1gsT0FBTyxJQUFJaUQsU0FBUSxTQUFTQyxFQUFTQyxHQUNILEdBQTFCakYsRUFBVW1JLGNBQW9ELEdBQTNCbkksRUFBVW9JLGNBQzdDbkQsRUFBUSxvR0FFUkQsRUFBUWhGLE1BRWJ5RixNQUFLLFNBQVM4RCxHQUNiLE9BQU84QyxFQUEwQm5NLEtBQUtrTSxFQUFNN0MsR0FBaUIzRCxPQUFNLFNBQVMrQixHQUV4RSxNQURBOUIsUUFBUXNILElBQUl4RixHQUNQLDZDQUVWbEMsTUFBSyxTQUFTOUQsR0FNYixPQUxBQSxFQUFLQSxLQUFLeUwsU0FBU2xOLEtBQUt5QixFQUFLQSxNQUM3QndLLEVBQWdCeEssRUFDaEI4SyxFQUFZaEwsU0FBUSxTQUFTb0wsR0FDekJWLEVBQWN4SyxLQUFLbUwsUUFBUUQsRUFBS0gsZ0JBQWlCRyxFQUFLRixPQUFRRSxFQUFLRCxVQUVoRVQsVyw2QkMvSlosU0FBU2tCLEVBQThCdkksR0FzQ2xELE9BQU8vRSxPQUFPdU4sT0FBTyxDQUNqQixvQkFwQkosU0FBNkJoSSxFQUFLaUksRUFBT0MsR0FNckMsTUFMb0IsQ0FDaEJsSSxJQUFLQSxFQUNMaUksTUFBT0EsRUFDUEMsT0FBUUEsSUFpQloscUJBdkNKLFNBQThCbkUsRUFBZW9FLEdBQ3pDLElBQUlDLEVBQVM5TCxTQUFTYixjQUFjLFVBVXBDLE9BVEEyTSxFQUFPQyxJQUFNRixFQUFpQkUsSUFDMUJGLEVBQWlCRixRQUNqQkcsRUFBT0gsTUFBUUUsRUFBaUJGLE9BRWhDRSxFQUFpQkQsU0FDakJFLEVBQU9GLE9BQVNDLEVBQWlCRCxRQUVyQ0UsRUFBT0UsTUFBTUMsT0FBUyxJQUVmSCxHQTZCUCxrQkEzQkosU0FBMkJyRSxFQUFlb0UsRUFBa0JLLEdBQ3hELElBQUlDLEVBQUl6SCxPQUFPSSxLQUFLK0csRUFBaUJFLElBQUl0RSxFQUFjbEgsS0FBSzJMLEdBRTVELE9BREF6RSxFQUFjcUIsa0JBQWtCc0QsZUFBZUQsR0FDeENBLEdBeUJQLGVBZkosV0FDSWpKLEVBQVF5RCxnQkFBZ0I5RyxTQUFRLFNBQVMwRixHQUNyQ0EsRUFBT3hGLEtBQUsrSSxrQkFBa0J1RCxrQkFBaUIsU0EvQjNELG1DLDZCQ2dFZSxNQTlEZixTQUF5QnRCLEVBQVF1QixHQUM3QixTQUFTQyxFQUFnQnhHLEdBQ3JCLElBQUkzRixFQUFHb00sRUFBUyxHQUNoQixJQUFLcE0sRUFBSSxFQUFHQSxFQUFJMkYsRUFBRTBHLFlBQVlDLGlCQUFrQnRNLElBQzVDb00sRUFBT3BNLEdBQUsyRixFQUFFMEcsWUFBWUUsZUFBZXZNLEdBRTdDd00sRUFBT0MsWUFBWSxDQUNmLE1BQVMsRUFDVCxPQUFVTCxJQUlsQixTQUFTbEksRUFBUzhHLEdBQ2RsTCxLQUFLNE0sYUFBYVIsRUFBV2xCLEVBQUkyQixLQUFLekksVUFHMUMsSUFBSXNJLEVBQVMsSUFBSUksT0FBTywwQkFDeEJKLEVBQU9LLFFBQVUsU0FBVWxILEdBQ3ZCOUIsUUFBUWlKLE1BQU1uSCxJQUdsQjdGLEtBQUtpTixZQUFjLFNBQVVDLEdBQ3pCLElBQUk1QyxFQUFPdEssS0FDUG1OLEVBQWdCLENBQ2hCLE1BQVMsRUFDVCxXQUFjdEMsRUFBT2xCLFFBQVFFLFdBQzdCLFlBQWVxRCxFQUNmLFlBQWVyQyxFQUFPdUMsZ0JBQ3RCLFVBQWFwTixLQUFLb00sV0FFdEJwTSxLQUFLcU4sU0FBV0gsRUFDWkEsR0FBZUEsRUFBWS9OLE9BQVMsR0FDcEN1TixFQUFPWSxVQUFZLFNBQVV6SCxHQUNKLElBQWpCQSxFQUFFZ0gsS0FBS1UsT0FDUGIsRUFBT1ksVUFBWWxKLEVBQVNyRyxLQUFLdU0sR0FDakNBLEVBQUtrRCxVQUFVQyxlQUFpQnBCLEVBQWdCdE8sS0FBS3VNLElBRXJEb0MsRUFBT0MsWUFBWVEsSUFHM0JULEVBQU9DLFlBQVksQ0FDZixNQUFTLEtBR2IzTSxLQUFLd04sVUFBVUMsb0JBQWlCbk4sR0FLeENOLEtBQUswTixnQkFBa0IsV0FDbkI3QyxFQUFPRyxRQUFRaEwsS0FBS3dOLFlBR3hCeE4sS0FBS3dOLFVBQVkzQyxFQUFPbEIsUUFBUWdFLHNCQUFzQnZCLEVBQVd2QixFQUFPdUMsZ0JBQWlCLEdBQ3pGdkMsRUFBT0csUUFBUWhMLEtBQUt3TixXQUNwQnhOLEtBQUt3TixVQUFVeEMsUUFBUUgsRUFBT2xCLFFBQVFpRSxhQUV0QzNQLE9BQU93TCxlQUFlekosS0FBTSxZQUFhLENBQ3JDLE1BQVNvTSxLQ1JGLE1BbERmLFNBQW1CdkIsRUFBUXVCLEdBQ3ZCcE0sS0FBS3dOLFVBQVkzQyxFQUFPbEIsUUFBUWtFLGlCQUNoQzdOLEtBQUt3TixVQUFVTSxRQUFVMUIsRUFDekJ2QixFQUFPRyxRQUFRaEwsS0FBS3dOLFdBQ3BCeE4sS0FBS3FOLFNBQVcsR0FDaEJwUCxPQUFPd0wsZUFBZXpKLEtBQU0sWUFBYSxDQUNyQyxNQUFTb00sSUFHYixJQUFJMkIsRUFBc0JDLE1BQU1ELG9CQWNoQyxTQUFTMUIsRUFBZ0JRLEdBRXJCLElBQUlvQixFQUFVLENBQ1YsaUJBQW9CLEVBQ3BCLFFBQVcsSUFFZkYsRUFBb0JsQixFQUFNN00sS0FBS3FOLFVBQy9CWSxFQUFRQyxRQUFRLEdBQUssQ0FDakIsUUFBVyxFQUNYLFFBQVd0TixLQUFLQyxNQUFNZ00sRUFBS3NCLFdBRS9Cbk8sS0FBSzRNLGFBQWFDLEVBQUsxTixPQUFROE8sR0FHbkNqTyxLQUFLaU4sWUFBYyxTQUFVQyxHQUN6QmxOLEtBQUtxTixTQUFXSCxFQUNhLElBQXpCbE4sS0FBS3FOLFNBQVNsTyxPQUNkYSxLQUFLd04sVUFBVVksZ0JBRWZwTyxLQUFLd04sVUFBVWEsY0FBY2hDLEVBQWlCck0sT0FHdERBLEtBQUswTixnQkFBa0IsV0FDbkI3QyxFQUFPRyxRQUFRaEwsS0FBS3dOLGFDTmIsTUFyQ2YsU0FBb0JjLEVBQVF6RCxHQUN4QixJQUFJMEQsRUFBYSxHQUNqQnZPLEtBQUt3TyxhQUFlLFNBQVVwQyxHQUMxQixJQUFJeE4sRUFpQkosT0FmSUEsRUFEQTRGLE9BQU9zSSxPQUNELElBQUksRUFBZ0JqQyxFQUFRdUIsR0FFNUIsSUFBSSxFQUFVdkIsRUFBUXVCLEdBRWhDbUMsRUFBV3ZJLEtBQUtwSCxHQUNoQlgsT0FBT3dMLGVBQWU3SyxFQUFLLGVBQWdCLENBQ3ZDLE1BQVMsU0FBVXdOLEVBQVdxQyxHQUMxQixJQUFJN1AsRUFBTSxDQUNOLFlBQWUsRUFDZixVQUFhd04sRUFDYixRQUFXcUMsR0FFZnpPLEtBQUs0TSxhQUFhaE8sSUFDcEJiLEtBQUtpQyxRQUVKcEIsR0FFWG9CLEtBQUswTyxjQUFnQixTQUFVdEMsR0FDM0IsSUFBSXVDLEVBQVF2QyxFQUNaLE9BQU9tQyxFQUFXM0ksTUFBSyxTQUFVQyxHQUU3QixPQUFPK0ksT0FBTy9JLEVBQUV1RyxhQUFld0MsT0FBT0QsT0FHOUMzTyxLQUFLNk8saUJBQW1CLFdBQ3BCTixFQUFXNU8sU0FBUSxTQUFVa0csR0FDekJBLEVBQUU2SCxzQkFHVjFOLEtBQUs4TyxnQkFBa0IsU0FBVTFDLE1DbkN0QixTQUFTMkMsRUFBd0JmLEVBQU9nQixHQUNuRCxJQUFJQyxFQUNKalAsS0FBS2tQLGVBQWlCLFNBQVVDLEdBQzVCLElBQUlDLEVBQ0osSUFBS0EsRUFBSSxFQUFHQSxFQUFJRCxFQUFjaFEsT0FBUWlRLElBQUssQ0FDdkMsUUFBb0I5TyxJQUFoQjJPLEVBQTJCLENBQzNCLEdBQUlHLEVBQUksRUFDSixLQUFNLDBDQUVWSCxFQUFjLElBQUksRUFBV2pCLEVBQU9BLEVBQU1uSCxZQUMxQzVJLE9BQU93TCxlQUFld0YsRUFBYSxlQUFnQixDQUMvQyxNQUFTLFNBQVVJLEdBQ2ZyUCxLQUFLNE0sYUFBYXlDLElBQ3BCdFIsS0FBS2lDLFFBR2YsSUFBSXNQLEVBQ0osSUFBS0EsRUFBSyxFQUFHQSxFQUFLSCxFQUFjQyxHQUFHalEsT0FBUW1RLElBQU0sQ0FDN0MsSUFBSTlCLEVBQVl5QixFQUFZUCxjQUFjUyxFQUFjQyxHQUFHRSxHQUFJbEQsV0FDMURvQixJQUNEQSxFQUFZeUIsRUFBWVQsYUFBYVcsRUFBY0MsR0FBR0UsR0FBSWxELFlBRTlEb0IsRUFBVVAsWUFBWWtDLEVBQWNDLEdBQUdFLEdBQUlwQyxnQkFLdkRsTixLQUFLNk8saUJBQW1CLFdBQ2hCSSxHQUNBQSxFQUFZSixvQkFJcEI3TyxLQUFLNE0sYUFBZSxTQUFVdUMsR0FPMUJILEVBQWtCcEMsYUFBYSxDQUMzQixPQUFVNU0sS0FDVixZQUFlbVAsRUFBY0ksWUFDN0IsVUFBYUosRUFBYy9DLFVBQzNCLFFBQVcrQyxFQUFjakIsV0FLakNjLEVBQWtCUSxnQkFBZ0J4UCxVQUFNTSxHLFdDNlI3QixJQTdVZixTQUFpQ1ksRUFBZTJGLEVBQVlDLEdBRXhELElBQUkySSxFQUFjLEdBQ2RDLEVBQW1CN0ksRUFDbkI4SSxFQUFrQjdJLEVBQ2xCOEksRUFBYyxHQUVkQyxFQUFlLEVBQ2ZDLEVBQW9CLElBQUlmLEVBQXdCL08sS0FBTWtCLEVBQWNzSSxZQUVwRXVHLEVBQWMsSUFBSXRSLFlBQ2xCNkwsRUFBT3RLLEtBYVgsU0FBU2dRLElBR0wsSUFGQSxJQUFJcFEsRUFBSSxFQUNKcVEsRUFBSVIsRUFBWXRRLE9BQVMsRUFDdEJTLEVBQUlxUSxHQUFHLENBQ1YsSUFBSUMsRUFBY1QsRUFBWTdQLEtBQzFCdVEsRUFBV1YsRUFBWTdQLEdBQzNCc1EsRUFBWUUsVUFBVUQsSUFJOUIsU0FBU0UsSUFDTFosRUFBWTlQLFNBQVEsU0FBVWtHLEdBQzFCQSxFQUFFb0YsZ0JBSVYsU0FBU3FGLElBT0wsT0FOSWIsRUFBWXRRLE9BQVMsR0FDckJ1USxFQUFpQnpFLFdBQVd3RSxFQUFZLEdBQUczRSxPQUMzQzJFLEVBQVlBLEVBQVl0USxPQUFTLEdBQUcwTCxPQUFPSSxXQUFXMEUsSUFFdERELEVBQWlCekUsV0FBVzBFLElBRXpCLEVBR1gsU0FBU1ksSUFDRGQsRUFBWXRRLE9BQVMsR0FDckJ1USxFQUFpQjFFLFFBQVF5RSxFQUFZLEdBQUczRSxPQUN4QzJFLEVBQVlBLEVBQVl0USxPQUFTLEdBQUcwTCxPQUFPRyxRQUFRMkUsSUFFbkRELEVBQWlCMUUsUUFBUTJFLEdBRTdCRyxFQUFrQmpCLG1CQWdDdEIsU0FBUzJCLEVBQWUvSSxHQUNwQixPQUFPLElBQUl4RSxTQUFRLFNBQVNDLEVBQVNDLEdBSTdCRCxFQUFRdUUsTUFFYjlELE1BQUssV0FDSixPQUFPOEQsRUFBZ0JnRCxxQkFBcUJILEdBQU0sR0FDakQzRyxNQUFLLFNBQVM5RCxHQU1YLE9BTEE1QixPQUFPOEIsaUJBQWlCRixFQUFNLENBQzFCLFVBQWEsQ0FDVGhDLE1BQU95TSxFQUFLSSxhQUdiN0ssUUFzSW5CLFNBQVNrTyxFQUFvQjBDLEVBQU1DLEdBQy9CLElBQ0k5USxFQUFHK1EsRUFESFYsRUFBSVMsRUFBS3ZSLE9BRWIsSUFBS1MsRUFBSSxFQUFHQSxFQUFJcVEsRUFBR3JRLElBRWY2USxHQURBRSxFQUFRRCxFQUFLOVEsSUFDRlMsTUFBTXVRLE1BQU1ILEVBQU1FLEVBQU1sUCxZQUMvQmtQLEVBQU10RCxVQUFZc0QsRUFBTXRELFNBQVNsTyxPQUFTLEdBQzFDNE8sRUFBb0IwQyxFQUFLSSxPQUFPRixFQUFNdFEsTUFBT3NRLEVBQU10RCxVQWUvRCxTQUFTeUQsSUFDTCxJQUFJQyxFQVhSLFdBQ0ksSUFBSUEsRUFBTSxFQU1WLE9BTEF0QixFQUFZdEosUUFBTyxTQUFTZCxHQUN4QixPQUFRQSxFQUFPMkwsZ0JBQ2hCclIsU0FBUSxTQUFTMEYsR0FDaEIwTCxHQUFPMUwsRUFBT3hGLEtBQUtvUiw0QkFFaEJGLEVBSUdHLEdBS1YsT0FKSXJCLEdBQWdCa0IsSUFDaEJsQixFQUFla0IsRUFDZmhCLEVBQVl4UCxjQUFjLElBQUk0USxNQUFNLGdCQUVqQ3RCLEVBOVBYN1AsS0FBS3NPLE9BQVNwTixFQUNkd08sRUFBaUJ6RSxhQUNqQnlFLEVBQWlCMUUsUUFBUWxFLEdBRXpCOUcsS0FBSzBLLFVBQVksSUFBSTBHLEVBQUEsRUFBWSxTQUVqQ3BSLEtBQUtxUixjQUFnQnZCLEVBRXJCOVAsS0FBS3NSLGdCQUFrQixhQXdDdkJ0UixLQUFLdVIsYUFBZSxTQUFVQyxFQUFpQmpFLElBRUcsSUFBMUNrQyxFQUFZZ0MsU0FBU0QsSUFHekJBLEVBQWdCRSxPQUFPbkUsSUFHM0J2TixLQUFLaUcsY0FBZ0IsV0FDakIsT0FBT2pHLEtBQUtzTyxPQUFPckksaUJBR3ZCakcsS0FBSzJSLFdBQWEsV0FDZCxPQUFPM1IsS0FBS3NPLFFBR2hCdE8sS0FBS2tJLFFBQVUsU0FBVWtJLEdBQ3JCLElBQUl4USxFQUNKLElBQUtBLEVBQUksRUFBR0EsRUFBSTZQLEVBQVl0USxPQUFRUyxJQUNoQ0ksS0FBSzRSLGNBQWNuQyxFQUFZN1AsSUFFbkM4UCxFQUFpQnpFLGNBQ0MsSUFBZG1GLEdBQ0FWLEVBQWlCMUUsUUFBUTJFLElBMEJqQzNQLEtBQUt3SCxhQUFlLFNBQVVDLEdBQzFCLE9BQU8rSSxFQUFlL0ksR0FBaUIzRCxPQUFNLFNBQVMrQixHQUVsRCxNQURBOUIsUUFBUXNILElBQUl4RixHQUNQLDBDQUNObEMsTUFBSyxTQUFTOUQsR0FVYixPQVRBeVEsSUFDQWIsRUFBWXpKLEtBQUtuRyxHQUNqQndRLElBQ0FMLElBQ0FPLElBQ0ExUSxFQUFLTSxpQkFBaUIsYUFBY21LLEdBQ3BDekssRUFBS0EsS0FBS3lMLFNBQVNsTixLQUFLeUIsRUFBS0EsTUFDN0JpUixJQUNBZixFQUFZeFAsY0FBYyxJQUFJNFEsTUFBTSxXQUM3QnRSLE1BSWZHLEtBQUs2UixhQUFlLFNBQVN0SyxHQUl6QixJQUFJTyxFQUFROUgsS0FBSzhSLGVBQWV2SyxHQUM1Qk8sR0FBUyxJQUNUd0ksSUFDQS9JLEVBQWNuSCxvQkFBb0IsYUFBY2tLLEdBQ2hEL0MsRUFBYzFILEtBQUtzQyxLQUFLL0QsS0FBS21KLEVBQWMxSCxNQUMzQzBILEVBQWMxSCxLQUFLa1MsV0FBVzNULEtBQUttSixFQUFjMUgsTUFDakQ0UCxFQUFZeEgsT0FBT0gsRUFBTyxHQUMxQnVJLElBQ0FMLElBQ0FPLElBQ0FPLElBQ0FmLEVBQVl4UCxjQUFjLElBQUk0USxNQUFNLGFBSTVDblIsS0FBSzRSLGNBQWdCLFNBQVVySyxHQUkzQnZILEtBQUs2UixhQUFhdEssR0FDbEJ2SCxLQUFLc08sT0FBTzdGLGFBQWFsQixFQUFjaUQsSUFDdkNzRyxLQUdKOVEsS0FBSzJHLFdBQWEsV0FDZCxPQUFPOEksR0FHWHpQLEtBQUt5RyxjQUFnQixXQUNqQixPQUFPekcsS0FBS3NPLE9BQU81SCx1QkFHdkIxRyxLQUFLOFIsZUFBaUIsU0FBVXZLLEdBVTVCLE9BTllrSSxFQUFZMUgsV0FBVSxTQUFVQyxFQUFTRixFQUFPa0ssR0FDeEQsT0FBSWhLLElBQVloSSxPQUlqQnVILElBSVB2SCxLQUFLaVMsV0FBYSxTQUFVMUssRUFBZTJLLEdBSXZDLElBQ0l0VCxFQUFLdVQsRUFBU0MsRUFEZHRLLEVBQVE5SCxLQUFLOFIsZUFBZXZLLEdBRWhDLElBQThELElBQTFEckcsRUFBY3VGLGdCQUFnQmdMLFNBQVNsSyxHQUN2QyxLQUFLLHdCQUVUK0ksSUFDQUQsSUFDSTlJLEVBQWMxSCxLQUFLbU8sUUFBVWhPLE1BRTdCdUgsRUFBYzFILEtBQUttTyxNQUFNNkQsYUFBYXRLLEdBQ3RDQSxFQUFjMUgsS0FBS21PLE1BQVFoTyxLQUMzQnBCLEVBQU0sQ0FBQzJJLEtBRVAzSSxFQUFNNlEsRUFBWXhILE9BQU9ILEVBQU8sR0FDaENQLEVBQWMxSCxLQUFLa1MsV0FBVzNULEtBQUttSixFQUFjMUgsT0FFbkMsSUFBZHFTLEVBQ0F6QyxFQUFjN1EsRUFBSXlULE9BQU81QyxHQUNsQnlDLEdBQWF6QyxFQUFZdFEsT0FDaENzUSxFQUFjQSxFQUFZNEMsT0FBT3pULElBRWpDdVQsRUFBVTFDLEVBQVk2QyxNQUFNLEVBQUdKLEdBQy9CRSxFQUFXM0MsRUFBWTZDLE1BQU1KLEdBQzdCekMsRUFBYzBDLEVBQVFFLE9BQU96VCxFQUFJeVQsT0FBT0QsS0FFNUNwQyxJQUNBTyxJQUNBaEosRUFBYzFILEtBQUt5TCxTQUFTbE4sS0FBS21KLEVBQWMxSCxNQUMvQ2lSLElBQ0FmLEVBQVl4UCxjQUFjLElBQUk0USxNQUFNLFlBR3hDblIsS0FBS3VTLFdBQWEsU0FBU2hMLEVBQWVpTCxHQUl0QyxRQUhtQmxTLElBQWZrUyxJQUNBQSxFQUFhL0MsRUFBWXRRLFFBRUosaUJBQWRxVCxHQUEwQkEsRUFBYSxHQUFLQSxFQUFhL0MsRUFBWXRRLE9BQzVFLEtBQUssZ0RBRVQsT0FBT3FSLEVBQWVqSixFQUFjRSxpQkFDbkMzRCxPQUFNLFNBQVMrQixHQUVaLE1BREE5QixRQUFRc0gsSUFBSXhGLEdBQ1AsMENBQ05sQyxNQUFLLFNBQVM5RCxHQVViLE9BVEFBLEVBQUtBLEtBQUs0QixXQUFXa0csc0JBQXNCSixFQUFjMUgsS0FBSzRCLFdBQVdtRyxzQkFDekUwSSxJQUNBRCxJQUNBWixFQUFZeEgsT0FBT3VLLEVBQVksRUFBRzNTLEdBQ2xDbVEsSUFDQU8sSUFDQU8sSUFDQWpSLEVBQUtBLEtBQUt5TCxTQUFTbE4sS0FBS3lCLEVBQUtBLE1BQzdCa1EsRUFBWXhQLGNBQWMsSUFBSTRRLE1BQU0sV0FDN0J0UixNQW9DZjVCLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsV0FBYyxDQUNWLE1BQVM2RyxHQUViLFVBQWEsQ0FDVCxNQUFTQyxHQUViLHdCQUEyQixDQUN2QixNQUFTLFdBQ0wsT0FBT2dLLE1BR2YseUJBQTRCLENBQ3hCLElBQU8sV0FDSCxPQUFPQSxLQUVYLElBQU8sV0FDSCxLQUFLLDBDQUdiLHlCQUE0QixDQUN4QixJQUFPLFdBQ0gsT0FBTzlRLEtBQUtpUix5QkFBeUIvUCxFQUFjeUksUUFBUUUsWUFFL0QsSUFBTyxXQUNILEtBQUssMENBR2IsS0FBUSxDQUNKLElBQU8sV0FDSCxPQUFPK0YsR0FFWCxJQUFPLFNBQVV2UCxHQUliLE1BSG9CLGlCQUFUQSxJQUNQdVAsRUFBY3ZQLEdBRVh1UCxJQUdmLG9CQUF1QixDQUNuQixJQUFPLFdBQ0gsT0FBTzdCLElBR2YsWUFBZSxDQUNYLE1BQVMsU0FBU2xJLEdBQ0EsY0FBVkEsRUFBRXhCLE1BQ0Z5TSxNQUlaLGlCQUFvQixDQUNoQixNQUFTLFNBQVNoVCxFQUFLRCxHQUNuQixPQUFPa1MsRUFBWTVQLGlCQUFpQnJDLEVBQUtELEtBR2pELG9CQUF1QixDQUNuQixNQUFTLFNBQVNDLEVBQUtELEdBQ25CLE9BQU9rUyxFQUFZNVAsaUJBQWlCckMsRUFBS0QsUyw2QkMxVTFDLFNBQVM0VSxFQUFhQyxHQUNqQyxJQUFJQyxFQUFXLEdBQ0FELEVBQWU3UyxLQUFLK1MsV0FBV0MsU0FDOUM3UyxLQUFLOFMscUJBQXVCLFdBQ3hCLE9BQU9KLEdBa0NYMVMsS0FBSytTLFlBQWMsU0FBVTVELElBL0I3QixTQUFTNkQsRUFBdUJDLEVBQVc5RCxHQUN2QyxJQUFJdlAsRUFDSixJQUFLQSxFQUFJLEVBQUdBLEVBQUl1UCxFQUFjaFEsT0FBUVMsSUFBSyxDQUV2QyxJQUFJc1QsRUFBY0MsZUFBZUYsRUFBVzlELEVBQWN2UCxNQUNyRHNULEdBQWdCL0QsRUFBY3ZQLEdBQUc2QixZQUFxRCxJQUF2QzBOLEVBQWN2UCxHQUFHNkIsV0FBV3RDLFVBQzVFK1QsRUFBY0UsZUFBZWpFLEVBQWN2UCxHQUFJcVQsU0FFakIzUyxJQUE5QjZPLEVBQWN2UCxHQUFHeU4sVUFBMEI4QixFQUFjdlAsR0FBR3lOLFNBQVNsTyxPQUFTLEdBQzlFNlQsRUFBdUJFLEVBQVk3RixTQUFVOEIsRUFBY3ZQLEdBQUd5TixXQXVCdEUyRixDQUF1QkwsRUFBVXhELEVBQWM5QixXQUduRHJOLEtBQUtxVCxlQUFpQixTQUFVbEUsSUFyQmhDLFNBQVNtRSxFQUEwQkwsRUFBVzlELEdBQzFDLElBQ0l2UCxFQURBcVEsRUFBSWQsRUFBY2hRLE9BRXRCLElBQUtTLEVBQUksRUFBR0EsRUFBSXFRLEVBQUdyUSxJQUFLLENBRXBCLElBQUlrSSxFQUFRcUwsZUFBZUYsRUFBVzlELEVBQWN2UCxJQUNoRGtJLEdBQVMsSUFDTHFILEVBQWNySCxHQUFPdUYsVUFBWThCLEVBQWNySCxHQUFPdUYsU0FBU2xPLE9BQVMsRUFDeEVtVSxFQUEwQkwsRUFBVW5MLEdBQU91RixTQUFVOEIsRUFBY3JILEdBQU91RixVQUUxRXNGLEVBQVMxSyxPQUFPSCxFQUFPLEtBWW5Dd0wsQ0FBMEJYLEVBQVV4RCxFQUFjOUIsV0FHdERyTixLQUFLdVQsZUFBaUIsV0FDbEIsT0FBT1osR0FHWDNTLEtBQUs0TSxhQUFlLFNBQVV1QyxHQUMxQixJQVNJdlAsRUFUQXFPLEVBQVUsQ0FDTixPQUFVa0IsRUFBYzlKLE9BQ3hCLFlBQWU4SixFQUFjSSxZQUM3QixVQUFhSixFQUFjL0MsVUFDM0IsU0FBWSxDQUNSLGlCQUFvQitDLEVBQWNqQixRQUFRMUIsaUJBQzFDLFFBQVcsS0FLdkIsU0FBU2dILEVBQXNCQyxFQUFVQyxFQUFhQyxHQUVsRCxJQUFPN04sRUFFUCxTQUFTOE4sRUFBRy9OLEdBQ1IsT0FBT0EsRUFBRXhGLE9BQVN5RixFQUV0QixJQUFLQSxLQUFTNE4sRUFDVixHQUFJQSxFQUFZdlYsZUFBZTJILEdBQVEsQ0FDbkMsSUFBSWpHLEVBQU84VCxFQUFZL04sS0FBS2dPLEdBQ3hCL1QsSUFDSTZULEVBQVk1TixHQUFPK04sY0FBZ0I1VixRQUFVNEIsRUFBS3FPLFNBQ2xEdUYsRUFBUzNOLEdBQVMsR0FDbEIwTixFQUFzQkMsRUFBUzNOLEdBQVE0TixFQUFZNU4sR0FBUWpHLEVBQUtxTyxVQUVoRXVGLEVBQVMzTixHQUFTNE4sRUFBWTVOLEtBT2xELElBQUtsRyxFQUFJLEVBQUdBLEVBQUl1UCxFQUFjakIsUUFBUTFCLGlCQUFrQjVNLElBQ3BEcU8sRUFBUVosU0FBU2EsUUFBUXRPLEdBQUssR0FDOUI0VCxFQUFzQnZGLEVBQVFaLFNBQVNhLFFBQVF0TyxHQUFJdVAsRUFBY2pCLFFBQVFBLFFBQVF0TyxHQUFHc08sUUFBU3lFLEdBRWpHRCxFQUFlN1MsS0FBSytTLFdBQVdDLFNBQVNqRyxhQUFhcUIsSUN0RjlDLFNBQVM2RixFQUFVQyxFQUFRQyxHQUN0QyxJQUFJQyxFQUFXLEdBUWYsU0FBU0MsRUFBa0IvRSxHQUN2QixPQUFPOEUsRUFBU3JPLE1BQUssU0FBVUMsR0FDM0IsT0FBUUEsRUFBRTBKLGNBQWdCdlAsS0FBS3VQLGFBQWUxSixFQUFFdUcsWUFBY3BNLEtBQUtvTSxZQUNwRStDLEdBR1AsU0FBU2dGLElBQ0wsU0FBU0MsRUFBY2xILEdBQ25CLElBQUl6SixFQUFHaU4sRUFBTyxHQUNkLElBQUtqTixFQUFJLEVBQUdBLEVBQUl5SixFQUFZL04sT0FBUXNFLElBQUssQ0FDckMsSUFBSXlQLEVBQWNDLGVBQWV6QyxFQUFNeEQsRUFBWXpKLE1BQzlDeVAsR0FBZ0JoRyxFQUFZekwsWUFBbUQsSUFBckN5TCxFQUFZekosR0FBR2hDLFdBQVd0QyxVQUNyRStULEVBQWNFLGVBQWVsRyxFQUFZekosR0FBSWlOLElBRTdDeEQsRUFBWXpKLEdBQUc0SixVQUFZSCxFQUFZekosR0FBRzRKLFNBQVNsTyxPQUFTLElBQzVEK1QsRUFBWTdGLFNBQVcrRyxFQUFjbEgsRUFBWXpKLEdBQUc0SixXQUc1RCxPQUFPcUQsRUFFWCxJQUFJOVEsRUFBR3lVLEVBQWEsR0FDcEIsSUFBS3pVLEVBQUksRUFBR0EsRUFBSXFVLEVBQVM5VSxPQUFRUyxJQUFLLE1BQ1VVLElBQXhDK1QsRUFBV0osRUFBU3JVLEdBQUcyUCxlQUN2QjhFLEVBQVdKLEVBQVNyVSxHQUFHMlAsYUFBZSxJQUUxQyxJQUFJK0UsRUFBWUQsRUFBV0osRUFBU3JVLEdBQUcyUCxhQUFhM0osTUFBSyxTQUFVQyxHQUMvRCxPQUFPQSxFQUFFdUcsWUFBY3BNLEtBQUtvTSxZQUM3QjZILEVBQVNyVSxJQUNQMFUsSUFDREEsRUFBWSxDQUNSLFVBQWFMLEVBQVNyVSxHQUFHd00sVUFDekIsaUJBQWU5TCxHQUVuQitULEVBQVdKLEVBQVNyVSxHQUFHMlAsYUFBYXZKLEtBQUtzTyxJQUU3Q0EsRUFBVXBILFlBQWNrSCxFQUFjSCxFQUFTclUsR0FBRzJULGtCQUV0RFEsRUFBTzdFLGVBQWVtRixHQTVDMUJyVSxLQUFLdVUsa0JBQW9CLFdBQ3JCLE9BQU9QLEdBRVhoVSxLQUFLd1UsVUFBWSxXQUNiLE9BQU9ULEdBMkNYL1QsS0FBS3lVLGdCQUFrQixTQUFVQyxFQUFtQnZGLEdBQ2hELElBQUl3RixFQUFNVCxFQUFrQi9FLEdBQ3ZCd0YsSUFDREEsRUFBTSxDQUNGLFlBQWV4RixFQUFjSSxZQUM3QixVQUFhSixFQUFjL0MsVUFDM0IsV0FBYyxHQUNkLGVBQWtCLFdBQ2QsSUFDSXhNLEVBREFnVixFQUFJLEdBRVIsSUFBS2hWLEVBQUksRUFBR0EsRUFBSUksS0FBSzZVLFdBQVcxVixPQUFRUyxJQUNwQ2dWLEVBQUlBLEVBQUV2QyxPQUFPclMsS0FBSzZVLFdBQVdqVixHQUFHMlQsa0JBRXBDLE9BQU9xQixJQUdmWCxFQUFTak8sS0FBSzJPLElBRWxCLElBQUlHLEVBQVlILEVBQUlFLFdBQVdqUCxNQUFLLFNBQVVDLEdBQzFDLE9BQU9BLEVBQUVpTix5QkFBMkI5UyxPQUNyQzBVLEdBQ0VJLElBQ0RBLEVBQVksSUFBSXJDLEVBQWFpQyxHQUM3QkMsRUFBSUUsV0FBVzdPLEtBQUs4TyxJQUV4QkEsRUFBVS9CLFlBQVk1RCxHQUN0QmdGLEtBR0puVSxLQUFLK1UsYUFBZSxTQUFVeEYsRUFBYW5ELEdBQ3ZDLE9BQU82SCxFQUFTck8sTUFBSyxTQUFVQyxHQUMzQixPQUFRQSxFQUFFMEosY0FBZ0JBLEdBQWUxSixFQUFFdUcsWUFBY0EsTUFJakVwTSxLQUFLZ1YsZUFBaUIsU0FBVU4sRUFBbUJ2RixHQUMvQyxRQUFzQjdPLElBQWxCNk8sRUFDQThFLEVBQVN0VSxTQUFRLFNBQVVnVixHQUN2QixJQUFJTSxFQUFpQk4sRUFBSUUsV0FBVzlNLFdBQVUsU0FBVWxDLEdBQ3BELE9BQU9BLEVBQUVpTix5QkFBMkI0QixLQUVwQ08sR0FBa0IsR0FDbEJOLEVBQUlFLFdBQVc1TSxPQUFPZ04sRUFBZ0IsVUFHM0MsQ0FDSCxJQUFJTixFQUFNVCxFQUFrQi9FLEdBQzVCLElBQUt3RixFQUNELE9BRUosSUFBSUcsRUFBWUgsRUFBSUUsV0FBV2pQLE1BQUssU0FBVUMsR0FDMUMsT0FBT0EsRUFBRWlOLHlCQUEyQjlTLE9BQ3JDMFUsR0FDSCxJQUFLSSxFQUNELE9BRUpBLEVBQVV6QixlQUFlbEUsR0FFN0JnRixLQzFHTyxTQUFTM0ssSUFDcEIsSUFBSXlLLEVBQVcsR0FjZixTQUFTaUIsRUFBZ0JuQixHQUNyQixPQUFPRSxFQUFTbE0sV0FBVSxTQUFVbEMsR0FDaEMsT0FBT0EsRUFBRTJPLGNBQWdCeFUsT0FDMUIrVCxHQUdQLFNBQVNvQixFQUFjbEIsRUFBVW1CLEVBQVFDLEdBQ3JDLElBQUlDLEVBQVlyQixFQUFTaUIsRUFBZ0JFLElBQ3pDLElBQUtFLEtBQ0RBLEVBQVlyQixFQUFTaUIsRUFBZ0JHLEtBRWpDLEtBQU0sOEJBR2QsT0FBT0MsRUFJWHRWLEtBQUt3UCxnQkFBa0IsU0FBVXVFLEVBQVFyQixHQUNyQyxJQUFJN1MsRUFBTyxJQUFJaVUsRUFBVUMsRUFBUXJCLEdBRWpDLE9BREF1QixFQUFTak8sS0FBS25HLEdBQ1BBLEdBRVhHLEtBQUt1VixnQkFBa0IsU0FBVXhCLEdBQzdCLElBQUlqTSxFQUFRb04sRUFBZ0JuQixHQUM1QixJQUFlLElBQVhqTSxFQUNBLEtBQU0sK0NBRVZtTSxFQUFTaE0sT0FBT0gsRUFBTyxJQUczQjlILEtBQUt3VixnQkFBa0IsU0FBVW5RLEdBSTdCLE9BSElBLEVBQU93TyxjQUFnQjRCLGlCQUN2QnBRLEVBQVNBLEVBQU94RixNQUVid0YsRUFBT3VOLFdBQVdtQixRQUc3Qi9ULEtBQUt5VSxnQkFBa0IsU0FBVUssRUFBV00sRUFBUWpHLEdBQzVDMkYsRUFBVWpCLGNBQWdCNEIsaUJBQzFCWCxFQUFZQSxFQUFVcEMsZ0JBRzFCLElBQUkyQyxFQUFlclYsS0FBS3dWLGdCQUFnQkosR0FDeEJELEVBQWNsQixFQUFVbUIsRUFBUUMsR0FDdENaLGdCQUFnQkssRUFBVzNGLElBRXpDblAsS0FBS3FULGVBQWlCLFNBQVV5QixFQUFXTSxFQUFRakcsR0FJL0MsR0FISTJGLEVBQVVqQixjQUFnQjRCLGlCQUMxQlgsRUFBWUEsRUFBVXBDLHFCQUVYcFMsSUFBWDhVLEVBQ0FuQixFQUFTdFUsU0FBUSxTQUFVMlYsR0FDdkJBLEVBQVVOLGVBQWVGLFVBRTFCLENBRUgsSUFBSU8sRUFBZXJWLEtBQUt3VixnQkFBZ0JKLEdBQ3hCRCxFQUFjbEIsRUFBVW1CLEVBQVFDLEdBQ3RDTCxlQUFlRixFQUFXM0YsS0FHNUNuUCxLQUFLdVQsZUFBaUIsU0FBVXVCLEVBQVdNLEtBQzNDcFYsS0FBSzRNLGFBQWUsU0FBVXVDLEdBSzFCLElBQUlpRyxFQUFTbkIsRUFBU2lCLEVBQWdCL0YsRUFBYzlKLFNBQ3BELElBQUsrUCxLQUNEQSxFQUFTbkIsRUFBU2lCLEVBQWdCbFYsS0FBS3dWLGdCQUFnQnJHLEVBQWM5SixXQUVqRSxLQUFNLDhCQUdDK1AsRUFBT0wsYUFBYTVGLEVBQWNJLFlBQWFKLEVBQWMvQyxXQUduRXlJLFdBQVdsVixTQUFRLFNBQVVrRyxHQUNsQ0EsRUFBRStHLGFBQWE1TSxRQUNoQm1QLElBcEdYLG1DLDZCQ0dBLFNBQVN1RyxFQUFZQyxFQUFnQnRWLEVBQU1tRCxFQUFLb1MsR0FFNUMsSUFhSWhVLEVBYkEwSSxFQUFPdEssS0FlWC9CLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsS0FBUSxDQUNKLE1BQVNLLEdBRWIsSUFBTyxDQUNILE1BQVNtRCxHQUViLFlBQWUsQ0FDWCxJQUFPLFdBQVksT0FBT29TLElBRTlCLE1BQVMsQ0FDTCxNQUFTLFdBQ0wsT0FBSUEsRUFDTzNTLFFBQVFDLFFBQVEwUyxTQUNWdFYsSUFBTnNCLElBM0JuQkEsRUFBSWlVLE1BQU1yUyxHQUFLRyxNQUFLLFNBQVNtUyxHQUN6QixPQUFPQSxFQUFFQyxpQkFDVnBTLE1BQUssU0FBU3FTLEdBQ2IsT0FBT0wsRUFBZWhNLFFBQVFzTSxnQkFBZ0JELE1BQy9DclMsTUFBSyxTQUFTcVMsR0FHYixPQUZBSixFQUFjSSxFQUNkcFUsT0FBSXRCLEVBQ0dnSyxNQXVCSTFJLEtBR2YsT0FBVSxDQUNOLE1BQVMsV0FDTCxNQUFPLENBQUN2QixLQUFNQSxFQUFNbUQsSUFBS0EsS0FHakMsU0FBWSxDQUNSLE1BQVMsV0FDTCxPQUFPNUMsS0FBS0UsVUFBVWQsS0FBS21PLGNDMUMzQyxTQUFTK0gsRUFBaUJQLEVBQWdCdFYsRUFBTThWLEdBQzVDLElBQUlDLEVBQWUsR0FDbkIsU0FBU0MsRUFBZTdTLEdBQ3BCLE9BQU80UyxFQUFheFEsTUFBSyxTQUFTMFEsR0FDOUIsT0FBT0EsRUFBTTlTLEtBQU9BLEtBRzVCeEQsS0FBS3VXLGtCQUFvQixTQUFTbFcsRUFBTW1ELEVBQUtvUyxHQUN6QyxHQUFrQixpQkFBUHBTLEVBQ1AsS0FBTSx3REFFVixHQUFJNlMsRUFBZTdTLEdBQ2YsS0FBTSxRQUFTQSxFQUFJLHlCQUd2QixPQURBNFMsRUFBYXBRLEtBQUssSUFBSTBQLEVBQVlDLEVBQWdCdFYsRUFBTW1ELEVBQUtvUyxJQUN0RFEsR0FFWHBXLEtBQUt3VyxvQkFBc0IsU0FBU0YsR0FDaEMsSUFBSXhPLEVBQVFzTyxFQUFhck8sV0FBVSxTQUFTdU8sR0FDeEMsT0FBT0EsRUFBTTlTLEtBQU9BLE9BRXhCLElBQWMsR0FBVnNFLEVBQ0EsS0FBTSx5QkFHVixPQURBc08sRUFBYW5PLE9BQU9ILEVBQU8sR0FDcEJzTyxHQUVYcFcsS0FBS3lXLHVCQUF5QixTQUFTalQsR0FDbkMsR0FBa0IsaUJBQVBBLEVBQ1AsS0FBTSw2REFFVixJQUFJOFMsRUFBUUQsRUFBZTdTLEdBQzNCLE9BQU94RCxLQUFLd1csb0JBQW9CRixJQUVwQ3RXLEtBQUtvVyxhQUFlQSxFQUNwQnBXLEtBQUtLLEtBQU9BLEVBQ1pMLEtBQUttVyxhQUFlQSxFQ21EVCxNQTFGZixTQUEyQjlRLEVBQVFxUixFQUFrQkMsR0FFakQsU0FBU0MsRUFBWXRNLEVBQU11TSxHQUN2QixPQUFPNVQsUUFBUWdILElBQUk0TSxFQUFXbEMsSUFBSTJCLEdBQVNBLEVBQU1ULFVBQ2hEbFMsTUFBSyxXQUNtQixtQkFBVm1ULFFBQ1BBLE9BQU8xWSxLQUFLa00sRUFBTXVNLE1BRXZCLFdBQ3VCLG1CQUFYOUosU0FDUEEsUUFBUTNPLEtBQUtrTSxNQVN6QnRLLEtBQUsrVyxXQUFhLFNBQVNDLEdBQ3ZCLElBQUlOLEVBQWlCTyxXQUFXeEYsU0FBU3VGLEdBR3JDLEtBQUssa0NBRkxMLEVBQU9LLEdBTWZoWCxLQUFLa1gsZ0JBQWtCLFdBQ25CLE9BQU9QLEVBQUtQLGFBQWEzVyxNQUFNNlcsUUFBK0JoVyxJQUF0QmdXLEVBQU1WLGNBR2xENVYsS0FBS21YLGlCQUFtQixTQUFTOVcsR0FDN0IsUUFBYUMsSUFBVHFXLEdBQTJDclcsTUFBckJxVyxFQUFLUCxhQUMzQixLQUFLLG1CQUVULElBQUlFLEVBQVFLLEVBQUtQLGFBQWF4USxLQUFLMFEsR0FBU2pXLEdBQVFpVyxFQUFNalcsTUFDMUQsR0FBSWlXLEVBQ0EsT0FBT0EsRUFBTVQsUUFFYixLQUFPLG1CQUFtQnpRLE9BQU8vRSxHQUFNLGdDQUkvQ3BDLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsS0FBUSxDQUNKLElBQU8sV0FBYSxPQUFPMlcsSUFFL0IsV0FBYyxDQUNWLE1BQVMsU0FBVUUsR0FDZixRQUFhdlcsSUFBVHFXLEdBQTJDclcsTUFBckJxVyxFQUFLUCxhQUMzQixLQUFLLG1CQUtULEdBSGtCOVYsTUFBZHVXLElBQ0FBLEVBQWFGLEVBQUtQLGVBRWpCZ0IsTUFBTUMsUUFBUVIsSUFBb0MsR0FBckJBLEVBQVcxWCxPQUN6QyxLQUFNLCtCQUtWLE9BSGdCMFgsRUFBV3BYLE9BQU0sU0FBUzZXLEdBQ3RDLE9BQU9LLEVBQUtQLGFBQWFrQixLQUFLMUQsR0FBTUEsRUFBR3ZULE1BQVFpVyxFQUFNalcsU0FLbER1VyxFQUFZNVcsS0FBTTZXLEdBRmQ1VCxRQUFRRSxPQUFPLDJDQUtsQyxPQUFVLENBQ04sSUFBTyxXQUFhLE9BQU8yVCxRQUMzQixJQUFPLFNBQVNyVCxHQUNaLEdBQWdCLG1CQUFMQSxRQUF5Qm5ELElBQU5tRCxFQUcxQixLQUFNLGtDQUZOcVQsT0FBU3JULElBTXJCLFFBQVcsQ0FDUCxJQUFPLFdBQWEsT0FBT3FULFFBQzNCLElBQU8sU0FBU3JULEdBQ1osR0FBZ0IsbUJBQUxBLFFBQXlCbkQsSUFBTm1ELEVBRzFCLEtBQU0sa0NBRk5zSixRQUFVdEosT0M3RTlCLFNBQVM4VCxFQUFlQyxFQUFlblgsR0FDbkMsT0FBT21YLEVBQWM1UixNQUFLLFNBQVNxSyxHQUMvQixPQUFPQSxFQUFFNVAsTUFBUUEsS0FxRFYsSUFqRGYsU0FBNEJzVixHQUN4QixJQUFJNkIsRUFBZ0IsR0FDcEJ4WCxLQUFLeVgsY0FBZ0IsU0FBU3BYLEVBQU04VixHQUNoQyxHQUFtQixpQkFBUjlWLEVBQ1AsS0FBTSx3REFFVixHQUFJa1gsRUFBZUMsRUFBZW5YLEdBQzlCLEtBQU0sbUJBQW9CQSxFQUFLLHlCQUVuQyxJQUFJcVgsRUFBWSxJQUFJeEIsRUFBaUJQLEVBQWdCdFYsRUFBTThWLEdBRTNELE9BREFxQixFQUFjeFIsS0FBSzBSLEdBQ1pBLEdBRVgxWCxLQUFLMlgsd0JBQTBCLFNBQVNELEdBQ3BDLElBQUk1UCxFQUFRMFAsRUFBYzlPLFFBQVFnUCxHQUNsQyxJQUFjLEdBQVY1UCxFQUNBLEtBQU0sOEJBR1YsT0FEQTBQLEVBQWN2UCxPQUFPSCxFQUFPLEdBQ3JCMFAsR0FFWHhYLEtBQUs0WCw4QkFBZ0MsU0FBU3ZYLEdBQzFDLEdBQW1CLGlCQUFSQSxFQUNQLEtBQU0sNkRBRVYsSUFBSWlXLEVBQVFpQixFQUFlQyxFQUFlblgsR0FDMUMsT0FBT0wsS0FBS3dXLG9CQUFvQkYsSUFFcEN0VyxLQUFLaVgsV0FBYU8sRUFDbEJ4WCxLQUFLNlgsd0JBQTBCLFNBQVN4UyxFQUFRc1IsR0FDNUMsT0FBTyxJQUFJLEVBQWtCdFIsRUFBUXJGLEtBQU0yVyxJQUUvQzNXLEtBQUttSyxxQkFBdUIsU0FBUzJOLEdBQ2pDQSxFQUFXYixXQUFXdFgsU0FBUSxTQUFTb1ksR0FDbkMsSUFBSUMsRUFBaUJoWSxLQUFLeVgsY0FBY00sRUFBa0IxWCxLQUFNMFgsRUFBa0I1QixjQUNsRjRCLEVBQWtCM0IsYUFBYXpXLFNBQVEsU0FBU3NZLEdBQzVDLElBQUlyQyxFQUNKLFFBQWtDdFYsSUFBOUIyWCxFQUFjckMsWUFBMkIsQ0FDekNBLEVBQWNELEVBQWVoTSxRQUFRdU8sYUFBYUQsRUFBY3JDLFlBQVlwSixpQkFBa0J5TCxFQUFjckMsWUFBWXpXLE9BQVE4WSxFQUFjckMsWUFBWS9MLFlBQzFKLElBQUssSUFBSWpLLEVBQUksRUFBR0EsRUFBSWdXLEVBQVlwSixpQkFBa0I1TSxJQUM5Q2dXLEVBQVl1QyxjQUFjRixFQUFjckMsWUFBWW5KLGVBQWU3TSxHQUFJQSxFQUFHLEdBR2xGSSxLQUFLdVcsa0JBQWtCMEIsRUFBYzVYLEtBQU00WCxFQUFjelUsSUFBS29TLEtBQy9Eb0MsS0FDSmhZLFMsNkJDeERJLFNBQVN5VixFQUFlMkMsR0FDbkNwWSxLQUFLcVksZUFBWS9YLEVBQ2pCLElBQUlnWSxHQUFZLEVBQ1pDLEVBQUssSUFBSTlaLFlBQ1QrWixFQUFNSixFQUFZek8sUUFBUThPLGFBQzFCQyxFQUFPTixFQUFZek8sUUFBUThPLGFBRS9CRCxFQUFJeE4sUUFBUW9OLEVBQVlPLFlBQVksSUFDcENQLEVBQVlRLGFBQWEsR0FBRzVOLFFBQVEwTixHQUNwQ04sRUFBWWpZLGlCQUFpQkgsTUFvQjdCQSxLQUFLMFIsT0FBUyxTQUFVbkUsR0FFcEIsT0FEQUEsR0FBbUIsSUFBVkEsS0FDSytLLElBR1YvSyxHQXRCSmlMLEVBQUl2TixhQUNKdU4sRUFBSXhOLFFBQVEwTixHQUNaSixHQUFZLEVBQ2dDLEdBQXhDRixFQUFZbkgsMEJBQ1pzSCxFQUFHaFksY0FBYyxJQUFJNFEsTUFBTSxpQkFLL0JxSCxFQUFJdk4sYUFDSnVOLEVBQUl4TixRQUFRb04sRUFBWU8sWUFBWSxJQUNwQ0wsR0FBWSxFQUNnQyxHQUF4Q0YsRUFBWW5ILDBCQUNac0gsRUFBR2hZLGNBQWMsSUFBSTRRLE1BQU0saUJBT3BCbUgsR0FVZnRZLEtBQUtnUixXQUFhLFdBQ2QsT0FBT3NILEdBR1h0WSxLQUFLb1EsVUFBWSxTQUFVeUksR0FDdkI3WSxLQUFLZ0wsUUFBUTZOLElBR2pCN1ksS0FBS2dMLFFBQVUsU0FBVTZOLEdBSXJCLFlBSHVCdlksSUFBbkJOLEtBQUtxWSxXQUNMclksS0FBS2lMLGtCQUVRM0ssSUFBYnVZLFFBQTZDdlksSUFBbkJ1WSxFQUFTL04sUUFDbkM5SyxLQUFLcVksVUFBWVEsRUFDakJILEVBQUsxTixRQUFRaEwsS0FBS3FZLFVBQVV2TixRQUNyQixJQUtmOUssS0FBS2lMLFdBQWEsZ0JBQ1MzSyxJQUFuQk4sS0FBS3FZLFlBQ0xLLEVBQUt6TixXQUFXakwsS0FBS3FZLFVBQVV2TixPQUMvQjlLLEtBQUtxWSxlQUFZL1gsSUFJekJOLEtBQUtrSSxRQUFVLFdBQ1hrUSxFQUFZbFEsV0FHaEJqSyxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLFlBQWUsQ0FDWCxNQUFTLFNBQVM2RixHQUNkMFMsRUFBR2hZLGNBQWMsSUFBSTRRLE1BQU10TCxFQUFFeEIsU0FHckMsaUJBQW9CLENBQ2hCLE1BQVMsU0FBUzNFLEVBQUVPLEVBQUVDLEdBQ2xCLE9BQU9xWSxFQUFHcFksaUJBQWlCVCxFQUFFTyxFQUFFQyxLQUd2QyxvQkFBdUIsQ0FDbkIsTUFBUyxTQUFTUixFQUFFTyxFQUFFQyxHQUNsQixPQUFPcVksRUFBR25ZLG9CQUFvQlYsRUFBRU8sRUFBRUMsS0FHMUMsS0FBUSxDQUNKLE1BQVNrWSxHQUViLE1BQVMsQ0FDTCxJQUFPLFdBQ0gsT0FBT0ksSUFHZixPQUFVLENBQ04sSUFBTyxXQUNILE9BQU9FLElBR2YsU0FBWSxDQUNSLElBQU8sV0FDSCxPQUFPSixNQ3ZHUixTQUFTUSxFQUFzQkMsR0FDMUMsSUFBSUwsRUFBT0ssRUFBVXBQLFFBQVE4TyxhQUM3Qk0sRUFBVUgsYUFBYSxHQUFHNU4sUUFBUTBOLEdBRWxDMVksS0FBS2tJLFFBQVUsV0FDWDZRLEVBQVU3USxXQUdkakssT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0osTUFBUytZLEdBRWIsT0FBVSxDQUNOLElBQU8sV0FDSCxPQUFPTCxNQ1pSLFNBQVNNLEVBQWdCNVMsRUFBT3BELEdBQzNDLElBQUlzSCxFQUFPdEssS0FnR1gsU0FBU2laLEVBQWtCblcsRUFBZ0JsQixHQUN2QyxHQUFLQSxFQVdELE9BQU9BLEVBQUUrQixLQUFLTyxhQUFhcEIsSUFWM0IsSUFBSW9XLEVBQUloVixhQUFhcEIsR0FRckIsT0FQQW9XLEVBQUV2VixNQUFLLFNBQVViLEdBQ2IsUUFBaUN4QyxJQUE3QndDLEVBQWVxVyxXQUEyQnJXLEVBQWVxVyxVQUFVaGEsT0FBUyxFQUM1RSxJQUFLLElBQUlTLEVBQUksRUFBR0EsRUFBSWtELEVBQWVxVyxVQUFVaGEsT0FBUVMsSUFDakRzWixFQUFJRCxFQUFrQm5XLEVBQWVxVyxVQUFVdlosR0FBSXNaLE1BSXhEQSxFQU1mLFNBQVNFLEVBQWU1VixHQUNwQixJQUFJNlYsRUFBTXZaLFNBQVNiLGNBQWMsUUFDakNvYSxFQUFJaGEsYUFBYSxNQUFPLGNBQ3hCZ2EsRUFBSWhhLGFBQWEsT0FBUSxZQUN6QmdhLEVBQUloYSxhQUFhLE9BQVFtRSxHQUN6QjFELFNBQVNvRixxQkFBcUIsUUFBUSxHQUFHaEcsWUFBWW1hLEdBR3pELFNBQVNDLEVBQWlCeFcsR0FDdEIsT0FBSUEsRUFBZTNFLGVBQWUsV0FBYTJFLEVBQWUzRCxPQUFTLEVBQzVEbWEsRUFBaUJ4VyxFQUFlQSxFQUFlM0QsT0FBUyxJQUN4RDJELEVBQWUzRSxlQUFlLGFBQzlCbWIsRUFBaUJ4VyxFQUFlcVcsV0FFaENyVyxFQUFlcUIsS0E3SDlCbEcsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0puQyxNQUFPdUksRUFBTWxJLFVBQVVtQyxNQUUzQixNQUFTLENBQ0x4QyxNQUFPdUksR0FFWCxRQUFXLENBQ1B2SSxNQUFPdUksRUFBTWxJLFVBQVV1SCxTQUUzQixTQUFZLENBQ1I1SCxNQUFPdUksRUFBTWxJLFVBQVV3SCxVQUUzQixhQUFnQixDQUNaN0gsTUFBT3VJLEVBQU1sSSxVQUFVbUksZUFBZ0IsR0FFM0MsY0FBaUIsQ0FDYnhJLE1BQU91SSxFQUFNbEksVUFBVW9JLGdCQUFpQixLQUloRHRHLEtBQUt5SyxxQkFBdUI4TyxlQUFldkwsRUFBT3VMLEdBQzlDLElBQUkzWCxFQVNSLFNBQThCb00sR0FDMUIsT0EwSU8vSyxRQUFRZ0gsSUFBSXVQLEdBMUlLN1YsTUFBSyxXQUN6QixPQUFPLElBQUlWLFNBQVEsU0FBU0MsRUFBU0MsSUE4SDdDLFdBRUksSUFEQSxJQUFJb0ssR0FBUSxFQUNIM04sRUFBSSxFQUFHQSxFQUFJNFosRUFBaUJyYSxPQUFRUyxJQUN6QyxHQUFrQyxJQUE5QjRaLEVBQWlCNVosR0FBRzJOLFFBQWdCaU0sRUFBaUI1WixHQUFHdUUsT0FBUSxDQUNoRW9KLEdBQVEsRUFDUixNQUdSLE9BQU9BLEVBcklNa00sR0FDRHRXLEVBQU8sSUFBSTJHLE1BQU0scUJBRWpCNUcsRUFBUSxJQUFJa0QsRUFBTXBELEVBQVNnTCxVQUdwQ3JLLE1BQUssU0FBUzBCLEdBQ2IsT0FBTyxJQUFJcEMsU0FBUSxTQUFTQyxFQUFTQyxHQUNqQyxHQUFJa0MsRUFBT3FVLFdBQ1AsT0FBT3JVLEVBQU9xVSxhQUFhL1YsTUFBSyxXQUM1QlQsRUFBUW1DLE1BR1puQyxFQUFRbUMsU0FHakIxQixNQUFLLFNBQVMwQixHQUNiLElBQUl4RixFQUNKLElBQTRCLElBQXhCd0YsRUFBT2dCLGVBQWtELElBQXpCaEIsRUFBT2lCLGNBQ3ZDekcsRUFBTyxJQUFJNFYsRUFBZXBRLE9BQ3ZCLEtBQTRCLElBQXhCQSxFQUFPZ0IsZUFBa0QsSUFBekJoQixFQUFPaUIsY0FHOUMsS0FBSyxnQ0FGTHpHLEVBQU8sSUFBSWlaLEVBQXNCelQsR0FvQ3JDLE9BaENBcEgsT0FBTzhCLGlCQUFpQnNGLEVBQVEsQ0FDNUIsZUFBa0IsQ0FDZCxNQUFTeEYsR0FFYixnQkFBbUIsQ0FDZixNQUFTeUssR0FFYixLQUFRLENBQ0p6TSxNQUFPdUksRUFBTWxJLFVBQVVtQyxNQUUzQixRQUFXLENBQ1B4QyxNQUFPdUksRUFBTWxJLFVBQVV1SCxTQUUzQixTQUFZLENBQ1I1SCxNQUFPdUksRUFBTWxJLFVBQVV3SCxVQUUzQixXQUFjLENBQ1Y3SCxNQUFPbUYsRUFBUWtFLGFBRW5CLFNBQVksQ0FDUnJKLE1BQU9tRixFQUFRbUUsWUFHdkJsSixPQUFPOEIsaUJBQWlCRixFQUFNLENBQzFCLGdCQUFtQixDQUNmLE1BQVN5SyxHQUViLGtCQUFxQixDQUNqQixNQUFTakYsRUFBT3VELHFCQUd4QjVGLEVBQVFzRix1QkFBdUJ6SSxHQUN4QkEsS0FyRUg0SyxDQUFxQnVELEdBQzdCLE9BQWMsSUFBVnVMLFNBR00zWCxFQUZDQSxHQXlHZixJQUFJNFgsRUFBbUIsR0FDdkIsR0FBSXBULEVBQU1sSSxVQUFVaWIsVUFDaEIsSUFBSyxJQUFJdlosRUFBSSxFQUFHQSxFQUFJd0csRUFBTWxJLFVBQVVpYixVQUFVaGEsT0FBUVMsSUFBSyxDQUN2RCxJQUFJK1osRUFBV3ZULEVBQU1sSSxVQUFVaWIsVUFBVXZaLEdBRXpDLE9BREErWixFQUFTdFYsS0FBT3NWLEVBQVN0VixLQUFLQyxjQUN0QnFWLEVBQVN0VixNQUNiLElBQUssTUFDRCtVLEVBQWVPLEVBQVNuVyxLQUN4QixNQUNKLElBQUssYUFDRCxJQUFJbkYsRUFBUyxDQUNULFFBQVc0YSxFQUFrQlUsR0FDN0IsTUFBUyxFQUNULFNBQVksV0FDUjNaLEtBQUt1TixNQUFRLEdBRWpCLEtBQVErTCxFQUFpQkssSUFFN0J0YixFQUFPdWIsUUFBUWpXLEtBQUt0RixFQUFPd2IsU0FBUzliLEtBQUtNLElBQ3pDbWIsRUFBaUJ4VCxLQUFLM0gsR0FDdEIsTUFDSixRQUNJLEtBQU8sa0JBQW9Cc2IsRUFBU25XLElBQU0sMkJBSzFEeEQsS0FBSzhaLG9CQUFzQixXQUN2QixPQUFPTixHQW5LZixtQyxjQ0FBLElBQUlPLEVBR0pBLEVBQUksV0FDSCxPQUFPL1osS0FESixHQUlKLElBRUMrWixFQUFJQSxHQUFLLElBQUlDLFNBQVMsY0FBYixHQUNSLE1BQU9uVSxHQUVjLGlCQUFYckIsU0FBcUJ1VixFQUFJdlYsUUFPckN4RyxFQUFPMEYsUUFBVXFXLEcsK0NDbEJqQixTQUFTRSxFQUFnQmpNLEVBQU8zTixFQUFNNlosRUFBVUMsRUFBYUMsR0FDekQsSUFBSUMsRUFBUUMsRUFBV0MsRUFDbkJ4SyxFQUFjLElBQUl0UixZQUN0QjRiLEVBQVNDLEVBQVksU0FBVUUsR0FDM0IsT0FBT0EsR0FFWEQsRUFBVSxhQUNnQixpQkFBZkosR0FBaUQsR0FBdEJBLEVBQVloYixTQUM5Q2diLEVBQWM5WixRQUVGQyxJQUFaOFosSUFDQUEsR0FBVSxHQUVRLGtCQUFYQSxJQUNQclcsUUFBUUMsS0FBSyxxRUFDYm9XLEdBQVUsR0FFZG5jLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsaUJBQW9CLENBQ2hCLE1BQVMsU0FBU3FFLEVBQU1vVyxFQUFVQyxHQUM5QixPQUFPM0ssRUFBWTVQLGlCQUFpQmtFLEVBQU1vVyxFQUFVQyxLQUc1RCxvQkFBdUIsQ0FDbkIsTUFBUyxTQUFTclcsRUFBTW9XLEVBQVVDLEdBQzlCLE9BQU8zSyxFQUFZM1Asb0JBQW9CaUUsRUFBTW9XLEVBQVVDLEtBRy9ELG9CQUF1QixDQUNuQixNQUFTLFNBQVN2TyxHQUNkLElBQUlILEVBQU8sQ0FBQ3ZMLE9BQVEsQ0FDaEJrYSxVQUFXM2EsS0FDWG1NLGlCQUFrQkEsSUFFdEI0RCxFQUFZeFAsY0FBYyxJQUFJQyxZQUFZLGVBQWdCd0wsTUFHbEUsS0FBUSxDQUNKLE1BQVMzTCxHQUViLE1BQVMsQ0FDTCxNQUFTMk4sR0FFYixZQUFlLENBQ1gsTUFBU21NLEdBRWIsUUFBVyxDQUNQLE1BQVNDLEdBRWIsT0FBVSxDQUNOLElBQU8sV0FDSCxPQUFPQyxHQUVYLElBQU8sU0FBVTVXLEdBQ2IsR0FBaUIsbUJBQU5BLEVBQ1AsS0FBTSw4QkFFVixRQUFhbkQsSUFBVG1ELEVBQUUsR0FDRixLQUFNLCtCQUVWNFcsRUFBUzVXLElBR2pCLFVBQWEsQ0FDVCxJQUFPLFdBQ0gsT0FBTzZXLEdBRVgsSUFBTyxTQUFVN1csR0FDYixHQUFpQixtQkFBTkEsRUFDUCxLQUFNLDhCQUVWLFFBQWFuRCxJQUFUbUQsRUFBRSxHQUNGLEtBQU0sK0JBRVY2VyxFQUFZN1csSUFHcEIsUUFBVyxDQUNQLElBQU8sV0FDSCxPQUFPOFcsR0FFWCxJQUFPLFNBQVU5VyxHQUNiLEdBQWlCLG1CQUFOQSxFQUNQLEtBQU0sOEJBRVY4VyxFQUFVOVcsSUFHbEIsaUJBQW9CLENBQ2hCLGNBQWdCLEVBQ2hCLE1BQVMsU0FBVW1YLEdBQ2YsS0FBSywwREFHYixnQkFBbUIsQ0FDZixjQUFnQixFQUNoQixJQUFPLGdCQ2hHbkIsSUFBSUMsRUFBWSxTQUFTN00sRUFBT2pGLEVBQU1sTCxFQUFPaWQsR0FDekMsR0FBbUIsaUJBQVIvUixJQUFxQmdTLFNBQVNoUyxJQUFTQSxFQUFPLEVBQ3JELEtBQUssc0RBRVQsR0FBb0IsaUJBQVRsTCxJQUFzQmtkLFNBQVNsZCxHQUN0QyxLQUFLLDhDQUVUSSxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLEtBQVEsQ0FDSixJQUFPLFdBQ0gsT0FBTytJLEdBRVgsSUFBTyxTQUFTVyxHQUNaLE9BQU8xSixLQUFLZ2IsUUFBUXRSLEtBRzVCLE1BQVMsQ0FDTCxJQUFPLFdBQ0gsT0FBTzdMLEdBRVgsSUFBTyxTQUFTMmMsR0FDWixPQUFPeGEsS0FBS2liLFNBQVNULEtBRzdCLFNBQVksQ0FDUixNQUFTLFNBQVNBLEdBQ2QsR0FBZ0IsaUJBQUxBLElBQWtCTyxTQUFTUCxHQUNsQyxLQUFLLHlCQUdULE9BREEzYyxFQUFRcWQsS0FBS0MsSUFBSUQsS0FBS0UsSUFBSVosRUFBR3hNLEVBQU1xTixTQUFVck4sRUFBTXNOLFdBSTNELFFBQVcsQ0FDUCxNQUFTLFNBQVM1UixHQUlkLE1BSGdCLGlCQUFMQSxHQUFpQnFSLFNBQVNyUixJQUFNQSxHQUFLLElBQzVDWCxFQUFPVyxHQUVKWCxJQUdmLFNBQVksQ0FDUixNQUFTLFdBQ0wsTUFBMkIsbUJBQWhCK1IsRUFDQUEsRUFBYTFjLEtBQUs0QixLQUFNbkMsR0FFNUJ1SCxPQUFPdkgsS0FHdEIsTUFBUyxDQUNMLE1BQVNtUSxNQUtqQnVOLEVBQWdCLFNBQVNDLEVBQVdDLEVBQVdYLEdBQy9DLFNBQVNZLEVBQWVDLEVBQWtCNVMsR0FDdEMsT0FBTzRTLEVBQWlCL1YsTUFBSyxTQUFTaEUsR0FDbEMsT0FBT0EsRUFBRW1ILE1BQVFBLEtBTXpCLFNBQVM2UyxFQUFXRCxHQUNoQixPQUFPQSxFQUFpQkUsTUFBSyxTQUFTbmMsRUFBRU8sR0FDcEMsT0FBSVAsRUFBRXFKLEtBQU85SSxFQUFFOEksS0FDSixHQUVDLEtBSXBCLEdBQXdCLGlCQUFieVMsSUFBMEJULFNBQVNTLEdBQzFDLEtBQUssNkNBRVQsR0FBd0IsaUJBQWJDLElBQTBCVixTQUFTVSxHQUMxQyxLQUFLLDZDQUVULEdBQUlELEdBQWFDLEVBQ2IsS0FBSywyREFFVCxHQUFJQSxFQUFZRCxFQUNaLEtBQUssa0VBRVQsSUFBSUcsRUFBbUIsR0FDdkIxZCxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLFlBQWUsQ0FDWCxNQUFTLFNBQVMrSSxFQUFNbEwsR0FDcEIsR0FBbUIsaUJBQVJrTCxJQUFxQmdTLFNBQVNoUyxJQUFTQSxFQUFPLEVBQ3JELEtBQUssaUNBRVQsR0FBb0IsaUJBQVRsTCxJQUFzQmtkLFNBQVNsZCxHQUN0QyxLQUFLLHlCQUVULEdBbENaLFNBQXdCOGQsRUFBa0I1UyxHQUN0QyxZQUFrRHpJLElBQTNDb2IsRUFBZUMsRUFBa0I1UyxHQWlDNUIrUyxDQUFlSCxFQUFrQjVTLEdBQ2pDLEtBQU0saUNBQWlDQSxFQUUzQ2xMLEVBQVFxZCxLQUFLQyxJQUFJRCxLQUFLRSxJQUFJdmQsRUFBTzJkLEdBQVlDLEdBQzdDLElBQUlNLEVBQVEsSUFBSWxCLEVBQVU3YSxLQUFNK0ksRUFBTWxMLEVBQU9pZCxHQUc3QyxPQUZBYSxFQUFpQjNWLEtBQUsrVixHQUN0QkosRUFBbUJDLEVBQVdELEdBQ3ZCSSxJQUdmLFVBQWEsQ0FDVCxNQUFTLFNBQVNDLEVBQVlDLEdBTzFCLFlBTm1CM2IsSUFBZjBiLElBQ0FBLEVBQWEsUUFFQTFiLElBQWIyYixJQUNBQSxFQUFXQyxLQUVSUCxFQUFpQnhWLFFBQU8sU0FBUzRWLEdBQ3BDLE9BQU9BLEVBQU1oVCxNQUFRaVQsR0FBY0QsRUFBTWhULEtBQU9rVCxPQUk1RCxZQUFlLENBQ1gsTUFBUyxTQUFTbFQsR0FDZCxJQUFJakIsRUFBUTZULEVBQWlCNVQsV0FBVSxTQUFTZ1UsR0FDNUMsT0FBT0EsRUFBTWhULE1BQVFBLEtBS3pCLE9BSElqQixHQUFTLEdBQ1Q2VCxFQUFpQjFULE9BQU9ILEVBQU8sRUFBRyxHQUUvQjZULEVBQWlCeGMsU0FHaEMsdUJBQTBCLENBQ3RCLFVBQVksRUFDWixNQUFTLFNBQVV0QixHQUNmLE9BQU91SCxPQUFPdkgsS0FHdEIsb0JBQXVCLENBQ25CLE1BQVMsU0FBVWtMLEdBQ2YsT0FBTzJTLEVBQWVDLEVBQWtCNVMsS0FHaEQsT0FBVSxDQUNOLElBQU8sV0FDSCxPQUFPNFMsRUFBaUJ4YyxTQUdoQyxRQUFXLENBQ1AsTUFBU3FjLEdBRWIsUUFBVyxDQUNQLE1BQVNDLEdBRWIsWUFBZSxDQUNYLE1BQVMsU0FBUzFTLEVBQU0yUixHQUNwQixJQUFJcUIsRUFBUUosRUFBaUIvVixNQUFLLFNBQVNtVyxHQUN2QyxPQUFPQSxFQUFNaFQsTUFBUUEsS0FFekIsR0FBSWdULEVBQU8sQ0FDUCxHQUEyQixpQkFBaEJyQixFQUFRM1IsTUFBb0IyUixFQUFRM1IsTUFBUWdULEVBQU1oVCxLQUFNLENBQy9ELEdBQUkyUyxFQUFlQyxFQUFrQjVTLEdBQ2pDLEtBQU0sbUNBQW9DM0QsT0FBT3NWLEVBQVEzUixNQUFNLFlBRS9EZ1QsRUFBTWhULEtBQU8yUixFQUFRM1IsS0FDckI0UyxFQUFtQkMsRUFBV0QsR0FHdENJLEVBQU1sZSxNQUFRNmMsRUFBUTdjLE1BRTFCLE9BQU9rZSxPQU1uQkksRUFBc0IsU0FBU3hCLEVBQVdhLEVBQVdDLEVBQVdYLEdBQ2hFUyxFQUFjbmQsS0FBSzRCLEtBQU13YixFQUFXQyxFQUFXWCxHQUMvQyxJQUFJaFosR0FBVSxFQUNkN0QsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixRQUFXLENBQ1AsSUFBTyxXQUNILE9BQU84QixHQUVYLElBQU8sU0FBUzRILEdBSVosT0FISTFKLEtBQUtiLE9BQVMsSUFDZDJDLEdBQWlCLElBQU40SCxHQUVSNUgsT0FNbkJzYSxFQUE0QixTQUFVcE8sRUFBTzJNLEVBQVdhLEVBQVdDLEVBQVdYLEdBWTlFLFNBQVN1QixFQUFvQlYsRUFBa0I1UyxHQUMzQyxHQUErQixHQUEzQjRTLEVBQWlCeGMsT0FDakIsS0FBSyxpQ0FFVCxHQUErQixHQUEzQndjLEVBQWlCeGMsT0FDakIsT0FBT3djLEVBQWlCLEdBQUc5ZCxNQUcvQixJQUFJeWUsRUFBYVgsRUFBaUJZLFFBQU8sU0FBU1IsRUFBT1MsR0FDckQsT0FBSUEsRUFBVXpULE1BQVFBLEVBQ1h5VCxFQUVBVCxJQUVaSixFQUFpQixJQUNoQmMsRUFBY2QsRUFBaUIvVixNQUFLLFNBQVNtVyxHQUM3QyxPQUFPQSxFQUFNaFQsS0FBT3VULEVBQVd2VCxRQUVuQyxZQUFvQnpJLElBQWhCbWMsR0FBNkJILEVBQVd2VCxLQUFPQSxFQUN4Q3VULEVBQVd6ZSxNQTdCMUIsU0FBNkJrTCxFQUFNMlQsRUFBUUMsR0FDdkMsSUFBSUMsRUFBS0YsRUFBTzNULEtBQ1o4VCxFQUFLRixFQUFPNVQsS0FDaEJBLEdBQVE2VCxFQUNSQyxHQUFNRCxFQUNOQSxFQUFLLEVBRUwsSUFBSWhiLEVBQUltSCxFQUFLOFQsRUFDYixPQUFPSCxFQUFPN2UsT0FBUyxFQUFFK0QsR0FBSythLEVBQU85ZSxNQUFRK0QsRUF1QnRDa2IsQ0FBb0IvVCxFQUFNdVQsRUFBWUcsR0FoQ2pETixFQUFvQi9kLEtBQUs0QixLQUFNMmEsRUFBV2EsRUFBV0MsRUFBV1gsR0FzRGhFN2MsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixvQkFBdUIsQ0FDbkIsTUFBUyxTQUFTK0ksR0FDZCxPQUFPc1QsRUFBb0JyYyxLQUFLK2MsWUFBYWhVLEtBR3JELE1BQVMsQ0FDTCxNQUFTLFNBQVNBLEVBQU1pVSxHQUNoQmhkLEtBQUs4QixTQTNCckIsU0FBZTZaLEVBQWtCNVMsRUFBTWlVLEdBQ25DLElBQUlDLEVBQWdCalAsRUFBTXFNLE9BQU9nQyxFQUFvQlYsRUFBa0I1UyxJQUN2RTRSLEVBQVV1QyxlQUFlRCxFQUFlRCxHQUN4Q3JCLEVBQWlCaGMsU0FBUSxTQUFTaUMsR0FDOUIsR0FBSUEsRUFBRW1ILEtBQU9BLEVBQU0sQ0FDZixJQUFJVyxFQUFJOUgsRUFBRW1ILEtBQU9BLEVBQ2J5UixFQUFJeE0sRUFBTXFNLE9BQU96WSxFQUFFL0QsT0FDdkI4YyxFQUFVd0Msd0JBQXdCM0MsRUFBRzlRLEVBQUVzVCxPQXFCbkN4YixDQUFNeEIsS0FBSytjLFlBQWFoVSxFQUFNaVUsS0FJMUMsS0FBUSxDQUNKLE1BQVMsU0FBU0EsSUFyQjFCLFNBQWNBLFFBQ1UxYyxJQUFoQjBjLElBQ0FBLEVBQWMsR0FFbEJyQyxFQUFVeUMsc0JBQXNCSixHQWtCeEI3YSxDQUFLNmEsU0FNckJaLEVBQTBCbGUsVUFBWUQsT0FBT3VOLE9BQU8yUSxFQUFvQmplLFlBQ3BDMlYsWUFBY3VJLEVBRWxELElBQUlpQixFQUEwQixTQUFVclAsRUFBTzJNLEVBQVdhLEVBQVdDLEVBQVdYLEdBRTVFLFNBQVN1QixFQUFvQlYsRUFBa0I1UyxHQUMzQyxHQUErQixHQUEzQjRTLEVBQWlCeGMsT0FDakIsS0FBSyxpQ0FFVCxPQUErQixHQUEzQndjLEVBQWlCeGMsT0FDVndjLEVBQWlCLEdBQUc5ZCxNQUdaOGQsRUFBaUJZLFFBQU8sU0FBU1IsRUFBT1MsR0FDdkQsT0FBSUEsRUFBVXpULE1BQVFBLEVBQ1h5VCxFQUVBVCxJQUVaSixFQUFpQixJQUNBOWQsTUFoQnhCc2UsRUFBb0IvZCxLQUFLNEIsS0FBTTJhLEVBQVdhLEVBQVdDLEVBQVdYLEdBbUNoRTdjLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsb0JBQXVCLENBQ25CLE1BQVMsU0FBUytJLEdBQ2QsT0FBT3NULEVBQW9CcmMsS0FBSytjLFlBQWFoVSxLQUdyRCxNQUFTLENBQ0wsTUFBUyxTQUFTQSxFQUFNaVUsR0FDaEJoZCxLQUFLOEIsU0F4QnJCLFNBQWU2WixFQUFrQjVTLEVBQU1pVSxHQUNuQyxJQUFJQyxFQUFnQmpQLEVBQU1xTSxPQUFPZ0MsRUFBb0JWLEVBQWtCNVMsSUFDdkU0UixFQUFVdUMsZUFBZUQsRUFBZUQsR0FDeENyQixFQUFpQmhjLFNBQVEsU0FBU2lDLEdBQzlCLEdBQUlBLEVBQUVtSCxLQUFPQSxFQUFNLENBQ2YsSUFBSVcsRUFBSTlILEVBQUVtSCxLQUFPQSxFQUNieVIsRUFBSXhNLEVBQU1xTSxPQUFPelksRUFBRS9ELE9BQ3ZCOGMsRUFBVXVDLGVBQWUxQyxFQUFHOVEsRUFBRXNULE9Ba0IxQnhiLENBQU14QixLQUFLK2MsWUFBYWhVLEVBQU1pVSxLQUkxQyxLQUFRLENBQ0osTUFBUyxTQUFTQSxJQWxCMUIsU0FBY0EsR0FDVnJDLEVBQVV5QyxzQkFBc0JKLEdBa0J4QjdhLENBQUs2YSxRQzlUckIsU0FBU00sRUFBZ0J0UCxFQUFPM04sRUFBTWtkLEVBQWNsQyxFQUFTQyxFQUFTUixFQUFjWCxFQUFhQyxHQUU3RixJQUFJb0QsRUFBZ0JDLEVBRHBCeEQsRUFBZ0I3YixLQUFLNEIsS0FBTWdPLEVBQU8zTixFQUFNLFNBQVU4WixFQUFhQyxHQUUvRCxJQUNJc0QsRUFEQUMsRUFBU0osRUFHYixTQUFTdEMsRUFBU1QsRUFBR3JPLEdBRWpCLEdBQUlzUixHQUFjQSxFQUFXM2IsUUFDekIsS0FBSywrQ0FFTDlCLEtBQUtxYixVQUNMYixFQUFJVSxLQUFLRSxJQUFJWixFQUFHeGEsS0FBS3FiLFVBRXJCcmIsS0FBS3NiLFVBQ0xkLEVBQUlVLEtBQUtDLElBQUlYLEVBQUd4YSxLQUFLc2IsVUFFckJvQyxJQUNBbEQsRUFBSVUsS0FBSzBDLE1BQU1wRCxFQUFJa0QsR0FDbkJsRCxHQUFRa0QsR0FFWmxELEVBQUl4YSxLQUFLcWEsT0FBT0csR0FDWmdELElBQ0lDLEVBQ0FELEVBQWVOLGVBQWUxQyxFQUFHeE0sRUFBTWhMLFFBQVEyRyxRQUFRekgsYUFFdkRzYixFQUFlM2YsTUFBUTJjLEdBRzNCbUQsSUFBV25ELElBQ1htRCxFQUFTbkQsRUFDVHhhLEtBQUs2ZCxvQkFBb0IxUixJQUU3Qm5NLEtBQUt1YSxVQUdUdGMsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0osTUFBUyxVQUViLFFBQVcsQ0FDUCxNQUFTLFdBQ0xnTyxFQUFRM04sRUFBT2tkLEVBQWVsQyxFQUFVQyxFQUFVcUMsRUFBU0QsT0FBWXBkLElBRy9FLFFBQVcsQ0FDUCxNQUFTK2EsR0FFYixRQUFXLENBQ1AsTUFBU0MsR0FFYixhQUFnQixDQUNaLE1BQVNpQyxHQUViLE1BQVMsQ0FDTCxJQUFPLFdBQ0gsR0FBSUMsRUFBZ0IsQ0FDaEIsR0FBSUMsR0FBY0EsRUFBV3RlLE9BQVMsRUFBRyxDQUNyQyxJQUFJdUssRUFBSXNFLEVBQU1oTCxRQUFRd0Ysd0JBQ3RCLE9BQU9pVixFQUFXcEIsb0JBQW9CM1MsR0FFMUMsT0FBTzFKLEtBQUtzYSxVQUFVa0QsRUFBZTNmLE9BRXpDLE9BQU84ZixHQUVYLElBQU8sU0FBVW5ELEdBQ2IsT0FBT1MsRUFBUzdjLEtBQUs0QixLQUFNd2EsR0FBRyxLQUd0QyxTQUFZLENBQ1IsTUFBUyxTQUFTQSxFQUFHck8sR0FDakIsT0FBTzhPLEVBQVM3YyxLQUFLNEIsS0FBTXdhLEVBQUdyTyxLQUd0QyxTQUFZLENBQ1IsSUFBTyxXQUNILE9BQU91UixHQUVYLElBQU8sU0FBVS9iLEdBQ2IsSUFBS29aLFNBQVNwWixJQUFNQSxFQUFJLEVBQ3BCLEtBQU0sb0JBRVYrYixFQUFZL2IsSUFHcEIsaUJBQW9CLENBQ2hCLE1BQVMsU0FBVWlaLEdBQ2YsR0FBaUIsaUJBQU5BLEdBQThCdGEsTUFBWnNhLEVBQUcvYyxNQXFDNUIsS0FBSyxtREFwQ0wyZixFQUFpQjVDLEdBQ0YvYyxNQUFRbUMsS0FBS3FhLE9BQU9zRCxHQUMvQi9DLEVBQUdzQyxnQkFDSE8sRUFBYSxJQUFJckIsRUFBMEJwYyxLQUFNd2QsRUFBZ0JuQyxFQUFTQyxFQUFTUixHQUNuRjdjLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsb0JBQXVCLENBQ25CLE1BQVMsU0FBUytJLEdBQ2QsT0FBTy9JLEtBQUsyYixpQkFBaUJtQyxvQkFBb0IvVSxLQUd6RCxpQkFBb0IsQ0FDaEIsTUFBUzBVLEdBRWIsTUFBUyxDQUNMLE1BQVMsU0FBUzFVLEVBQU1pVSxHQUNwQixPQUFPUyxFQUFXamMsTUFBTXVILEVBQU1pVSxLQUd0QyxLQUFRLENBQ0osTUFBUyxTQUFTQSxHQUNkUyxFQUFXdGIsS0FBSzZhLEtBR3hCLFFBQVcsQ0FDUCxJQUFPLFdBQ0gsT0FBT1MsRUFBVzNiLFNBRXRCLElBQU8sU0FBUzRILEdBQ1osT0FBUStULEVBQVczYixRQUFVNEgsT0FLekMzRixRQUFRQyxLQUFLLGlFQU83QixnQkFBbUIsQ0FDZixjQUFnQixFQUNoQixJQUFPLFdBQ0gsT0FBT3daLElBR2YsWUFBZSxDQUNYLElBQU8sV0FDSCxNQUE0QixpQkFBZEMsSUFHdEIsU0FBWSxDQUNSLE1BQVMsU0FBU2pELEdBSWQsT0FIU2xhLE1BQUxrYSxJQUNBQSxFQUFJeGEsS0FBS25DLE9BRWMsbUJBQWhCaWQsRUFDQUEsRUFBYTFjLEtBQUs0QixLQUFNd2EsR0FFeEJwVixPQUFPb1YsS0FJMUIsbUJBQXNCLENBQ2xCLE1BQVMsV0FDTCxNQUFPLENBQ0gzYyxNQUFPbUMsS0FBS25DLE1BQ1owZixhQUFjQSxFQUNkbEMsUUFBU0EsRUFDVEMsUUFBU0EsRUFDVG5CLFlBQWE5WixFQUNiZ0UsS0FBTSxrQkFDTmhFLEtBQU1BLE9DaksxQixTQUFTMGQsRUFBZ0IvUCxFQUFPM04sRUFBTWtkLEVBQWNTLEVBQVdsRCxFQUFjWCxFQUFhQyxHQUN0RkgsRUFBZ0I3YixLQUFLNEIsS0FBTWdPLEVBQU8zTixFQUFNLFNBQVU4WixFQUFhQyxHQUMvRCxJQUNJb0QsRUFEQUcsRUFBU0osRUFHYixTQUFTdEMsRUFBU1QsRUFBR3JPLEdBQ2pCLEdBQUk2UixHQUNJeEQsRUFBRXJiLE9BQVM2ZSxFQUNYLEtBQU8sc0JBQXdCQSxFQUFZLGNBRy9DaGUsS0FBS2llLGtCQUNMamUsS0FBS2llLGdCQUFnQnBnQixNQUFRbUMsS0FBS3FhLE9BQU9HLElBRXpDbUQsSUFBV25ELElBQ1htRCxFQUFTbkQsRUFDVHhhLEtBQUs2ZCxvQkFBb0IxUixJQUU3Qm5NLEtBQUt1YSxVQUdUdGMsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0osTUFBUyxVQUViLFFBQVcsQ0FDUCxNQUFTLFdBQ0xnTyxFQUFRM04sRUFBT2tkLEVBQWVTLEVBQVlMLE9BQVNyZCxJQUczRCxVQUFhLENBQ1QsTUFBUzBkLEdBRWIsYUFBZ0IsQ0FDWixNQUFTVCxHQUViLE1BQVMsQ0FDTCxJQUFPLFdBQ0gsT0FBSXZkLEtBQUtpZSxnQkFDRWplLEtBQUtzYSxVQUFVdGEsS0FBS2llLGdCQUFnQnBnQixPQUV4QzhmLEdBRVgsSUFBTyxTQUFVbkQsR0FDYixPQUFPUyxFQUFTN2MsS0FBSzRCLEtBQU13YSxHQUFHLEtBR3RDLFNBQVksQ0FDUixNQUFTLFNBQVNBLEVBQUdyTyxHQUNqQixPQUFPOE8sRUFBUzdjLEtBQUs0QixLQUFNd2EsRUFBR3JPLEtBR3RDLGlCQUFvQixDQUNoQixNQUFTLFNBQVV5TyxHQUNmLEdBQWlCLGlCQUFOQSxHQUE4QnRhLE1BQVpzYSxFQUFHL2MsTUFJNUIsS0FBSyxtREFITDJmLEVBQWlCNUMsR0FDRi9jLE1BQVFtQyxLQUFLcWEsT0FBT3NELEtBTS9DLGdCQUFtQixDQUNmLGNBQWdCLEVBQ2hCLElBQU8sV0FDSCxPQUFPSCxJQUdmLFNBQVksQ0FDUixNQUFTLFNBQVNoRCxHQUlkLE9BSFNsYSxNQUFMa2EsSUFDQUEsRUFBSXhhLEtBQUtuQyxPQUVjLG1CQUFoQmlkLEVBQ0FBLEVBQWExYyxLQUFLNEIsS0FBTXdhLEdBRXhCcFYsT0FBT29WLEtBSTFCLG1CQUFzQixDQUNsQixNQUFTLFdBQ0wsTUFBTyxDQUNIM2MsTUFBT21DLEtBQUtuQyxNQUNaMGYsYUFBY0EsRUFDZFMsVUFBV0EsRUFDWDdELFlBQWE5WixFQUNiZ0UsS0FBTSxrQkFDTmhFLEtBQU1BLE9DeEYxQixTQUFTNmQsRUFBZ0JsUSxFQUFPM04sRUFBTThaLEVBQWFDLEdBQy9DSCxFQUFnQjdiLEtBQUs0QixLQUFNZ08sRUFBTzNOLEVBQU0sU0FBVThaLEVBQWFDLEdBQy9ELElBQUkrRCxFQUFVLGFBRWRsZ0IsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0osTUFBUyxVQUViLFFBQVcsQ0FDUCxNQUFTLFdBQ0xnTyxFQUFRM04sT0FBT0MsSUFHdkIsUUFBVyxDQUNQLElBQU8sV0FDSCxPQUFPNmQsR0FFWCxJQUFPLFNBQVUxYSxHQUNiLEdBQWlCLG1CQUFOQSxFQUNQLEtBQU0sNkJBRVYwYSxFQUFVMWEsSUFHbEIsbUJBQXNCLENBQ2xCLE1BQVMsV0FDTCxNQUFPLENBQ0gwVyxZQUFhOVosRUFDYmdFLEtBQU0sa0JBQ05oRSxLQUFNQSxPQzVCMUIsU0FBUytkLEVBQWdCcFEsRUFBTzNOLEVBQU1rZCxFQUFjYyxFQUFVQyxFQUFVeEQsRUFBY1gsRUFBYUMsR0FDL0ZILEVBQWdCN2IsS0FBSzRCLEtBQU1nTyxFQUFPM04sRUFBTSxTQUFVOFosRUFBYUMsR0FDL0QsSUFFSW9ELEVBQWdCQyxFQURoQkUsRUFBU0osRUFHYixTQUFTdEMsRUFBU1QsRUFBR3JPLEdBQ2pCLEdBQUlxTyxFQUFJNkQsRUFDSixLQUFPLDBCQUE0QkEsRUFFdkMsR0FBSTdELEVBQUk4RCxFQUNKLEtBQU8sNkJBQStCQSxFQVUxQyxPQVJJdGUsS0FBS2llLGtCQUNMamUsS0FBS2llLGdCQUFnQnBnQixNQUFRbUMsS0FBS3FhLE9BQU9HLElBRXpDbUQsSUFBV25ELElBQ1htRCxFQUFTbkQsRUFDVHhhLEtBQUs2ZCxvQkFBb0IxUixJQUU3Qm5NLEtBQUt1YSxVQUNFQyxFQUdYdmMsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0osTUFBUyxVQUViLFFBQVcsQ0FDUCxNQUFTLFdBQ0xnTyxFQUFRM04sT0FBT0MsSUFHdkIsYUFBZ0IsQ0FDWixNQUFTaWQsR0FFYixTQUFZLENBQ1IsTUFBU2MsR0FFYixTQUFZLENBQ1IsTUFBU0MsR0FFYixNQUFTLENBQ0wsSUFBTyxXQUNILE9BQUl0ZSxLQUFLaWUsZ0JBQ0VqZSxLQUFLc2EsVUFBVXRhLEtBQUtpZSxnQkFBZ0JwZ0IsT0FFeEM4ZixHQUVYLElBQU8sU0FBVW5ELEdBQ2IsT0FBT1MsRUFBUzdjLEtBQUs0QixLQUFNd2EsS0FHbkMsU0FBWSxDQUNSLE1BQVMsU0FBU0EsRUFBR3JPLEdBQ2pCLE9BQU84TyxFQUFTN2MsS0FBSzRCLEtBQU13YSxFQUFHck8sS0FHdEMsVUFBYSxDQUNULE1BQVMsV0FDTCxJQUFJcU8sRUFBSW1ELEVBQVMsRUFJakIsT0FISW5ELEVBQUk4RCxJQUNKOUQsRUFBSTZELEdBRURwRCxFQUFTN2MsS0FBSzRCLEtBQU13YSxLQUduQyxVQUFhLENBQ1QsTUFBUyxXQUNMLElBQUlBLEVBQUltRCxFQUFTLEVBSWpCLE9BSEluRCxFQUFJNkQsSUFDSjdELEVBQUk4RCxHQUVEckQsRUFBUzdjLEtBQUs0QixLQUFNd2EsS0FHbkMsaUJBQW9CLENBQ2hCLE1BQVMsU0FBVUksR0FDZixHQUFpQixpQkFBTkEsR0FBOEJ0YSxNQUFac2EsRUFBRy9jLE1BcUM1QixLQUFLLG1EQXBDTDJmLEVBQWlCNUMsR0FDRi9jLE1BQVFtQyxLQUFLcWEsT0FBT3NELEdBQy9CL0MsRUFBR3NDLGdCQUNITyxFQUFhLElBQUlKLEVBQXdCcmQsS0FBTXdkLEVBQWdCYSxFQUFVQyxFQUFVeEQsR0FDbkY3YyxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLG9CQUF1QixDQUNuQixNQUFTLFNBQVMrSSxHQUNkLE9BQU8vSSxLQUFLMmIsaUJBQWlCbUMsb0JBQW9CL1UsS0FHekQsaUJBQW9CLENBQ2hCLE1BQVMwVSxHQUViLE1BQVMsQ0FDTCxNQUFTLFNBQVMxVSxFQUFNaVUsR0FDcEIsT0FBT1MsRUFBV2pjLE1BQU11SCxFQUFNaVUsS0FHdEMsS0FBUSxDQUNKLE1BQVMsU0FBU0EsR0FDZFMsRUFBV3RiLEtBQUs2YSxLQUd4QixRQUFXLENBQ1AsSUFBTyxXQUNILE9BQU9TLEVBQVczYixTQUV0QixJQUFPLFNBQVM0SCxHQUNaLE9BQVErVCxFQUFXM2IsUUFBVTRILE9BS3pDM0YsUUFBUUMsS0FBSyxpRUFPN0IsZ0JBQW1CLENBQ2YsY0FBZ0IsRUFDaEIsSUFBTyxXQUNILE9BQU93WixJQUdmLFlBQWUsQ0FDWCxJQUFPLFdBQ0gsTUFBNEIsaUJBQWRDLElBR3RCLFNBQVksQ0FDUixNQUFTLFNBQVNqRCxHQUlkLE9BSFNsYSxNQUFMa2EsSUFDQUEsRUFBSXhhLEtBQUtuQyxPQUVjLG1CQUFoQmlkLEVBQ0FBLEVBQWExYyxLQUFLNEIsS0FBTXdhLEdBRXhCcFYsT0FBT29WLEtBSTFCLG1CQUFzQixDQUNsQixNQUFTLFdBQ0wsTUFBTyxDQUNIM2MsTUFBT21DLEtBQUtuQyxNQUNaMGYsYUFBY0EsRUFDZGxDLFFBQVNnRCxFQUNUL0MsUUFBU2dELEVBQ1RuRSxZQUFhOVosRUFDYmdFLEtBQU0sa0JBQ05oRSxLQUFNQSxPQ3ZKMUIsU0FBU2tlLEVBQWN2USxFQUFPM04sRUFBTWtkLEVBQWNpQixFQUFjMUQsRUFBY1gsRUFBYUMsR0FFdkYsSUFBSW9ELEVBQWdCQyxFQURwQnhELEVBQWdCN2IsS0FBSzRCLEtBQU1nTyxFQUFPM04sRUFBTSxTQUFVOFosRUFBYUMsR0FFL0QsSUFDSXFFLEVBQVNELEVBQWE5VixRQUFRNlUsR0FFbEMsU0FBU21CLEVBQUtsRSxFQUFHck8sR0FDYixJQUFJdk0sRUFBSTRlLEVBQWE5VixRQUFROFIsR0FDN0IsUUFBVWxhLElBQU5WLEdBQW1CQSxFQUFJLEVBQ3ZCLEtBQUssb0JBVVQsT0FSSUksS0FBS2llLGtCQUNMamUsS0FBS2llLGdCQUFnQnBnQixNQUFRbUMsS0FBS3FhLE9BQU9HLElBRXpDaUUsSUFBVzdlLElBQ1g2ZSxFQUFTN2UsRUFDVEksS0FBSzZkLG9CQUFvQjFSLElBRTdCbk0sS0FBS3VhLFVBQ0VpRSxFQUFhQyxHQUd4QnhnQixPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLEtBQVEsQ0FDSixNQUFTLFFBRWIsUUFBVyxDQUNQLE1BQVMsV0FDTGdPLEVBQVEzTixPQUFPQyxJQUd2QixhQUFnQixDQUNaLE1BQVNpZCxHQUViLFdBQWMsQ0FDVixNQUFTaUIsR0FFYixNQUFTLENBQ0wsSUFBTyxXQUNILE9BQUloQixFQUNPeGQsS0FBS3NhLFVBQVVrRCxFQUFlM2YsT0FFbEMyZ0IsRUFBYUMsSUFFeEIsSUFBTyxTQUFVakUsR0FDYixPQUFPa0UsRUFBS3RnQixLQUFLNEIsS0FBTXdhLEdBQUcsS0FHbEMsU0FBWSxDQUNSLE1BQVMsU0FBU0EsRUFBR3JPLEdBQ2pCLE9BQU91UyxFQUFLdGdCLEtBQUs0QixLQUFNd2EsRUFBR3JPLEtBR2xDLFVBQWEsQ0FDVCxNQUFTLFdBQ0wsSUFBSXFPLEVBQUlpRSxFQUFTLEVBSWpCLE9BSElqRSxHQUFLZ0UsRUFBYXJmLFNBQ2xCcWIsRUFBSSxHQUVEa0UsRUFBS3RnQixLQUFLNEIsS0FBTXdhLEtBRy9CLFVBQWEsQ0FDVCxNQUFTLFdBQ0wsSUFBSUEsRUFBSWlFLEVBQVMsRUFJakIsT0FISWpFLEVBQUksSUFDSkEsRUFBSWdFLEVBQWFyZixPQUFPLEdBRXJCdWYsRUFBS3RnQixLQUFLNEIsS0FBTXdhLEtBRy9CLGlCQUFvQixDQUNoQixNQUFTLFNBQVVJLEdBQ2YsR0FBaUIsaUJBQU5BLEdBQThCdGEsTUFBWnNhLEVBQUcvYyxNQXFDNUIsS0FBSyxtREFwQ0wyZixFQUFpQjVDLEdBQ0YvYyxNQUFRbUMsS0FBS3FhLE9BQU9tRSxFQUFhQyxJQUM1QzdELEVBQUdzQyxnQkFDSE8sRUFBYSxJQUFJSixFQUF3QnJkLEtBQU13ZCxFQUFnQixFQUFHbUIsV0FBV3hmLE9BQVEyYixHQUNyRjdjLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsb0JBQXVCLENBQ25CLE1BQVMsU0FBUytJLEdBQ2QsT0FBTy9JLEtBQUsyYixpQkFBaUJtQyxvQkFBb0IvVSxLQUd6RCxpQkFBb0IsQ0FDaEIsTUFBUzBVLEdBRWIsTUFBUyxDQUNMLE1BQVMsU0FBUzFVLEVBQU1pVSxHQUNwQixPQUFPUyxFQUFXamMsTUFBTXVILEVBQU1pVSxLQUd0QyxLQUFRLENBQ0osTUFBUyxTQUFTQSxHQUNkUyxFQUFXdGIsS0FBSzZhLEtBR3hCLFFBQVcsQ0FDUCxJQUFPLFdBQ0gsT0FBT1MsRUFBVzNiLFNBRXRCLElBQU8sU0FBUzRILEdBQ1osT0FBUStULEVBQVczYixRQUFVNEgsT0FLekMzRixRQUFRQyxLQUFLLGlFQU83QixnQkFBbUIsQ0FDZixjQUFnQixFQUNoQixJQUFPLFdBQ0gsT0FBT3daLElBR2YsWUFBZSxDQUNYLElBQU8sV0FDSCxNQUE0QixpQkFBZEMsSUFHdEIsZ0JBQW1CLENBQ2YsTUFBUyxTQUFTL1QsR0FDZCxJQUFJckYsU0FBY3FGLEVBQ2xCLEdBQVksVUFBUnJGLEdBQTRCLFVBQVJBLEVBQ3BCLEtBQU0sNkVBRVYsR0FBSW1hLEVBQWEvTSxTQUFTL0gsR0FDdEIsS0FBTSx5RkFHVixPQURBOFUsRUFBYXhZLEtBQUswRCxHQUNYOFUsSUFHZixxQkFBd0IsQ0FDcEIsTUFBUyxTQUFTOVUsR0FDZCxJQUFJNUIsRUFBUTBXLEVBQWE5VixRQUFRZ0IsR0FDcEI4VSxFQUFhQyxHQUMxQixJQUFjLEdBQVYzVyxFQUNBLEtBQU0sNkNBQThDNEIsRUFBRSxnQ0FJMUQsT0FGQThVLEVBQWF2VyxPQUFPSCxFQUFPLEdBQzNCMlcsR0FBa0JELEVBQWFyZixPQUN4QnFmLElBR2YsU0FBWSxDQUNSLE1BQVMsU0FBU2hFLEdBSWQsT0FIU2xhLE1BQUxrYSxJQUNBQSxFQUFJeGEsS0FBS25DLE9BRWMsbUJBQWhCaWQsRUFDQUEsRUFBYTFjLEtBQUs0QixLQUFNd2EsR0FFeEJwVixPQUFPb1YsS0FJMUIsbUJBQXNCLENBQ2xCLE1BQVMsV0FDTCxNQUFPLENBQ0gzYyxNQUFPbUMsS0FBS25DLE1BQ1o2YyxRQUFTOEQsRUFDVGpCLGFBQWNBLEVBQ2RsQyxRQUFTLEVBQ1RDLFFBQVNrRCxFQUFhcmYsT0FDdEJnYixZQUFhOVosRUFDYmdFLEtBQU0sZ0JBQ05oRSxLQUFNQSxPQzdLMUIsU0FBU3VlLEVBQWE1USxFQUFPM04sRUFBTWtkLEVBQWNTLEVBQVdsRCxFQUFjWCxFQUFhQyxHQUNuRkgsRUFBZ0I3YixLQUFLNEIsS0FBTWdPLEVBQU8zTixFQUFNLFNBQVU4WixFQUFhQyxHQUMvRCxJQUNJdFgsRUFEQTZhLEVBQVNKLEVBc0NiLFNBQVN0QyxFQUFTVCxFQUFHck8sR0FDakIsR0FBSTZSLEdBQ0l4RCxFQUFFcmIsT0FBUzZlLEVBQ1gsS0FBTyxzQkFBd0JBLEVBQVksY0FHL0NMLElBQVduRCxJQUNYMVgsT0FBaUJ4QyxFQUNqQnFkLEVBQVNuRCxFQUNUeGEsS0FBSzZkLG9CQUFvQjFSLElBRTdCbk0sS0FBS3VhLFVBR1R0YyxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLEtBQVEsQ0FDSixNQUFTLE9BRWIsUUFBVyxDQUNQLE1BQVMsV0FDTGdPLEVBQVEzTixFQUFPa2QsRUFBZVMsRUFBWUwsT0FBU3JkLElBRzNELFVBQWEsQ0FDVCxNQUFTMGQsR0FFYixhQUFnQixDQUNaLE1BQVNULEdBRWIsTUFBUyxDQUNMLElBQU8sV0FDSCxPQUFJdmQsS0FBS2llLGdCQUNFamUsS0FBS3NhLFVBQVV0YSxLQUFLaWUsZ0JBQWdCcGdCLE9BRXhDOGYsR0FFWCxJQUFPLFNBQVVuRCxHQUNiLE9BQU9TLEVBQVM3YyxLQUFLNEIsS0FBTXdhLEdBQUcsS0FHdEMsU0FBWSxDQUNSLE1BQVMsU0FBU0EsRUFBR3JPLEdBQ2pCLE9BQU84TyxFQUFTN2MsS0FBSzRCLEtBQU13YSxFQUFHck8sS0FHdEMsWUFBYyxDQUNWLE1BakZSLFNBQXFCOUgsR0FnQ2pCLE9BL0JzQi9ELE1BQWxCd0MsSUFDQUEsRUFBaUIsSUFBSUcsU0FBUSxTQUFTQyxFQUFTQyxHQUMzQyxJQUFJdUIsRUFBTSxJQUFJQyxlQUNkRCxFQUFJRSxLQUFLLE1BQU8rWSxHQUNoQmpaLEVBQUltYSxhQUFleGEsRUFDbkJLLEVBQUlvUyxPQUFTLFNBQVNqUixHQUNBLEtBQWRuQixFQUFJb2EsT0FDSjViLEVBQVEyQyxFQUFFa1osT0FBTzNhLFVBRWpCakIsRUFBTyxDQUNINmIsS0FBTXRhLEVBQUlvYSxPQUNWN1EsUUFBU3BJLEVBQUVrWixVQUt2QnJhLEVBQUlxSSxRQUFVLFNBQVNsSCxHQUNuQjFDLEVBQU8sQ0FDSDZiLEtBQU10YSxFQUFJb2EsT0FDVjdRLFFBQVMsV0FHakJ2SixFQUFJdWEsVUFBWSxTQUFTcFosR0FDckIxQyxFQUFPLENBQ0g2YixLQUFNdGEsRUFBSW9hLE9BQ1Y3USxRQUFTLGFBR2pCdkosRUFBSVMsV0FHTHJDLElBbURQLFNBQVksQ0FDUixNQUFTLFNBQVMwWCxHQUlkLE9BSFNsYSxNQUFMa2EsSUFDQUEsRUFBSXhhLEtBQUtuQyxPQUVjLG1CQUFoQmlkLEVBQ0FBLEVBQWExYyxLQUFLNEIsS0FBTXdhLEdBRXhCcFYsT0FBT29WLEtBSTFCLG1CQUFzQixDQUNsQixNQUFTLFdBQ0wsTUFBTyxDQUNIM2MsTUFBT21DLEtBQUtuQyxNQUNaMGYsYUFBY0EsRUFDZFMsVUFBV0EsRUFDWDdELFlBQWE5WixFQUNiZ0UsS0FBTSxlQUNOaEUsS0FBTUEsT0MzRzFCLFNBQVM2ZSxFQUFlbFIsRUFBT21JLEVBQWM5VixFQUFNOFosRUFBYUMsR0FDNURILEVBQWdCN2IsS0FBSzRCLEtBQU1nTyxFQUFPM04sRUFBTSxTQUFVOFosRUFBYUMsR0FDL0QsSUFJSStFLEVBQWFDLEVBQWdCQyxFQUo3QkMsRUFBa0J0UixFQUFNaEwsUUFBUUosYUFBYXFVLFdBQVc5USxRQUFPLFNBQVN3USxHQUN4RSxPQUFPQSxFQUFLUixjQUFnQkEsS0FDN0J4QixLQUFJLFNBQVNnQyxHQUFPLE9BQU9BLEVBQUtQLGdCQUFnQm1KLE9BQy9DQyxFQUFZLElBQUlqQixFQUFjdlEsRUFBTzNOLEVBQUssUUFBU2lmLEVBQWdCLEdBQUlBLEdBQWlCLFNBQVM5RSxHQUFHLE9BQU9BLEVBQUVoWCxNQUFPbkQsRUFBSyxTQUFTLEdBR3RJLFNBQVNvZixJQUNMRCxFQUFVM2hCLE1BQU1nWSxRQUNmbFMsTUFBSyxTQUFTK2IsR0FDWFAsRUFBY08sRUFDZSxtQkFBbEJOLEdBQ1BBLEVBQWVNLE1BRXBCLFNBQVM3WixHQUNzQixtQkFBbkJ3WixHQUNQQSxFQUFnQnhaLE1BSzVCLFNBQVNvVixFQUFTVCxFQUFHck8sR0FDRCxpQkFBTHFPLEdBQWlCQSxFQUFFcmMsZUFBZSxTQUN6Q3FjLEVBQUlBLEVBQUVoWCxLQUVWLElBQUltYyxFQUFLSCxFQUFVM2hCLE1BQU0yRixJQUNyQm9jLEVBQU9KLEVBQVViLFdBQVcvWSxNQUFLLFNBQVNxSyxHQUMxQyxPQUFPQSxFQUFFek0sS0FBT2dYLEtBV3BCLE9BVElvRixJQUNBSixFQUFVM2hCLE1BQVEraEIsR0FFbEJKLEVBQVUzaEIsTUFBTTJGLEtBQU9tYyxJQUV2QkYsSUFDQXpmLEtBQUs2ZCxvQkFBb0IxUixJQUU3Qm5NLEtBQUt1YSxVQUNFaUYsRUFBVTNoQixNQUdyQkksT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixPQUFVLENBQ04sSUFBTyxXQUNILE9BQU9vZixHQUVYLElBQU8sU0FBUzNiLEdBQ1osR0FBZ0IsbUJBQUxBLEVBQ1AsS0FBSyx5RUFNTCxPQUpBMmIsRUFBaUIzYixFQUNiMGIsR0FDQUMsRUFBZUQsR0FFWkMsSUFJbkIsUUFBVyxDQUNQLElBQU8sV0FDSCxPQUFPQyxHQUVYLElBQU8sU0FBUzViLEdBQ1osR0FBZ0IsbUJBQUxBLEVBQ1AsS0FBSywwRUFHTCxPQURBNGIsRUFBa0I1YixJQUs5QixLQUFRLENBQ0osTUFBUyxTQUViLFFBQVcsQ0FDUCxNQUFTLFdBQ0wrYixFQUFVdFgsVUFDVjhGLEVBQVEzTixFQUFPa2QsYUFBZWlDLE9BQVlsZixJQUdsRCxNQUFTLENBQ0wsSUFBTyxXQUNILE9BQU9rZixFQUFVM2hCLE1BQU0yRixLQUUzQixJQUFPLFNBQVVnWCxHQUViLE9BREFTLEVBQVM3YyxLQUFLNEIsS0FBTXdhLEdBQUcsR0FDaEJnRixFQUFVM2hCLE1BQU0yRixNQUcvQixTQUFZLENBQ1IsTUFBUyxTQUFTZ1gsRUFBR3JPLEdBQ2pCLE9BQU84TyxFQUFTN2MsS0FBSzRCLEtBQU13YSxFQUFHck8sS0FHdEMsWUFBZSxDQUNYLE1BQVMsV0FDTCxPQUFJMFQsb0JBR09KLE1BSW5CLE9BQVUsQ0FDTixJQUFPLFdBQVksT0FBT04sSUFFOUIsU0FBWSxDQUNSLE1BQVMsU0FBUzNFLEdBQ2QsT0FBT2dGLEVBQVVNLFNBQVN0RixLQUdsQyxRQUFXLENBQ1AsSUFBTyxXQUNILE9BQU9nRixFQUFVYixhQUd6QixtQkFBc0IsQ0FDbEIsTUFBUyxXQUNMLE1BQU8sQ0FDSDlnQixNQUFPMmhCLEVBQVUzaEIsTUFBTXNRLFNBQ3ZCdU0sUUFBUzhFLEVBQVViLFdBQVdoSyxLQUFJLFNBQVM2RixHQUFHLE9BQU9BLEVBQUVyTSxZQUN2RDRSLFlBQXlCemYsSUFBaEI2ZSxFQUNUaEYsWUFBYTlaLEVBQ2JnRSxLQUFNLGlCQUNOaEUsS0FBTUEsT0FNdEJvZixLUGdNSnBDLEVBQXdCbmYsVUFBWUQsT0FBT3VOLE9BQU8yUSxFQUFvQmplLFlBQ3BDMlYsWUFBY3dKLEVDOUpoREMsRUFBZ0JwZixVQUFZRCxPQUFPdU4sT0FBT3lPLEVBQWdCL2IsV0FDMURvZixFQUFnQnBmLFVBQVUyVixZQUFjeUosRUMxRXhDUyxFQUFnQjdmLFVBQVlELE9BQU91TixPQUFPeU8sRUFBZ0IvYixXQUMxRDZmLEVBQWdCN2YsVUFBVTJWLFlBQWNrSyxFQzVEeENHLEVBQWdCaGdCLFVBQVlELE9BQU91TixPQUFPeU8sRUFBZ0IvYixXQUMxRGdnQixFQUFnQmhnQixVQUFVMlYsWUFBY3FLLEVDMEh4Q0UsRUFBZ0JsZ0IsVUFBWUQsT0FBT3VOLE9BQU95TyxFQUFnQi9iLFdBQzFEa2dCLEVBQWdCbGdCLFVBQVUyVixZQUFjdUssRUNvQnhDRyxFQUFjcmdCLFVBQVlELE9BQU91TixPQUFPeU8sRUFBZ0IvYixXQUN4RHFnQixFQUFjcmdCLFVBQVUyVixZQUFjMEssRUNsRXRDSyxFQUFhMWdCLFVBQVlELE9BQU91TixPQUFPeU8sRUFBZ0IvYixXQUN2RDBnQixFQUFhMWdCLFVBQVUyVixZQUFjK0ssRUNtQnJDTSxFQUFlaGhCLFVBQVlELE9BQU91TixPQUFPeU8sRUFBZ0IvYixXQUN6RGdoQixFQUFlaGhCLFVBQVUyVixZQUFjcUwsRUNqSXZDLElBQUljLEVBQW1CLFNBQVVoUyxFQUFPaVMsRUFBeUI1ZixFQUFNK1osR0FDbkUsSUFBSThGLEVBQWdCLEdBQ2hCblEsRUFBYyxJQUFJdFIsWUFRdEIsU0FBUzBoQixFQUFjN1YsRUFBTWpLLEdBQ3pCLE9BQU9BLEVBQUsrZixNQUFNLEtBQUs3RCxRQUFPLFNBQVM5TCxFQUFNcFEsR0FDekMsT0FBT29RLEVBQUtwUSxLQUNiaUssR0FHUCxTQUFTK1YsRUFBeUIvVixFQUFNakssR0FDcEMsSUFBSyxlQUFlOEQsS0FBSzlELEdBQ3JCLEtBQU0sMEJBRVYsR0FBSWlLLEVBQUtuTSxlQUFla0MsR0FDcEIsS0FBTSxzQ0FFVixPQUFPLEVBR1gsU0FBU2lnQixJQUNMLElBQUkxaEIsRUFBTSxHQU1WLE9BTEFzaEIsRUFBYy9aLFFBQU8sU0FBU3ZFLEdBQzFCLE9BQU9BLEVBQUV3WSxXQUNWemEsU0FBUSxTQUFVa0csR0FDakJqSCxFQUFJaUgsRUFBRXhGLE1BQVF3RixLQUVYakgsRUFHWCxTQUFTMmhCLEVBQWF6YSxFQUFPd0UsR0FDekIsR0FBSXhFLEVBQU16RixLQUFLb1IsU0FBUyxLQUNwQixLQUFLLCtCQVdULE9BTmdCLElBSEh5TyxFQUFjblksV0FBVSxTQUFVbEMsR0FDM0MsT0FBT0EsSUFBTUMsSUFDZEEsS0FFQzdILE9BQU93TCxlQUFlYSxFQUFNeEUsRUFBTXpGLEtBQU0sQ0FDcEN4QyxNQUFPaUksSUFFWG9hLEVBQWNsYSxLQUFLRixJQUVoQkEsRUE5Q0N4RixNQUFSRCxJQUNBQSxFQUFPLFdBRUlDLE1BQVg4WixHQUFnQyxXQUFSL1osSUFDeEIrWixHQUFVLEdBNkNkbmMsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixpQkFBb0IsQ0FDaEIsTUFBUyxTQUFTcUUsRUFBTW9XLEVBQVVDLEdBQzlCLE9BQU8zSyxFQUFZNVAsaUJBQWlCa0UsRUFBTW9XLEVBQVVDLEtBRzVELG9CQUF1QixDQUNuQixNQUFTLFNBQVNyVyxFQUFNb1csRUFBVUMsR0FDOUIsT0FBTzNLLEVBQVkzUCxvQkFBb0JpRSxFQUFNb1csRUFBVUMsS0FHL0QsWUFBZSxDQUNYLE1BQVMsU0FBUzdVLEdBQ2QsSUFBSXBGLEVBQVNvRixFQUFFcEYsUUFDaUIsSUFBNUJBLEVBQU8wTCxrQkFDUDhULEVBQXdCOVQsbUJBRWQsZ0JBQVZ0RyxFQUFFeEIsTUFDRjBMLEVBQVl4UCxjQUFjLElBQUlDLFlBQVksZUFBZ0IsQ0FBQ0MsT0FBUUEsRUFBT2thLGVBSXRGLHNCQUF5QixDQUNyQixNQUFTLFNBQVV0YSxFQUFNa2QsRUFBY2xDLEVBQVNDLEVBQVNSLEVBQWNYLEVBQWFDLEdBQ2hGLEdBQW9CLGlCQUFUL1osR0FBNkMsaUJBQWpCa2QsUUFBMENqZCxJQUFaK2EsR0FBNEMsaUJBQVpBLFFBQXNDL2EsSUFBWmdiLEdBQTRDLGlCQUFaQSxFQUMzSixLQUFNLHFCQUVWLEdBQTJCLG1CQUFoQlIsUUFBK0N4YSxJQUFqQndhLEVBQ3JDLEtBQU0sK0NBRVYsR0FBSXVGLEVBQXlCcmdCLEtBQU1LLEdBQU8sQ0FDdEMsSUFBSXlGLEVBQVEsSUFBSXdYLEVBQWdCdFAsRUFBTzNOLEVBQU1rZCxFQUFjbEMsRUFBU0MsRUFBU1IsRUFBY1gsRUFBYUMsR0FHeEcsT0FGQW1HLEVBQWF6YSxFQUFPOUYsTUFDcEI4RixFQUFNM0YsaUJBQWlCLGVBQWdCSCxNQUNoQzhGLEtBS25CLHNCQUF5QixDQUNyQixNQUFTLFNBQVV6RixFQUFNa2QsRUFBY1MsRUFBV2xELEVBQWNYLEVBQWFDLEdBQ3pFLEdBQW9CLGlCQUFUL1osR0FBNkMsaUJBQWpCa2QsUUFBNENqZCxJQUFkMGQsR0FBZ0QsaUJBQWRBLEVBQ25HLEtBQU0scUJBRVYsR0FBMkIsbUJBQWhCbEQsUUFBK0N4YSxJQUFqQndhLEVBQ3JDLEtBQU0sK0NBRVYsR0FBSXVGLEVBQXlCcmdCLEtBQU1LLEdBQU8sQ0FDdEMsSUFBSXlGLEVBQVEsSUFBSWlZLEVBQWdCL1AsRUFBTzNOLEVBQU1rZCxFQUFjUyxFQUFXbEQsRUFBY1gsRUFBYUMsR0FHakcsT0FGQW1HLEVBQWF6YSxFQUFPOUYsTUFDcEI4RixFQUFNM0YsaUJBQWlCLGVBQWdCSCxNQUNoQzhGLEtBSW5CLHNCQUF5QixDQUNyQixNQUFTLFNBQVV6RixHQUNmLEdBQW9CLGlCQUFUQSxFQUNQLEtBQU0sc0JBRVYsR0FBSWdnQixFQUF5QnJnQixLQUFNSyxHQUFPLENBQ3RDLElBQUl5RixFQUFRLElBQUlvWSxFQUFnQmxRLEVBQU8zTixHQUd2QyxPQUZBa2dCLEVBQWF6YSxFQUFPOUYsTUFDcEI4RixFQUFNM0YsaUJBQWlCLGVBQWdCSCxNQUNoQzhGLEtBSW5CLHNCQUF5QixDQUNyQixNQUFTLFNBQVV6RixFQUFNa2QsRUFBY2MsRUFBVUMsRUFBVXhELEVBQWNYLEVBQWFDLEdBQ2xGLEdBQW9CLGlCQUFUL1osR0FBNkMsaUJBQWpCa2QsR0FBaUQsaUJBQWJjLEdBQTZDLGlCQUFiQyxFQUN2RyxLQUFNLHFCQUVWLEdBQTJCLG1CQUFoQnhELFFBQStDeGEsSUFBakJ3YSxFQUNyQyxLQUFNLCtDQUVWLEdBQUl1RixFQUF5QnJnQixLQUFNSyxHQUFPLENBQ3RDLElBQUl5RixFQUFRLElBQUlzWSxFQUFnQnBRLEVBQU8zTixFQUFNa2QsRUFBY2MsRUFBVUMsRUFBVXhELEVBQWNYLEVBQWFDLEdBRzFHLE9BRkFtRyxFQUFhemEsRUFBTzlGLE1BQ3BCOEYsRUFBTTNGLGlCQUFpQixlQUFnQkgsTUFDaEM4RixLQUtuQixvQkFBdUIsQ0FDbkIsTUFBUyxTQUFVekYsRUFBTWtkLEVBQWNpQixFQUFjMUQsRUFBY1gsRUFBYUMsR0FDNUUsR0FBb0IsaUJBQVQvWixRQUE2QyxJQUFqQmtkLElBQWlDbkcsTUFBTUMsUUFBUW1ILEdBQ2xGLEtBQU0scUJBRVYsR0FBMkIsbUJBQWhCMUQsUUFBK0N4YSxJQUFqQndhLEVBQ3JDLEtBQU0sK0NBRVYsSUFBNEMsSUFBeEMwRCxFQUFhL00sU0FBUzhMLEdBQ3RCLEtBQU0sNkNBRVYsR0FBSThDLEVBQXlCcmdCLEtBQU1LLEdBQU8sQ0FDdEMsSUFBSXlGLEVBQVEsSUFBSXlZLEVBQWN2USxFQUFPM04sRUFBTWtkLEVBQWNpQixFQUFjMUQsRUFBY1gsRUFBYUMsR0FHbEcsT0FGQW1HLEVBQWF6YSxFQUFPOUYsTUFDcEI4RixFQUFNM0YsaUJBQWlCLGVBQWdCSCxNQUNoQzhGLEtBSW5CLG1CQUFzQixDQUNsQixNQUFTLFNBQVV6RixFQUFNa2QsRUFBY1MsRUFBV2xELEVBQWNYLEVBQWFDLEdBQ3pFLEdBQW9CLGlCQUFUL1osUUFBb0NDLElBQWQwZCxHQUFnRCxpQkFBZEEsRUFDL0QsS0FBTSxxQkFFVixHQUEyQixtQkFBaEJsRCxRQUErQ3hhLElBQWpCd2EsRUFDckMsS0FBTSwrQ0FFVixHQUFJdUYsRUFBeUJyZ0IsS0FBTUssR0FBTyxDQUN0QyxJQUFJeUYsRUFBUSxJQUFJOFksRUFBYTVRLEVBQU8zTixFQUFNa2QsRUFBY1MsRUFBV2xELEVBQWNYLEVBQWFDLEdBRzlGLE9BRkFtRyxFQUFhemEsRUFBTzlGLE1BQ3BCOEYsRUFBTTNGLGlCQUFpQixlQUFnQkgsTUFDaEM4RixLQUluQixxQkFBd0IsQ0FDcEIsTUFBUyxTQUFVcVEsRUFBYzlWLEVBQU1rZCxFQUFjcEQsRUFBYUMsR0FDOUQsR0FBb0IsaUJBQVQvWixFQUNQLEtBQU0scUJBRVYsR0FBSWdnQixFQUF5QnJnQixLQUFNSyxHQUFPLENBQ3RDLElBQUl5RixFQUFRLElBQUlvWixFQUFlbFIsRUFBT21JLEVBQWM5VixFQUFNa2QsRUFBY3BELEVBQWFDLEdBR3JGLE9BRkFtRyxFQUFhemEsRUFBTzlGLE1BQ3BCOEYsRUFBTTNGLGlCQUFpQixlQUFnQkgsTUFDaEM4RixLQUluQix1QkFBMEIsQ0FDdEIsTUFBUyxTQUFTekYsR0FDZCxHQUFJZ2dCLEVBQXlCcmdCLEtBQU1LLEdBQU8sQ0FDdEMsSUFBSXlGLEVBQVEsSUFBSWthLEVBQWlCaFMsRUFBT2lTLEVBQXlCNWYsR0FFakUsT0FEQWtnQixFQUFhemEsRUFBTzlGLE1BQ2I4RixLQUluQixnQkFBbUIsQ0FDZixNQUFTLFdBQ0wsS0FBTSxvQ0FHZCxpQkFBb0IsQ0FDaEIsTUFBUyxXQUVMLE9BREEvQixRQUFRaUosTUFBTSxzQ0FDUGhOLEtBQUswQixzQkFHcEIsbUJBQXNCLENBQ2xCLE1BQVMsU0FBVXJCLEdBQ2YsT0FBTzhmLEVBQWNuZ0IsS0FBTUssS0FHbkMsbUJBQXNCLENBQ2xCLE1BQVMsV0FDTCxPQUFPaWdCLE1BR2Ysa0JBQXFCLENBQ2pCLE1BQVMsV0FDTCxPQUFPSixFQUFjL1osUUFBTyxTQUFTdkUsR0FDakMsT0FBT0EsRUFBRXdZLFdBQ1Z6RixLQUFJLFNBQVMvUyxHQUNaLE9BQUlBLEVBQUVpUyxhQUFlN1QsS0FBSzZULFlBQ2ZqUyxFQUFFRixvQkFBb0JpVCxLQUFJLFNBQVMvUyxHQUN0QyxPQUFPNUIsS0FBS0ssS0FBTyxJQUFNdUIsSUFDMUJBLEdBQUcyZCxPQUVDM2QsRUFBRXZCLE9BRWRMLE1BQU11ZixTQUdqQixtQkFBc0IsQ0FDbEIsTUFBUyxTQUFVNWQsRUFBRzZZLEVBQUdyTyxHQUNyQixJQUFJd08sRUFBWXdGLEVBQWNuZ0IsS0FBTTJCLEdBQ3BDLEdBQUtnWixFQUFMLENBR0EsSUFBMEIsSUFBdEJBLEVBQVVQLFFBQ1YsS0FBTSw4QkFFVk8sRUFBVU0sU0FBU1QsRUFBR3JPLE1BRzlCLGdCQUFtQixDQUNmLE1BQVMsU0FBVWlELEdBQ2YsSUFBSXRILEVBQVFvWSxFQUFjblksV0FBVSxTQUFVbEMsR0FDMUMsT0FBT0EsSUFBTXVKLElBQ2RBLEdBQ0gsT0FBSXRILEdBQVMsSUFFVG9ZLEVBQWNqWSxPQUFPSCxFQUFPLEdBQzVCc0gsRUFBRWxILFdBQ0ssS0FLbkIsb0JBQXVCLENBQ25CLE1BQVMsU0FBVWtILEdBS2YsT0FKQThRLEVBQWN2Z0IsU0FBUSxTQUFVa0csR0FDNUJBLEVBQUVxQyxhQUVOZ1ksRUFBZ0IsSUFDVCxJQUdmLHNCQUF5QixDQUNyQixNQUFTLFNBQVU3aEIsRUFBUThOLEdBQ3ZCLElBQUlyTyxFQUNKLElBQUtBLEtBQU9PLEVBQ1IsR0FBSUEsRUFBT0YsZUFBZUwsR0FDdEIsR0FBMEIsaUJBQWZPLEVBQU9QLEdBQ2RrQyxLQUFLd2dCLG1CQUFtQjFpQixFQUFLTyxFQUFPUCxHQUFLRCxNQUFPc08sT0FDN0MsSUFBMEIsaUJBQWY5TixFQUFPUCxJQUEwQyxpQkFBZk8sRUFBT1AsR0FHdkQsS0FBTyxjQUFnQkEsRUFBTSx1QkFGN0JrQyxLQUFLd2dCLG1CQUFtQjFpQixFQUFLTyxFQUFPUCxHQUFNcU8sTUFROUQsT0FBVSxDQUNOLE1BQVMsV0FDTCxPQUFPK1QsRUFBYy9aLFFBQU8sU0FBU3ZFLEdBQ2pDLE9BQU9BLEVBQUV3WSxXQUNWbUMsUUFBTyxTQUFVM2QsRUFBS2lILEdBVXJCLE9BVElBLEVBQUUxSCxlQUFlLFVBQ2pCUyxFQUFJaUgsRUFBRXhGLE1BQVF3RixFQUFFc0ksU0FDVHRJLEVBQUUxSCxlQUFlLHNCQUN4QlMsRUFBSWlILEVBQUV4RixNQUFRd0YsRUFBRStCLHFCQUNWL0IsRUFBRTFILGVBQWUsWUFDdkJTLEVBQUlpSCxFQUFFeEYsTUFBUXdGLEVBQUVpYSxXQUNUamEsRUFBRTFILGVBQWUsV0FDeEJTLEVBQUlpSCxFQUFFeEYsTUFBUXdGLEVBQUVoSSxPQUViZSxJQUNSLE1BR1gsV0FBYyxDQUNWLElBQU8sV0FDSCxPQUFPMGhCLEtBRVgsSUFBTyxXQUNILEtBQU0seUNBR2QsUUFBVyxDQUNQLElBQU8sV0FDSCxPQUFPbEcsSUFHZixLQUFRLENBQ0osSUFBTyxXQUNILE9BQU8vWixPQ2xVbkJvZ0IsRUFBNEIsU0FBU3pTLEdBQ3JDLFNBQVMwUyxFQUF5QnJiLEVBQVFzYixHQUN0QyxJQUFJQyxFQUFRNVMsRUFBTXZNLFdBQVdDLG9CQUN6Qm1mLEVBQUksR0FjUixZQWJnQnZnQixJQUFacWdCLEdBQTJDcmdCLE1BQWxCcWdCLEVBQVF4aEIsU0FDakN3aEIsRUFBVUMsR0FFZEEsRUFBTXphLFFBQU8sU0FBUzlGLEdBQ2xCLE9BQU9MLEtBQUt5UixTQUFTcFIsS0FDdEJzZ0IsR0FBU2hoQixTQUFRLFNBQVNVLEdBQ3pCLElBQUl5RixFQUFRa0ksRUFBTXZNLFdBQVdJLG1CQUFtQnhCLEdBQ2hEd2dCLEVBQUV4Z0IsR0FBUXlGLEVBQU04QixxQkFDaEJpWixFQUFFeGdCLEdBQU1BLEtBQU9BLEVBQ1h5RixFQUFNMlgsYUFDTm9ELEVBQUV4Z0IsR0FBTXlnQixVQUFZaGIsRUFBTTJYLFdBQVczYixZQUd0QytlLEVBR1gsU0FBU0UsRUFBNEJDLEVBQVdMLEdBQzVDLElBQUl6VixFQUFNLENBQ04rQyxRQUFTLG1CQUNUeE0sV0FBWWlmLEVBQXlCMVMsRUFBTzJTLElBS2hELE9BSElLLElBQ0E5VixFQUFJOFYsVUFBWUEsR0FFYjlWLEVBR1gsU0FBUytWLEVBQXFCQyxFQUFTUCxHQUNuQ08sRUFBUXZVLFlBQVlvVSxPQUE0QnpnQixFQUFXcWdCLEdBQVVRLFNBQVNDLFFBR2xGLFNBQVNDLEVBQTBCTCxFQUFXTCxHQUMxQyxJQUFJelYsRUFBTTZWLEVBQTRCQyxFQUFXTCxHQUNqRFcsRUFBa0IzaEIsU0FBUSxTQUFTc00sR0FDL0JBLEVBQUVVLFlBQVl6QixFQUFLaVcsU0FBU0MsV0FJcEMsU0FBU0csRUFBcUJDLEVBQU8xaUIsRUFBTWpCLEdBQ3ZDLElBQUlxTixFQUFNLENBQ04rQyxRQUFTLGNBQ1R1VCxNQUFPQSxFQUNQMWlCLEtBQU1BLEVBQ05qQixNQUFPQSxHQUVYeWpCLEVBQWtCM2hCLFNBQVEsU0FBU3NNLEdBQy9CQSxFQUFFVSxZQUFZekIsRUFBS2lXLFNBQVNDLFdBaUJwQyxJQUFJRSxFQUFvQixHQUdwQnZSLEVBQWMsSUFBSXRSLFlBQ3RCK0YsT0FBT3JFLGlCQUFpQixXQUFVLFNBQVMwRixHQUN2QyxHQUFLeWIsRUFBa0I3UCxTQUFTNUwsRUFBRXVQLFFBR2xDLE9BQU92UCxFQUFFZ0gsS0FBS29CLFNBQ1YsSUFBSyxxQkFDTCxJQUFJd1QsRUFDSTViLEVBQUVnSCxLQUFLOE4sVUFBVXRhLE9BQ2pCb2hCLEVBQWtCelQsRUFBTXZNLFdBQVdJLG1CQUFtQmdFLEVBQUVnSCxLQUFLOE4sVUFBVXRhLFNBRW5Fb2hCLEVBQWdCeEcsU0FBU3BWLEVBQUVnSCxLQUFLOE4sVUFBVTljLE9BQU8sR0FDakR3akIsRUFBMEJ4YixFQUFFZ0gsS0FBS21VLFVBQVcsQ0FBQ25iLEVBQUVnSCxLQUFLOE4sVUFBVXRhLFFBR3RFLE1BQ0osSUFBSyx3QkFDRCxHQUFJd0YsRUFBRWdILEtBQUs4TixVQUFXLENBQ2xCLElBQUkrRyxFQWxDcEIsU0FBNkI3YixHQUN6QixJQUFJNmIsRUFBZ0IsR0FDaEJqZ0IsRUFBYWIsS0FBS0MsTUFBTWdGLEVBQUVvSSxRQUFReE0sWUFRdEMsT0FQQXhELE9BQU8wakIsS0FBS2xnQixHQUFZOUIsU0FBUSxTQUFTVSxHQUNyQyxJQUFJb2hCLEVBQWtCelQsRUFBTXZNLFdBQVdJLG1CQUFtQnhCLEdBQ3REb2hCLElBQ0FBLEVBQWdCeEcsU0FBU3haLEVBQVdwQixHQUFNeEMsT0FBTyxHQUNqRDZqQixFQUFjMWIsS0FBSzNGLE9BR3BCcWhCLEVBd0J5QkUsQ0FBb0IvYixHQUN4Q3diLEVBQTBCeGIsRUFBRWdILEtBQUttVSxVQUFXVSxHQUVoRCxNQUNKLElBQUssb0JBQ3lCLGlCQUFmN2IsRUFBRWdILEtBQUt4TSxLQUNkNGdCLEVBQXFCcGIsRUFBRXVQLE9BQVF2UCxFQUFFZ0gsS0FBS3hNLE1BRXRDNGdCLEVBQXFCcGIsRUFBRXVQLFFBRTNCLE1BQ0osSUFBSyxzQkFDRG1NLEVBQXFCLFVBQVcxYixFQUFFZ0gsS0FBSy9OLEtBQU1rUCxFQUFNNlQscUJBQXFCQyxZQUFZamMsRUFBRWdILEtBQUsvTixPQUMzRixNQUNKLElBQUssb0JBQ0R5aUIsRUFBcUIsUUFBUzFiLEVBQUVnSCxLQUFLL04sS0FBTWtQLEVBQU0rVCxtQkFBbUJELFlBQVlqYyxFQUFFZ0gsS0FBSy9OLE9BQ3ZGLE1BQ0osSUFBSyxtQkFDRHlpQixFQUFxQixPQUFRMWIsRUFBRWdILEtBQUsvTixLQUFNa1AsRUFBTWdVLGtCQUFrQkYsWUFBWWpjLEVBQUVnSCxLQUFLL04sT0FDckYsTUFDSixJQUFLLHFCQUNEeWlCLEVBQXFCLFNBQVUxYixFQUFFZ0gsS0FBSy9OLEtBQU1rUCxFQUFNaVUsb0JBQW9CSCxZQUFZamMsRUFBRWdILEtBQUsvTixPQUN6RixNQUNKLElBQUssZ0JBQ0QsTUFDSixRQUNJLEtBQU0seUJBQTBCK0csRUFBRWdILEtBQUtvQixRQUFRLFFBSTNEaFEsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixpQkFBb0IsQ0FDaEIsTUFBUyxTQUFTTixFQUFFTyxFQUFFQyxHQUNsQixPQUFPNlAsRUFBWTVQLGlCQUFpQlQsRUFBRU8sRUFBRUMsS0FHaEQsb0JBQXVCLENBQ25CLE1BQVMsU0FBU1IsRUFBRU8sRUFBRUMsR0FDbEIsT0FBTzZQLEVBQVkzUCxvQkFBb0JWLEVBQUVPLEVBQUVDLEtBR25ELFVBQWEsQ0FDVCxNQUFTLFNBQVNzaEIsRUFBTzFpQixHQUNyQixHQUFhLFdBQVQwaUIsRUFDQUQsRUFBcUIsVUFBV3ppQixFQUFNa1AsRUFBTTZULHFCQUFxQkMsWUFBWWhqQixTQUMxRSxHQUFhLFNBQVQwaUIsRUFDUEQsRUFBcUIsUUFBU3ppQixFQUFNa1AsRUFBTStULG1CQUFtQkQsWUFBWWhqQixTQUN0RSxHQUFhLFFBQVQwaUIsRUFDUEQsRUFBcUIsT0FBUXppQixFQUFNa1AsRUFBTWdVLGtCQUFrQkYsWUFBWWhqQixRQUNwRSxJQUFhLFVBQVQwaUIsRUFHUCxLQUFNLDZCQUZORCxFQUFxQixTQUFVemlCLEVBQU1rUCxFQUFNaVUsb0JBQW9CSCxZQUFZaGpCLE9BTXZGLGlCQUFvQixDQUNoQixNQUFTLFNBQVNvakIsR0FJZCxJQUFJdkIsUUFIbUJyZ0IsSUFBbkI0aEIsSUFDQUEsR0FBaUIsR0FHakJBLElBRUF2QixFQURxQjNTLEVBQU12TSxXQUFXQyxvQkFDYnlFLFFBQU8sU0FBUzlGLEdBQ3JDLElBQUl5RixFQUFRa0ksRUFBTXZNLFdBQVdJLG1CQUFtQnhCLEdBQ2hELE9BQVF5RixFQUFNcWMsY0FBaUMsSUFBbEJyYyxFQUFNaEUsWUFFM0IzQyxPQUFTLEdBRWpCa2lCLE9BQTBCL2dCLEVBQVdxZ0IsR0FHekNVLE1BS1osYUFBZ0IsQ0FDWnhqQixNQUFPLFdBRUMsSUFEQTBQLEVBQ00rVCxFQUFrQm5pQixPQUFTLEdBQUcsQ0FDeEJtaUIsRUFBa0JjLE1BQ3hCQyxXQU9sQixlQUFrQixDQUNkLE1BQVMsU0FBU3BXLEdBT2QsT0FOSXFWLEVBQWtCN1AsU0FBU3hGLElBQzNCcVYsRUFBa0JyWixPQUFPcVosRUFBa0I1WSxRQUFRdUQsR0FBSSxHQUUzRHFWLEVBQWtCdGIsS0FBS2lHLEdBQ3ZCQSxFQUFFeUcsZUFBaUIxRSxFQUNuQmlULEVBQXFCaFYsSUFDZCxJQUdmLGFBQWdCLENBQ1osTUFBUyxTQUFTQSxHQUNWcVYsRUFBa0I3UCxTQUFTeEYsSUFDM0JxVixFQUFrQnJaLE9BQU9xWixFQUFrQjVZLFFBQVF1RCxHQUFJLFFDaE12RXFXLEVBQWlDLFNBQVVDLEVBQTBCdlQsR0FDckUsU0FBU3dULEVBQWlCcE4sRUFBUWpHLEdBQzlCLFFBQWU3TyxJQUFYOFUsRUFDQSxLQUFNLGdDQUVWLFFBQXNCOVUsSUFBbEI2TyxFQUNBLEtBQU0sZ0NBRVYsR0FBeUMsaUJBQTlCQSxFQUFjSSxhQUErRCxpQkFBNUJKLEVBQWMvQyxXQUE0RCxpQkFBM0IrQyxFQUFjOUIsU0FDckgsS0FBTSwwQkFFVixPQUFPLEVBRVgsSUFBSW9WLEVBQWEsYUFDakJ6aUIsS0FBS3lVLGdCQUFrQixTQUFVdkgsR0FDN0IsSUFBSXROLEVBQ0osSUFBS0EsRUFBSSxFQUFHQSxFQUFJc04sRUFBWS9OLE9BQVFTLElBQ2hDSSxLQUFLMGlCLDBCQUEwQnhWLEVBQVl0TixHQUFHeUYsT0FBUSxDQUNsRCxZQUFlNkgsRUFBWXROLEdBQUcyUCxZQUM5QixVQUFhckMsRUFBWXROLEdBQUd3TSxVQUM1QixTQUFZYyxFQUFZdE4sR0FBR3lOLFlBSXZDck4sS0FBSzBpQiwwQkFBNEIsU0FBVXROLEVBQVFqRyxHQUMvQ3FULEVBQWlCcE4sRUFBUWpHLEdBQ3pCSCxFQUFrQnlGLGdCQUFnQjhOLEVBQXlCbGQsT0FBUStQLEVBQVFqRyxJQUUvRW5QLEtBQUsyaUIseUJBQTJCLFNBQVV2TixFQUFRakcsR0FDOUNxVCxFQUFpQnBOLEVBQVFqRyxHQUN6QkgsRUFBa0JxRSxlQUFla1AsRUFBeUJsZCxPQUFRK1AsRUFBUWpHLElBRTlFblAsS0FBSzRpQiw0QkFBOEIsU0FBVXhOLEdBQ3pDLFFBQWU5VSxJQUFYOFUsRUFDQSxLQUFNLGdDQUVWcEcsRUFBa0JxRSxlQUFla1AsRUFBeUJsZCxPQUFRK1AsSUFFdEVwVixLQUFLNmlCLGtCQUFvQixXQUNyQjdULEVBQWtCcUUsZUFBZWtQLEVBQXlCbGQsU0FHOURyRixLQUFLNE0sYUFBZSxTQUFVa1csR0FVQSxtQkFBZkwsR0FDUEEsRUFBV0ssSUFJbkI3a0IsT0FBT3dMLGVBQWV6SixLQUFNLGFBQWMsQ0FDdEMsSUFBTyxXQUNILE9BQU95aUIsR0FFWCxJQUFPLFNBQVVNLEdBQ2IsTUFBb0IsbUJBQVRBLElBQ1BOLEVBQWFNLEdBQ04sT0MvRG5CQyxFQUErQixTQUFVVCxFQUEwQnZULEdBQ25FLElBQUlpVSxFQUFhLFNBQVUzVSxFQUFRekQsRUFBUS9DLEdBQ3ZDLElBQUl5RyxFQUFhLEdBQ2IyVSxFQUFZLFNBQVVyWSxFQUFRdUIsR0FDOUJwTSxLQUFLd04sVUFBWStVLEVBQXlCbGQsT0FBT3JDLFFBQVEyRyxRQUFRa0UsaUJBQ2pFN04sS0FBS3dOLFVBQVVNLFFBQVUxQixFQUN6QnZCLEVBQU9HLFFBQVFoTCxLQUFLd04sV0FDcEJ4TixLQUFLcU4sU0FBVyxHQUNoQnBQLE9BQU93TCxlQUFlekosS0FBTSxZQUFhLENBQ3JDLE1BQVNvTSxJQWViLElBQUkyQixFQUFzQi9OLEtBQUtnRCxRQUFRK0ssb0JBRXZDLFNBQVMxQixFQUFnQlEsR0FFckIsSUFBSW9CLEVBQVUsQ0FDVixpQkFBb0IsRUFDcEIsUUFBVyxJQUVmRixFQUFvQmxCLEVBQU03TSxLQUFLcU4sVUFDL0JZLEVBQVFDLFFBQVEsR0FBSyxDQUNqQixRQUFXLEVBQ1gsUUFBV3ROLEtBQUtDLE1BQU1nTSxFQUFLc0IsV0FFL0JuTyxLQUFLNE0sYUFBYUMsRUFBSzFOLE9BQVE4TyxHQUduQ2pPLEtBQUtpTixZQUFjLFNBQVVDLEdBQ3pCbE4sS0FBS3FOLFNBQVdILEVBQ2EsSUFBekJsTixLQUFLcU4sU0FBU2xPLE9BQ2RhLEtBQUt3TixVQUFVWSxnQkFFZnBPLEtBQUt3TixVQUFVYSxjQUFjaEMsRUFBaUJyTSxRQUl0RG1qQixFQUFrQixTQUFVdFksRUFBUXVCLEdBQ3BDLFNBQVNDLEVBQWdCeEcsR0FDckIsSUFBSTNGLEVBQUdvTSxFQUFTLEdBQ2hCLElBQUtwTSxFQUFJLEVBQUdBLEVBQUkyRixFQUFFMEcsWUFBWUMsaUJBQWtCdE0sSUFDNUNvTSxFQUFPcE0sR0FBSzJGLEVBQUUwRyxZQUFZRSxlQUFldk0sR0FFN0N3TSxFQUFPQyxZQUFZLENBQ2YsTUFBUyxFQUNULE9BQVVMLElBSWxCLFNBQVNsSSxFQUFTOEcsR0FDZGxMLEtBQUs0TSxhQUFhUixFQUFXbEIsRUFBSTJCLEtBQUt6SSxVQUcxQyxJQUFJc0ksRUFBUyxJQUFJSSxPQUFPLDBCQUN4QkosRUFBT0ssUUFBVSxTQUFVbEgsR0FDdkI5QixRQUFRaUosTUFBTW5ILElBR2xCN0YsS0FBS2lOLFlBQWMsU0FBVUMsR0FDekIsSUFBSTVDLEVBQU90SyxLQUNQbU4sRUFBZ0IsQ0FDaEIsTUFBUyxFQUNULFdBQWNvVixFQUF5QmxkLE9BQU9yQyxRQUFRMkcsUUFBUUUsV0FDOUQsWUFBZXFELEVBQ2YsWUFBZXJDLEVBQU91QyxnQkFDdEIsVUFBYXBOLEtBQUtvTSxXQUV0QnBNLEtBQUtxTixTQUFXSCxFQUNaQSxHQUFlQSxFQUFZL04sT0FBUyxHQUNwQ3VOLEVBQU9ZLFVBQVksU0FBVXpILEdBQ0osSUFBakJBLEVBQUVnSCxLQUFLVSxPQUNQYixFQUFPWSxVQUFZbEosRUFBU3JHLEtBQUt1TSxHQUNqQ0EsRUFBS2tELFVBQVVDLGVBQWlCcEIsRUFBZ0J0TyxLQUFLdU0sSUFFckRvQyxFQUFPQyxZQUFZUSxJQUczQlQsRUFBT0MsWUFBWSxDQUNmLE1BQVMsS0FHYjNNLEtBQUt3TixVQUFVQyxvQkFBaUJuTixHQUt4Q04sS0FBS3dOLFVBQVkrVSxFQUF5QmxkLE9BQU9yQyxRQUFRMkcsUUFBUWdFLHNCQUFzQnZCLEVBQVd2QixFQUFPdUMsZ0JBQWlCLEdBQzFIdkMsRUFBT0csUUFBUWhMLEtBQUt3TixXQUNwQnhOLEtBQUt3TixVQUFVeEMsUUFBUXVYLEVBQXlCbGQsT0FBT3JDLFFBQVEyRyxRQUFRaUUsYUFFdkUzUCxPQUFPd0wsZUFBZXpKLEtBQU0sWUFBYSxDQUNyQyxNQUFTb00sS0FHakJwTSxLQUFLd08sYUFBZSxTQUFVcEMsR0FDMUIsSUFBSXhOLEVBaUJKLE9BZklBLEVBREE0RixPQUFPc0ksT0FDRCxJQUFJcVcsRUFBZ0J0WSxFQUFRdUIsR0FFNUIsSUFBSThXLEVBQVVyWSxFQUFRdUIsR0FFaENtQyxFQUFXdkksS0FBS3BILEdBQ2hCWCxPQUFPd0wsZUFBZTdLLEVBQUssZUFBZ0IsQ0FDdkMsTUFBUyxTQUFVd04sRUFBV3FDLEdBQzFCLElBQUk3UCxFQUFNLENBQ04sWUFBZWtKLEVBQ2YsVUFBYXNFLEVBQ2IsUUFBV3FDLEdBRWZ6TyxLQUFLNE0sYUFBYWhPLElBQ3BCYixLQUFLaUMsUUFFSnBCLEdBRVhvQixLQUFLME8sY0FBZ0IsU0FBVXRDLEdBQzNCLElBQUl1QyxFQUFRdkMsRUFDWixPQUFPbUMsRUFBVzNJLE1BQUssU0FBVUMsR0FFN0IsT0FBT0EsRUFBRXVHLFlBQWN1QyxNQUcvQjNPLEtBQUs4TyxnQkFBa0IsU0FBVTFDLE1BRWpDNkMsRUFBYyxHQUNsQmpQLEtBQUtrUCxlQUFpQixTQUFVQyxHQUU1QixJQUFJQyxFQUNKLElBQUtBLEVBQUksRUFBR0EsRUFBSUQsRUFBY2hRLE9BQVFpUSxJQUFLLENBQ3ZDLFFBQXVCOU8sSUFBbkIyTyxFQUFZRyxHQUFrQixDQUM5QixHQUFJQSxFQUFJbVQsRUFBeUJsZCxPQUFPK2QsV0FDcEMsS0FBTSwwQ0FFVm5VLEVBQVlHLEdBQUssSUFBSTZULEVBQVdWLEVBQXlCbGQsT0FBUWtkLEVBQXlCbGQsT0FBT2dlLFFBQVFqVSxHQUFJQSxHQUM3R25SLE9BQU93TCxlQUFld0YsRUFBWUcsR0FBSSxlQUFnQixDQUNsRCxNQUFTLFNBQVVDLEdBQ2ZyUCxLQUFLNE0sYUFBYXlDLElBQ3BCdFIsS0FBS2lDLFFBR2YsSUFBSXNQLEVBQ0osSUFBS0EsRUFBSyxFQUFHQSxFQUFLSCxFQUFjQyxHQUFHalEsT0FBUW1RLElBQU0sQ0FDN0MsSUFBSTlCLEVBQVl5QixFQUFZRyxHQUFHVixjQUFjUyxFQUFjQyxHQUFHRSxHQUFJbEQsV0FDN0RvQixJQUNEQSxFQUFZeUIsRUFBWUcsR0FBR1osYUFBYVcsRUFBY0MsR0FBR0UsR0FBSWxELFlBRWpFb0IsRUFBVVAsWUFBWWtDLEVBQWNDLEdBQUdFLEdBQUlwQyxnQkFLdkRsTixLQUFLNE0sYUFBZSxTQUFVdUMsR0FPMUJvVCxFQUF5QmxkLE9BQU9yQyxRQUFRd0csV0FBV29ELGFBQWEsQ0FDNUQsT0FBVTJWLEVBQXlCbGQsT0FBT3FOLGVBQzFDLFlBQWV2RCxFQUFjSSxZQUM3QixVQUFhSixFQUFjL0MsVUFDM0IsUUFBVytDLEVBQWNqQixXQUtqQ2MsRUFBa0JRLGdCQUFnQnhQLEtBQU11aUIsRUFBeUJsZCxPQUFPcU4saUJDaEx4RTRRLEVBQXlCLFNBQVVDLEdBQ25DdmpCLEtBQUtxRixPQUFTa2UsRUFDZHZqQixLQUFLNlMsU0FBVyxJQUFJeVAsRUFBK0J0aUIsS0FBTXVqQixFQUFtQnZnQixRQUFRd0csWUFDcEZ4SixLQUFLK1QsT0FBUyxJQUFJaVAsRUFBNkJoakIsS0FBTXVqQixFQUFtQnZnQixRQUFRd0csWUFFaEZ2TCxPQUFPd0wsZUFBZXpKLEtBQU0sYUFBYyxDQUN0QyxJQUFPLFdBQ0gsT0FBT0EsS0FBSzZTLFNBQVMyUSxZQUV6QixJQUFPLFNBQVVULEdBRWIsT0FEQS9pQixLQUFLNlMsU0FBUzJRLFdBQWFULEVBQ3BCQSxNQ2JmVSxFQUErQixTQUFVQyxFQUFLQyxFQUF5QkMsRUFBV0MsR0FDbEY3akIsS0FBSzhLLE1BQVE0WSxFQUNiMWpCLEtBQUs0akIsVUFBWUEsRUFDakI1akIsS0FBSzhqQixJQUFNRCxFQUNYN2pCLEtBQUsrakIsV0FBYUosRUFDbEIzakIsS0FBS2drQixZQUFjLFNBQVVDLEdBQ3pCamtCLEtBQUsrakIsV0FBV2xtQixNQUFRbUMsS0FBSzhLLE1BQU1qTixPQUV2Q21DLEtBQUs4SyxNQUFNM0ssaUJBQWlCLFNBQVVILE1BQ3RDQSxLQUFLOEssTUFBTTNLLGlCQUFpQixZQUFhSCxNQUN6Q0EsS0FBSzhLLE1BQU0zSyxpQkFBaUIsUUFBU0gsT0FHckNra0IsRUFBc0IsU0FBVVgsRUFBb0I5WCxFQUFPQyxHQUMzRDNILFFBQVFzSCxJQUFJLGdCQUNadEgsUUFBUXNILElBQUkscURBQ1p0SCxRQUFRc0gsSUFBSSx5RUFDWnJMLEtBQUs0akIsVUFBWUwsRUFDakJ2akIsS0FBS3RCLEtBQU9vQixTQUFTYixjQUFjLE9BQy9Cd00sRUFBUSxJQUNSekwsS0FBS3RCLEtBQUtvTixNQUFNTCxNQUFRQSxFQUFRLE1BRWhDQyxFQUFTLElBQ1QxTCxLQUFLdEIsS0FBS29OLE1BQU1KLE9BQVNBLEVBQVMsTUFFdEMxTCxLQUFLbWtCLElBQU0sQ0FDUDFZLE1BQU9BLEVBQ1BDLE9BQVFBLEdBRVoxTCxLQUFLb2tCLGlCQUFtQixLQUN4QnBrQixLQUFLcWtCLGVBQWlCLEtBQ3RCcmtCLEtBQUtza0IsMEJBQTRCLEdBRWpDdGtCLEtBQUt1a0IsbUNBQXFDLFNBQVViLEVBQUtDLEdBQ3JELElBQUk5akIsRUFBTyxJQUFJNGpCLEVBQTZCQyxFQUFLQyxFQUF5QjNqQixLQUFLNGpCLFVBQVc1akIsTUFFMUYsT0FEQUEsS0FBS3NrQiwwQkFBMEJ0ZSxLQUFLbkcsR0FDN0JBLEdBR1hHLEtBQUtxYSxPQUFTLGNBSWxCNkosRUFBb0JobUIsVUFBVXNtQixRQUFVLFdBQ3BDLE9BQU94a0IsS0FBS3RCLE1BRWhCd2xCLEVBQW9CaG1CLFVBQVV1bUIsY0FBZ0IsV0FDMUMsT0FBT3prQixLQUFLbWtCLEtBRWhCRCxFQUFvQmhtQixVQUFVd21CLFNBQVcsV0FDckMsT0FBTzFrQixLQUFLbWtCLElBQUkxWSxPQUVwQnlZLEVBQW9CaG1CLFVBQVV5bUIsVUFBWSxXQUN0QyxPQUFPM2tCLEtBQUtta0IsSUFBSXpZLFFBRXBCd1ksRUFBb0JobUIsVUFBVTBtQixlQUFpQixTQUFVQyxRQUUxQ3ZrQixJQUFQdWtCLElBQ0FBLEVBQUssS0FFcUIsT0FBMUI3a0IsS0FBS29rQixtQkFDTHBrQixLQUFLcWtCLGVBQWlCUSxFQUN0QjdrQixLQUFLb2tCLGlCQUFtQjVmLE9BQU9zZ0IsWUFBWSxXQUN2QzlrQixLQUFLcWEsVUFDUHRjLEtBQUtpQyxNQUFPLE9BR3RCa2tCLEVBQW9CaG1CLFVBQVU2bUIsY0FBZ0IsV0FFWixPQUExQi9rQixLQUFLb2tCLG1CQUNMNWYsT0FBT3dnQixjQUFjaGxCLEtBQUtva0Isa0JBQzFCcGtCLEtBQUtxa0IsZUFBaUIsS0FDdEJya0IsS0FBS29rQixpQkFBbUIsT0FHaENGLEVBQW9CaG1CLFVBQVVnRyxhQUFlLFNBQVVWLEdBZ0JuRCxPQWZRLElBQUlQLFNBQVEsU0FBVUMsRUFBU0MsR0FDbkMsSUFBSThoQixFQUFNLElBQUl0Z0IsZUFDZHNnQixFQUFJcmdCLEtBQUssTUFBT3BCLEdBQ2hCeWhCLEVBQUluTyxPQUFTLFdBQ1UsTUFBZm1PLEVBQUluRyxPQUNKNWIsRUFBUStoQixFQUFJN2dCLFVBRVpqQixFQUFPMkcsTUFBTW1iLEVBQUlDLGNBR3pCRCxFQUFJbFksUUFBVSxXQUNWNUosRUFBTzJHLE1BQU0sbUJBRWpCbWIsRUFBSTlmLFdBSVorZSxFQUFvQmhtQixVQUFVaW5CLFNBQVcsV0FDckNubEIsS0FBSytrQixnQkFDTC9rQixLQUFLdEIsS0FBSzBtQixVQUFZLEksV0MvRlgsU0FBU0MsRUFBcUJyWCxFQUFPc1gsR0FDaEQsU0FBU0MsRUFBVTFmLEdBQ2YsSUFBSS9HLEVBQU8rRyxFQUFFcEYsT0FBTzNCLEtBQ2hCakIsRUFBUWdJLEVBQUVwRixPQUFPNUMsTUFDakIybkIsRUFBVTFtQixJQUFtQyxtQkFBbkIwbUIsRUFBVTFtQixJQUNwQzBtQixFQUFVMW1CLEdBQU1WLEtBQUs0UCxFQUFPblEsR0FJcEMsSUFBSTJuQixFQUFZLEdBRWhCRixFQUFZbmxCLGlCQUFpQixVQUFXb2xCLEdBRXhDdG5CLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsUUFBVyxDQUNQLE1BQVMsV0FDTHNsQixFQUFZbGxCLG9CQUFvQixVQUFXbWxCLEtBR25ELFlBQWUsQ0FDWCxNQUFTLFNBQVV6bUIsR0FDZixPQUFPd21CLEVBQVlHLFFBQVEzbUIsS0FHbkMsY0FBaUIsQ0FDYixNQUFTLFNBQVNBLEVBQU00bUIsR0FDcEIsR0FBSUYsRUFBVXJuQixlQUFlVyxHQUN6QixLQUFNLDBCQUVWMG1CLEVBQVUxbUIsR0FBUTRtQixJQUcxQix1QkFBMEIsQ0FDdEIsTUFBUyxTQUFTNW1CLEdBQ2QwbUIsRUFBVTFtQixRQUFRd0IsTUNsQ25CLFNBQVNxbEIsRUFBMkJ0Z0IsRUFBUXJDLEVBQVM0aUIsRUFBZXpMLEVBQWFDLEdBQzVGLElBQUl5TCxFQUFlN2lCLEVBQVFKLGFBQWFpVix3QkFBd0J4UyxFQUFRckMsRUFBUUosYUFBYXFVLFdBQVcsSUFDcEc2TyxFQUFnQnpnQixFQUFPNUQsV0FBV3NrQixvQkFBb0JILEVBQWU1aUIsRUFBUUosYUFBYXFVLFdBQVcsR0FBRzVXLEtBQU0yQyxFQUFRSixhQUFhcVUsV0FBV3RDLElBQUkvUyxHQUFHQSxFQUFFdkIsV0FBT0MsRUFBVzZaLEVBQWFDLEdBQzFMMEwsRUFBY3ZMLFFBQVUsV0FDcEIsSUFBSTVELEVBQU8zVCxFQUFRSixhQUFhcVUsV0FBV3JSLEtBQUtoRSxHQUFLa2tCLEVBQWNqb0IsT0FBUytELEVBQUV2QixNQUM5RXdsQixFQUFhOU8sV0FBV0osSUFHNUIxWSxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLFVBQWEsQ0FDVCxNQUFTOGxCLEdBRWIsZUFBa0IsQ0FDZCxJQUFPLFdBQWEsT0FBTzlpQixFQUFRSixhQUFhcVUsYUFFcEQsV0FBYyxDQUNWLE1BQVMsU0FBU04sR0FDZCxPQUFRbVAsRUFBY2pvQixNQUFROFksSUFHdEMsYUFBZ0IsQ0FDWixJQUFPLFdBQWEsT0FBT21QLEVBQWNqb0IsUUFFN0MsV0FBYyxDQUNWLE1BQVNnb0IsRUFBYUcsWUFFMUIsZ0JBQW1CLENBQ2YsTUFBU0gsRUFBYTNPLGlCQUUxQixpQkFBb0IsQ0FDaEIsTUFBUzJPLEVBQWExTyxrQkFFMUIsY0FBaUIsQ0FDYixNQUFTME8sRUFBYUksZUFFMUIsTUFBUyxDQUNMLElBQU8sV0FBYSxPQUFPSCxFQUFjam9CLE9BQ3pDLElBQU8sU0FBU3FvQixHQUFJLE9BQVFKLEVBQWNqb0IsTUFBUXFvQixJQUV0RCxPQUFVLENBQ04sSUFBTyxXQUFZLE9BQU9MLEVBQWEvTyxRQUN2QyxJQUFPLFNBQVNyVCxHQUFJLE9BQVFvaUIsRUFBYS9PLE9BQVNyVCxJQUV0RCxRQUFXLENBQ1AsSUFBTyxXQUFZLE9BQU9vaUIsRUFBYTlZLFNBQ3ZDLElBQU8sU0FBU3RKLEdBQUksT0FBUW9pQixFQUFhOVksUUFBVXRKLE1DbkN0QyxtQkFBZDBpQixnQkFBcUQ3bEIsSUFBekJrRSxPQUFPNGhCLGdCQUMxQ0QsVUFBVWpvQixVQUFVeWEsVUFBWSxXQUM1QixNQUFPLENBQUMzWSxRQUloQixJQUFJcW1CLEVBQWEsU0FBU3JqQixFQUFTZ0wsR0FDL0IsSUFBSXNZLEVBQVksR0FDWmpTLEVBQWEsR0FDYmtTLEVBQVN2WSxFQUNUNkIsRUFBZSxFQUNmRSxFQUFjLElBQUl0UixZQUNsQm1LLEVBQW9CLElBQUk2WCxFQUEwQnpnQixNQWlDdEQsU0FBU3dtQixFQUFTM21CLEVBQU02USxHQUNwQixJQUFJOVEsRUFBSThRLEVBQUszSSxXQUFVLFNBQVVsQyxHQUM3QixPQUFPQSxJQUFNN0YsT0FDZEgsR0FDSCxPQUFXLElBQVBELElBR0o4USxFQUFLekksT0FBT3JJLEVBQUcsSUFDUixRQXhDVVUsSUFBakJOLEtBQUsySixVQUNMM0osS0FBSzJKLFFBQVUzRyxFQUFRMkcsY0FFTnJKLElBQWpCTixLQUFLZ0QsVUFDTGhELEtBQUtnRCxRQUFVQSxHQUVuQmhELEtBQUs0UyxXQUFhLElBQUkwUSxFQUF1QnRqQixNQUM3Q0EsS0FBS3lCLFdBQWEsSUFBSXVlLEVBQWlCaGdCLEtBQU00SSxHQUM3QzVJLEtBQUt5QixXQUFXdEIsaUJBQWlCLGdCQUFnQixTQUFTMEYsR0FDdERrSyxFQUFZeFAsY0FBYyxJQUFJQyxZQUFZLGVBQWdCLENBQUNDLE9BQVFvRixFQUFFcEYsYUFFekVULEtBQUt5bUIsc0JBQXdCLFNBQVNiLEVBQWV6TCxFQUFhQyxHQUM5RCxPQUFPLElBQUl1TCxFQUEyQjNsQixLQUFNZ0QsRUFBUzRpQixFQUFlekwsRUFBYUMsSUFHckZwYSxLQUFLMG1CLFdBQWEsSUFBSXRWLEVBQUEsRUFBWSxVQUVsQ3BSLEtBQUs2aEIscUJBQXVCLElBQUl3RCxFQUFxQnJsQixLQUFNZ0QsRUFBUWtFLGFBQ25FbEgsS0FBS2dpQixrQkFBb0IsSUFBSXFELEVBQXFCcmxCLEtBQU1nRCxFQUFRbUUsVUFDaEVuSCxLQUFLK2hCLG1CQUFxQixJQUFJc0QsRUFBcUJybEIsS0FBTWdPLEVBQU10RCxXQUMvRDFLLEtBQUtpaUIsb0JBQXNCLElBQUlvRCxFQUFxQnJsQixLQUFNQSxLQUFLMG1CLFlBRS9EMW1CLEtBQUsySSxPQUFTLFdBQ1YzSSxLQUFLNmhCLHFCQUFxQjNaLFVBQzFCbEksS0FBS2dpQixrQkFBa0I5WixVQUN2QmxJLEtBQUsraEIsbUJBQW1CN1osVUFDeEJsSSxLQUFLaWlCLG9CQUFvQi9aLFVBQ3JCbEksS0FBSzJtQixhQUEwQyxtQkFBcEIzbUIsS0FBSzJtQixhQUNoQzNtQixLQUFLMm1CLGVBZWIzbUIsS0FBSzRtQixTQUFXLFNBQVUvbUIsR0FFdEIsT0FEQXltQixFQUFVdGdCLEtBQUtuRyxHQUNSeW1CLEdBRVh0bUIsS0FBSzZtQixZQUFjLFNBQVVobkIsR0FDekIsT0FBTzJtQixFQUFTM21CLEVBQU15bUIsSUFFMUJ0bUIsS0FBSzhtQixVQUFZLFNBQVVqbkIsR0FFdkIsT0FEQXdVLEVBQVdyTyxLQUFLbkcsR0FDVEcsS0FBS3FqQixTQUVoQnJqQixLQUFLK21CLGFBQWUsU0FBVWxuQixHQUMxQixPQUFPMm1CLEVBQVMzbUIsRUFBTXdVLElBRzFCclUsS0FBS2duQiw0QkFBOEIsU0FBU0MsR0FDeEMsSUFBSUMsRUFBS2xrQixFQUFRMkcsUUFBUUUsV0FDekIsR0FBc0IsaUJBQVhvZCxHQUF1QmxNLFNBQVNrTSxJQUFZQSxHQUFXLEVBQzlELE9BQU9qbkIsS0FBS21uQiw0QkFBNEJGLEVBQVFDLEdBQUlBLEVBRXhELEtBQUssZ0RBR1RsbkIsS0FBS21uQiw0QkFBOEIsU0FBU0MsR0FDeEMsR0FBc0IsaUJBQVhBLEdBQXVCck0sU0FBU3FNLElBQVlBLEdBQVcsRUFBRyxDQUNqRXZYLEVBQWV1WCxFQUNmLElBQUl2aEIsRUFBSSxJQUFJc0wsTUFBTSxjQUVsQixPQURBcEIsRUFBWXhQLGNBQWNzRixHQUNuQmdLLEVBRVAsS0FBSyxnREFLYjdQLEtBQUt3QixNQUFReEIsS0FBS21DLEtBQU9uQyxLQUFLc0wsU0FBV3RMLEtBQUsrUixXQUFhL1IsS0FBSzJtQixZQUFjLGFBRTlFMW9CLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsa0JBQXFCLENBQ2pCLE1BQVM0SSxHQUViLFVBQWEsQ0FDVGpMLElBQUssV0FDRCxPQUFPMm9CLEVBQVVubkIsUUFFckJrb0IsSUFBSyxXQUNELEtBQU0sa0RBR2QsV0FBYyxDQUNWMXBCLElBQUssV0FDRCxPQUFPMFcsRUFBV2xWLFFBRXRCa29CLElBQUssV0FDRCxLQUFNLG1EQUdkLGNBQWlCLENBQ2IxcEIsSUFBSyxXQUNELE9BQU9xQyxLQUFLeUIsV0FBV0EsV0FBV3RDLFFBRXRDa29CLElBQUssV0FDRCxLQUFNLHNEQUdkLE1BQVMsQ0FDTDFwQixJQUFLLFdBQ0QsT0FBTzRvQixHQUVYYyxJQUFLLFNBQVVyWixHQUlYLE1BSHFCLGlCQUFWQSxJQUNQdVksRUFBU3ZZLEdBRU51WSxJQUdmLE9BQVUsQ0FDTjVvQixJQUFLLFNBQVVtSyxHQUNYLE9BQU93ZSxHQUVYZSxJQUFLLFdBQ0QsS0FBTSx5Q0FHZCxRQUFXLENBQ1AxcEIsSUFBSyxTQUFVbUssR0FDWCxPQUFPdU0sR0FFWGdULElBQUssV0FDRCxLQUFNLHlDQUdkLHlCQUE0QixDQUN4QixJQUFPLFdBQ0gsT0FBT3hYLEdBRVgsSUFBTzdQLEtBQUttbkIsNkJBRWhCLHlCQUE0QixDQUN4QixJQUFPLFdBQ0gsT0FBT3RYLEVBQWE3TSxFQUFRMkcsUUFBUUUsWUFFeEMsSUFBTzdKLEtBQUtnbkIsNkJBRWhCLFFBQVcsQ0FDUCxNQUFTLFNBQVVNLEdBQ2Z0bkIsS0FBS3FqQixRQUFRLEdBQUdyWSxRQUFRc2MsRUFBS0MsS0FBT0QsRUFBS3hjLE1BQVF3YyxLQUd6RCxXQUFjLENBQ1YsTUFBUyxTQUFVQSxRQUNGaG5CLElBQVRnbkIsRUFDQXRuQixLQUFLcWpCLFFBQVEsR0FBR3BZLGFBRWhCakwsS0FBS3FqQixRQUFRLEdBQUdwWSxXQUFXcWMsRUFBS3hjLE1BQVF3YyxFQUFLeGMsTUFBUXdjLEtBSWpFLFVBQWEsQ0FDVCxNQUFTLFdBQ0wsT0FBT3RuQixLQUFLd25CLFNBR3BCLFdBQWMsQ0FDVixNQUFTLFdBQ0wsT0FBT3huQixLQUFLcWpCLFVBR3BCLGtCQUFxQixDQUNqQixNQUFTLFdBQ0wsT0FBT3JqQixLQUFLeUIsV0FBV0Msc0JBRy9CLG1CQUFzQixDQUNsQixNQUFTLFNBQVVyQixHQUNmLE9BQU9MLEtBQUt5QixXQUFXSSxtQkFBbUJ4QixLQUdsRCxtQkFBc0IsQ0FDbEIsTUFBUyxXQUNMLE9BQU9MLEtBQUt5QixXQUFXbUcsdUJBRy9CLG1CQUFzQixDQUNsQixNQUFTLFNBQVV2SCxFQUFNeEMsR0FDckIsT0FBT21DLEtBQUt5QixXQUFXK2UsbUJBQW1CbmdCLEVBQU14QyxLQUd4RCxzQkFBeUIsQ0FDckIsTUFBUyxTQUFVUSxHQUNmLE9BQU8yQixLQUFLeUIsV0FBV2tHLHNCQUFzQnRKLEtBR3JELGlCQUFvQixDQUNoQixNQUFTLFNBQVNQLEVBQUtELEdBQ25CLE9BQU9rUyxFQUFZNVAsaUJBQWlCckMsRUFBS0QsS0FHakQsb0JBQXVCLENBQ25CLE1BQVMsU0FBU0MsRUFBS0QsR0FDbkIsT0FBT2tTLEVBQVk1UCxpQkFBaUJyQyxFQUFLRCxRQ2pPckQ0cEIsRUFBd0IsU0FBU3prQixFQUFTZ0wsR0FFMUMsSUFBSTBaLEdBQTBCLEVBQzFCQyxHQUF3QixFQUN4QkMsRUFBYSxPQUNqQnZCLEVBQVdqb0IsS0FBSzRCLEtBQU1nRCxFQUFTZ0wsR0FFL0IvUCxPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLFNBQVksQ0FDUixNQUFTLFdBQ0wsS0FBSyxxREFHYixZQUFlLENBQ1gsTUFBUyxXQUNMLEtBQUssd0RBR2IsY0FBaUIsQ0FDYixNQUFTLFNBQVVrTCxFQUFLOFIsR0FDZjBLLElBQ0QzakIsUUFBUThqQixRQUFRLDhDQUNoQkgsR0FBMEIsSUFHbEMsVUFBWSxHQUVoQixnQkFBbUIsQ0FDZixNQUFTLFdBQ0FDLElBQ0Q1akIsUUFBUThqQixRQUFRLGdEQUNoQkYsR0FBd0IsSUFHaEMsVUFBWSxHQUVoQixjQUFpQixDQUNiLE1BQVMsU0FBU3RqQixHQUlkLE1BSFksUUFBUkEsR0FBMEIsUUFBUkEsR0FBMEIsYUFBUkEsSUFDcEN1akIsRUFBYXZqQixHQUVWdWpCLElBR2YsY0FBaUIsQ0FDYixNQUFTLFdBQ0wsT0FBT0EsSUFHZixhQUFnQixDQUNaLE1BQVMsU0FBU2ptQixHQUNkLE1BQWdCLGlCQUFMQSxHQUFpQkEsR0FBSyxHQUFLQSxFQUFJLEtBTTlDLFVBQVksR0FFaEIsd0JBQTJCLENBQ3ZCLE1BQVMsV0FFTCxJQURBLElBQUkvQyxFQUFLLEdBQ0ErQyxFQUFFLEVBQUdBLEVBQUUsSUFBS0EsSUFDakIvQyxFQUFJb0gsS0FBSyxDQUNMZ1osS0FBTXJkLEVBQ050QixLQUFNTCxLQUFLOG5CLGVBQWVubUIsS0FHbEMsT0FBTy9DLEdBRVgsVUFBWSxHQUVoQixvQkFBdUIsQ0FDbkIsTUFBUyxTQUFVbXBCLEdBQ2YsT0FBZ0MsSUFBekI3TSxLQUFLOE0sSUFBSSxHQUFNRCxFQUFFLElBQUksTUFHcEMsb0JBQXVCLENBQ25CLE1BQVMsU0FBVXRrQixHQUNmLE9BQU95WCxLQUFLMEMsTUFBTSxHQUFLMUMsS0FBSytNLEtBQUt4a0IsRUFBRSxNQUFNLEtBR2pELGVBQWtCLENBQ2QsTUFBUyxTQUFVc2tCLEdBQ2YsSUFDSXJwQixFQUFPcXBCLEVBQUUsR0FDVEcsRUFBU2hOLEtBQUtpTixNQUFNenBCLEVBQUssSUFFN0IsTUFKWSxDQUFDLElBQUssS0FBTSxJQUFLLElBQUssS0FBTSxJQUFLLEtBQU0sSUFBSyxJQUFLLEtBQU0sSUFBSyxNQUc3RHdjLEtBQUtpTixPQUFPenBCLEVBQUssSUFBSSxLQUNYMEcsT0FBTzhpQixLQUdwQyxlQUFrQixDQUNkLE1BQVMsU0FBU3ZtQixHQUlkLE9BQWMsR0FGRGlOLE9BQU9qTixFQUFFMlEsTUFBTTNRLEVBQUV4QyxPQUFPLElBRHpCLENBQUMsSUFBSyxLQUFNLElBQUssSUFBSyxLQUFNLElBQUssS0FBTSxJQUFLLElBQUssS0FBTSxJQUFLLE1BRXZEdUosUUFBUS9HLEVBQUUyUSxNQUFNLEVBQUUzUSxFQUFFeEMsT0FBTyxJQUNsQixTQUsxQ3NvQixFQUFzQnZwQixVQUFZRCxPQUFPdU4sT0FBTzZhLEVBQVdub0IsWUFDM0IyVixZQUFjNFQsRUNoRS9CLE1BdkNmLFNBQWlDelosRUFBT2tULEVBQVMwRSxFQUFlekwsRUFBYW9ELEVBQWNqQyxFQUFTRCxHQUloRyxJQUFJeGQsRUFBUTBmLEVBQ1oyRCxFQUFRa0gsMEJBSlIsU0FBa0J2aUIsR0FDZGhJLEVBQVFnSSxFQUFFaEksUUFHNkIrbkIsR0FBZSxHQUMxRDNuQixPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLEtBQVEsQ0FDSixNQUFTbWEsR0FFYixjQUFpQixDQUNiLE1BQVN5TCxHQUViLGFBQWdCLENBQ1osTUFBU3JJLEdBRWIsUUFBVyxDQUNQLE1BQVNqQyxHQUViLFFBQVcsQ0FDUCxNQUFTRCxHQUViLE1BQVMsQ0FDTCxJQUFPLFdBQWEsT0FBT3hkLEdBQzNCLElBQU8sU0FBUzJjLEdBSVosTUFIaUIsaUJBQU5BLElBQ1AzYyxFQUFRcWQsS0FBS0UsSUFBSUMsRUFBU0gsS0FBS0MsSUFBSUcsRUFBU2QsS0FFekMzYyxJQUdmLE9BQVUsQ0FDTixNQUFTLFNBQVNBLEdBQ2RxakIsRUFBUVYsbUJBQW1Cb0YsRUFBZS9uQixRQ00zQyxNQXZDZixTQUErQm1RLEVBQU9rVCxFQUFTMEUsRUFBZXpMLEVBQWFvRCxFQUFjb0IsR0FJckYsSUFBSTlnQixFQUFRMGYsRUFDWjJELEVBQVFrSCwwQkFKUixTQUFrQnZpQixHQUNkaEksRUFBUWdJLEVBQUVoSSxRQUc2QituQixHQUFlLEdBQzFEM25CLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsS0FBUSxDQUNKLE1BQVNtYSxHQUViLGNBQWlCLENBQ2IsTUFBU3lMLEdBRWIsYUFBZ0IsQ0FDWixNQUFTckksR0FFYixRQUFXLENBQ1AsTUFBU2pDLFNBRWIsUUFBVyxDQUNQLE1BQVNELFNBRWIsTUFBUyxDQUNMLElBQU8sV0FBYSxPQUFPeGQsR0FDM0IsSUFBTyxTQUFTMmMsR0FJWixPQUhJbUUsRUFBV2xOLFNBQVMrSSxLQUNwQjNjLEVBQVEyYyxHQUVMM2MsSUFHZixPQUFVLENBQ04sTUFBUyxTQUFTQSxHQUNkcWpCLEVBQVFWLG1CQUFtQm9GLEVBQWUvbkIsUUNNM0MsTUF2Q2YsU0FBaUNtUSxFQUFPa1QsRUFBUzBFLEVBQWV6TCxFQUFhb0QsR0FJekUsSUFBSTFmLEVBQVEwZixFQUNaMkQsRUFBUWtILDBCQUpSLFNBQWtCdmlCLEdBQ2RoSSxFQUFRZ0ksRUFBRWhJLFFBRzZCK25CLEdBQWUsR0FDMUQzbkIsT0FBTzhCLGlCQUFpQkMsS0FBTSxDQUMxQixLQUFRLENBQ0osTUFBU21hLEdBRWIsY0FBaUIsQ0FDYixNQUFTeUwsR0FFYixhQUFnQixDQUNaLE1BQVNySSxHQUViLFFBQVcsQ0FDUCxNQUFTakMsU0FFYixRQUFXLENBQ1AsTUFBU0QsU0FFYixNQUFTLENBQ0wsSUFBTyxXQUFhLE9BQU94ZCxHQUMzQixJQUFPLFNBQVMyYyxHQUlaLE1BSGlCLGlCQUFOQSxJQUNQM2MsRUFBUTJjLEdBRUwzYyxJQUdmLE9BQVUsQ0FDTixNQUFTLFNBQVNBLEdBQ2RxakIsRUFBUVYsbUJBQW1Cb0YsRUFBZS9uQixRQzBCM0MsTUEzRGYsU0FBaUNtUSxFQUFPa1QsRUFBUzBFLEVBQWV6TCxFQUFhb0QsRUFBY2UsRUFBVUQsR0FJakcsSUFBSXhnQixFQUFRMGYsRUFDWjJELEVBQVFrSCwwQkFKUixTQUFrQnZpQixHQUNkaEksRUFBUWdJLEVBQUVoSSxRQUc2QituQixHQUFlLEdBQzFEM25CLE9BQU84QixpQkFBaUJDLEtBQU0sQ0FDMUIsS0FBUSxDQUNKLE1BQVNtYSxHQUViLGNBQWlCLENBQ2IsTUFBU3lMLEdBRWIsYUFBZ0IsQ0FDWixNQUFTckksR0FFYixRQUFXLENBQ1AsTUFBU2pDLFNBRWIsUUFBVyxDQUNQLE1BQVNELFNBRWIsTUFBUyxDQUNMLElBQU8sV0FBYSxPQUFPeGQsR0FDM0IsSUFBTyxTQUFTMmMsR0FJWixNQUhpQixpQkFBTkEsSUFDUDNjLEVBQVFxZCxLQUFLRSxJQUFJaUQsRUFBVW5ELEtBQUtDLElBQUltRCxFQUFVOUQsS0FFM0MzYyxJQUdmLFVBQWEsQ0FDVCxNQUFTLFdBQ0wsSUFBSTJjLEVBQUkzYyxFQUFRLEVBS2hCLE9BSkkyYyxFQUFJOEQsSUFDSjlELEVBQUk2RCxHQUVSeGdCLEVBQVEyYyxJQUloQixVQUFhLENBQ1QsTUFBUyxXQUNMLElBQUlBLEVBQUkzYyxFQUFRLEVBS2hCLE9BSkkyYyxFQUFJNkQsSUFDSjdELEVBQUk4RCxHQUVSemdCLEVBQVEyYyxJQUloQixPQUFVLENBQ04sTUFBUyxTQUFTM2MsR0FDZHFqQixFQUFRVixtQkFBbUJvRixFQUFlL25CLFFDWjNDLE1BdENmLFNBQWdDcWpCLEdBRTVCLElBQUl6ZixFQUFhLEdBRWpCeEQsT0FBTzhCLGlCQUFpQkMsS0FDeEIsQ0FDSSw4QkFBaUMsQ0FDN0IsTUFBUyxTQUFTNGxCLEVBQWV6TCxFQUFhb0QsRUFBY2pDLEVBQVNELEdBQ2pFLElBQUl4YixFQUFPLElBQUksRUFBd0JHLEtBQU1raEIsRUFBUzBFLEVBQWV6TCxFQUFhb0QsRUFBY2pDLEVBQVNELEdBRXpHLE9BREE1WixFQUFXdUUsS0FBS25HLEdBQ1RBLElBR2YsNEJBQStCLENBQzNCLE1BQVMsU0FBUytsQixFQUFlekwsRUFBYW9ELEVBQWNvQixHQUN4RCxJQUFJOWUsRUFBTyxJQUFJLEVBQXNCRyxLQUFNa2hCLEVBQVMwRSxFQUFlekwsRUFBYW9ELEVBQWNvQixHQUU5RixPQURBbGQsRUFBV3VFLEtBQUtuRyxHQUNUQSxJQUdmLDhCQUFpQyxDQUM3QixNQUFTLFNBQVMrbEIsRUFBZXpMLEVBQWFvRCxHQUMxQyxJQUFJMWQsRUFBTyxJQUFJLEVBQXdCRyxLQUFNa2hCLEVBQVMwRSxFQUFlekwsRUFBYW9ELEdBRWxGLE9BREE5YixFQUFXdUUsS0FBS25HLEdBQ1RBLElBR2YsOEJBQWlDLENBQzdCLE1BQVMsU0FBUytsQixFQUFlekwsRUFBYW9ELEVBQWNlLEVBQVVELEdBQ2xFLElBQUl4ZSxFQUFPLElBQUksRUFBd0JHLEtBQU1raEIsRUFBUzBFLEVBQWV6TCxFQUFhb0QsRUFBY2UsRUFBVUQsR0FFMUcsT0FEQTVjLEVBQVd1RSxLQUFLbkcsR0FDVEEsT0N6QlIsU0FBU3dvQixJQUNwQixTQUFTMWIsRUFBWXRPLEdBQ2pCLFFBQWVpQyxJQUFYakMsUUFBMkNpQyxJQUFuQmpDLEVBQU80UCxRQUMvQixLQUFLLDJCQUVUNVAsRUFBTzJpQixVQUFZc0gsRUFDbkJDLEVBQVc1YixZQUFZdE8sRUFBUW1HLE9BQU8yYyxTQUFTQyxRQUVuRCxJQUFJbUgsRUFDQS9qQixPQUFPZ2tCLE9BRVBELEVBQWEvakIsT0FBT2drQixPQUNiaGtCLE9BQU84SixTQUNkaWEsRUFBYS9qQixPQUFPOEosUUFHeEIsSUFJUWhQLEVBSkpncEIsR0FJSWhwQixFQUFNLElBQUltcEIsV0FBVyxJQUN6QmprQixPQUFPa2tCLE9BQU9DLGdCQUFnQnJwQixHQUN2QjhYLE1BQU13UixLQUFLdHBCLEdBTGxCLFNBQWtCdXBCLEdBQ2QsT0FBUSxJQUFNQSxFQUFJL0ksU0FBUyxLQUFLZ0osUUFBUSxNQUlaQyxLQUFLLEtBR3JDQyxFQUF1QixHQUN2QkMsRUFBYyxHQUNkQyxFQUFpQixHQUVyQjFrQixPQUFPOEksVUFBWSxTQUFTekgsR0FDeEIsR0FBSUEsRUFBRXVQLFFBQVVtVCxHQUdaMWlCLEVBQUVnSCxLQUFLbVUsV0FBYXNILEVBQXhCLENBR0EsSUFBSWEsRUFDSixPQUFPdGpCLEVBQUVnSCxLQUFLb0IsU0FDVixJQUFLLG1CQUNEa2IsRUFBYyxJQUFJM29CLFlBQVksb0JBQXFCLENBQUNDLE9BQVFvRixFQUFFZ0gsT0FDOUQsTUFDSixJQUFLLGNBQ0RzYyxFQUFjLElBQUkzb0IsWUFBWSxjQUFlLENBQUNDLE9BQVFvRixFQUFFZ0gsT0FDeEQsTUFDSixRQUNJLE9BRVJySSxPQUFPakUsY0FBYzRvQixLQUd6QjNrQixPQUFPckUsaUJBQWlCLHFCQUFxQixTQUFTMEYsR0FDOUNBLEVBQUVwRixPQUFPZ0IsYUFDVHhELE9BQU8wakIsS0FBSzliLEVBQUVwRixPQUFPZ0IsWUFBWTlCLFNBQVEsU0FBU1UsR0FDOUIyb0IsRUFBcUI3aUIsUUFBTyxTQUFTOEosR0FDakQsT0FBT0EsRUFBRTVQLE1BQVFBLFFBQW1CQyxJQUFYMlAsRUFBRTVQLFFBRXJCVixTQUFRLFNBQVNzUSxHQUN2QkEsRUFBRXlWLFNBQVM3ZixFQUFFcEYsT0FBT2dCLFdBQVdwQixVQUd2QzRvQixFQUFZdHBCLFNBQVEsU0FBUytsQixHQUN6QkEsRUFBUzdmLEVBQUVwRixPQUFPZ0IsbUJBSzlCK0MsT0FBT3JFLGlCQUFpQixlQUFlLFNBQVMwRixHQUM1Q3FqQixFQUFlL2lCLFFBQU8sU0FBU3NVLEdBQzNCLE9BQVFBLEVBQVMrRyxPQUFTM2IsRUFBRXBGLE9BQU8rZ0IsT0FBVy9HLEVBQVMzYixNQUFRK0csRUFBRXBGLE9BQU8zQixRQUN6RWEsU0FBUSxTQUFTOGEsR0FDaEJBLEVBQVNpTCxTQUFTN2YsRUFBRXBGLE9BQU81QyxhQUluQ21DLEtBQUtvcEIseUJBQTJCLElBQUksRUFBdUJwcEIsTUFFM0QvQixPQUFPOEIsaUJBQWlCQyxLQUFNLENBQzFCLGVBQWtCLENBQ2QsSUFBTyxXQUNILE9BQU93RSxPQUFPa08saUJBR3RCLG1CQUFzQixDQUNsQixNQUFTLFNBQVNyUyxFQUFNeEMsR0FDcEIsR0FBbUIsaUJBQVJ3QyxFQUNQLEtBQU0sd0NBRVZzTSxFQUFZLENBQ1JzQixRQUFTLHFCQUNUME0sVUFBVyxDQUNQdGEsS0FBTUEsRUFDTnhDLE1BQU9BLE9BS3ZCLHFCQUF3QixDQUNwQixNQUFTLFNBQVNRLEdBQ2RzTyxFQUFZLENBQ1JzQixRQUFTLHVCQUNUeE0sV0FBWXBELE1BSXhCLGtCQUFxQixDQUNqQixNQUFTLFdBQ0xzTyxFQUFZLENBQ1JzQixRQUFTLHdCQUlyQix1QkFBMEIsQ0FDdEIsTUFBUyxTQUFVNU4sR0FDZixHQUFtQixpQkFBUkEsRUFNUCxLQUFLLGVBTExzTSxFQUFZLENBQ1JzQixRQUFTLG9CQUNUNU4sS0FBTUEsTUFRdEIseUJBQTRCLENBQ3hCLE1BQVMsU0FBU3FsQixFQUFVcmxCLEVBQU1ncEIsR0FDOUIsUUFBaUIvb0IsSUFBYm9sQixHQUE2QyxtQkFBWkEsRUFDakMsS0FBSyxzQ0FZVCxPQVZBc0QsRUFBcUJoakIsS0FBSyxDQUN0QjNGLEtBQU1BLEVBQ05xbEIsU0FBVUEsS0FFUyxJQUFuQjJELEdBQ0ExYyxFQUFZLENBQ1JzQixRQUFTLG9CQUNUNU4sS0FBTUEsSUFHUDJvQixFQUFxQjdwQixTQUdwQyxvQkFBdUIsQ0FDbkIsTUFBUyxTQUFTdW1CLEVBQVUyRCxHQUN4QixRQUFpQi9vQixJQUFib2xCLEdBQTZDLG1CQUFaQSxFQUNqQyxLQUFLLHNDQVFULE9BTkF1RCxFQUFZampCLEtBQUswZixJQUNNLElBQW5CMkQsR0FDQTFjLEVBQVksQ0FDUnNCLFFBQVMsc0JBR1ZnYixFQUFZOXBCLFNBRzNCLGVBQWtCLENBQ2QsTUFBUyxTQUFTdW1CLEVBQVVsRSxFQUFPMWlCLEVBQU11cUIsR0FDckMsUUFBaUIvb0IsSUFBYm9sQixHQUE2QyxtQkFBWkEsRUFDakMsS0FBSyxzQ0FFVCxHQUFhLFdBQVRsRSxHQUErQixTQUFUQSxHQUE2QixRQUFUQSxHQUE0QixVQUFUQSxFQUM3RCxLQUFNLDhCQUE4QnBjLE9BQU9vYyxHQVUvQyxPQVJBMEgsRUFBZWxqQixLQUFLLENBQ2hCd2IsTUFBT0EsRUFDUDFpQixLQUFNQSxFQUNONG1CLFNBQVVBLEtBRVMsSUFBbkIyRCxHQUNBcnBCLEtBQUtzcEIsYUFBYTlILEVBQU8xaUIsR0FFdEJvcUIsRUFBZS9wQixTQUc5QixhQUFnQixDQUNaLE1BQVMsU0FBVXFpQixFQUFPMWlCLEdBQ3RCLElBQUltUCxFQUFVLFVBQVl1VCxFQUFNK0gsT0FBTyxHQUFHQyxjQUFnQmhJLEVBQU1sUCxNQUFNLEdBQUssUUFDM0UsR0FBbUIsaUJBQVJqUyxLQU1QLEtBQUssZUFMTHNNLEVBQVksQ0FDUnNCLFFBQVNBLEVBQ1RuUCxLQUFNQSxNQVF0QixnQkFBbUIsQ0FDZixNQUFTLFNBQVN1RixFQUFNb2xCLEdBQ3BCOWMsRUFBWSxDQUNSc0IsUUFBUyxnQkFDVHhOLE9BQVEsQ0FDSjRELEtBQU1BLEVBQ05vbEIsUUFBU0EsU0M5TWpDIiwiZmlsZSI6IkpTQVAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCIvKmdsb2JhbHMgZG9jdW1lbnQgKi9cbi8qZXNsaW50LWVudiBicm93c2VyICovXG4vKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbnZhciBMaW5rZWRTdG9yZSA9IGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAvLyBTdG9yZSBmb3IgdGhlIHNlbWFudGljIHRlcm1zLCBlYWNoIHN0b3JlIGhvbGRzIGl0cyBvd24gZGF0YSB0cmVlXG4gICAgLy8gVGVybXMgYXJlIGFkZGVkIGFzIGtleS92YWx1ZSBwYXJpcyB0byBhIHJvb3Qgbm9kZVxuICAgIHZhciBldCA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgIHZhciByb290ID0ge307XG5cbiAgICBmdW5jdGlvbiBvYmplY3RUb1hNTChvYmosIHJvb3QsIGRvYykge1xuICAgICAgICAvLyBVc2VkIGlmIGFuIG9iamVjdCB3YXMgcGFzc2VkIGFzIGEgdGVybSB2YWx1ZVxuICAgICAgICB2YXIgdGVybTtcbiAgICAgICAgZm9yICh0ZXJtIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eSh0ZXJtKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW3Rlcm1dID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2NOb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqW3Rlcm1dLnRvWE1MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NOb2RlID0gb2JqW3Rlcm1dLnRvWE1MKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NOb2RlID0gZG9jLmNyZWF0ZUVsZW1lbnQodGVybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmFwcGVuZENoaWxkKGRvY05vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ialt0ZXJtXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVRvWE1MKG9ialt0ZXJtXSwgZG9jTm9kZSwgZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0VG9YTUwob2JqW3Rlcm1dLCBkb2NOb2RlLCBkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoZG9jTm9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5zZXRBdHRyaWJ1dGUodGVybSwgb2JqW3Rlcm1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheVRvWE1MKGFyciwgcm9vdCwgZG9jKSB7XG4gICAgICAgIC8vIFVzZWQgdG8gY29udmVydCBhbiBhcnJheSB0byBhIGxpc3Qgb2YgWE1MIGVudHJpZXNcbiAgICAgICAgdmFyIGFsbF9udW1iZXJzID0gdHJ1ZSxcbiAgICAgICAgICAgIGFsbF9zdHJpbmdzID0gdHJ1ZSxcbiAgICAgICAgICAgIGksIGwgPSBhcnIubGVuZ3RoO1xuICAgICAgICBhbGxfbnVtYmVycyA9IGFyci5ldmVyeShmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhID09PSBcIm51bWJlclwiO1xuICAgICAgICB9KTtcbiAgICAgICAgYWxsX3N0cmluZ3MgPSBhcnIuZXZlcnkoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhbGxfbnVtYmVycyB8fCBhbGxfc3RyaW5ncykge1xuICAgICAgICAgICAgLy8gQW4gYXJyYXkgb2YgbnVtYmVycyBvciBzdHJpbmdzXG4gICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoYSwgaSkge1xuICAgICAgICAgICAgICAgIHJvb3Quc2V0QXR0cmlidXRlKFwiaW5kZXgtXCIgKyBpLCBhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQW4gYXJyYXkgb2Ygb2JqZWN0c1xuICAgICAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGEsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImluZGV4XCIsIGkpO1xuICAgICAgICAgICAgICAgIG9iamVjdFRvWE1MKGEsIG5vZGUsIGRvYyk7XG4gICAgICAgICAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcImFkZEV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihhLGIsYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBldC5hZGRFdmVudExpc3RlbmVyKGEsYixjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVFdmVudExpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oYSxiLGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICduYW1lJzoge1xuICAgICAgICAgICAgJ2dldCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmVOYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzZXQnOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdG9yZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gc3RvcmVOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIk5hbWUgaXMgYWxyZWFkeSBzZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnc2V0VGVybSc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uICh0ZXJtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVybSAhPT0gXCJzdHJpbmdcIiAmJiB0ZXJtLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJ0ZXJtIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvb3RbdGVybV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBldC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImFsdGVyZWRcIiwge2RldGFpbDp7dGVybTogdGVybSwgdmFsdWU6IHZhbHVlfX0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3NldFRlcm1zJzoge1xuICAgICAgICAgICAgJ3ZhbHVlJzogZnVuY3Rpb24gKHRlcm1zT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXJtc09iamVjdCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJzZXRUZXJtcyB0YWtlcyBhbiBvYmplY3Qgb2YgdGVybS92YWx1ZSBwYWlyc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRlcm07XG4gICAgICAgICAgICAgICAgZm9yICh0ZXJtIGluIHRlcm1zT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtc09iamVjdC5oYXNPd25Qcm9wZXJ0eSh0ZXJtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUZXJtKHRlcm0sIHRlcm1zT2JqZWN0W3Rlcm1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2RlbGV0ZVRlcm0nOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGVybSh0ZXJtLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnZ2V0VGVybSc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uICh0ZXJtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXJtICE9PSBcInN0cmluZ1wiICYmIHRlcm0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcInRlcm0gbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvb3RbdGVybV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdoYXNUZXJtJzoge1xuICAgICAgICAgICAgJ3ZhbHVlJzogZnVuY3Rpb24gKHRlcm0pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRlcm0gIT09IFwic3RyaW5nXCIgJiYgdGVybS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwidGVybSBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcm9vdC5oYXNPd25Qcm9wZXJ0eSh0ZXJtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3RvSlNPTic6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb290KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd0b1hNTCc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvYykge1xuICAgICAgICAgICAgICAgICAgICBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudChudWxsLCBzdG9yZU5hbWUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gZG9jLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBkb2MuY3JlYXRlRWxlbWVudChzdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmplY3RUb1hNTChyb290LCBub2RlLCBkb2MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaW5rZWRTdG9yZTtcbiIsIi8vIFRoaXMgZGVmaW5lcyBhIG1hc3RlciBvYmplY3QgZm9yIGhvbGRpbmcgYWxsIHRoZSBwbHVnaW5zIGFuZCBjb21tdW5pY2F0aW5nXG4vLyBUaGlzIG9iamVjdCB3aWxsIGFsc28gaGFuZGxlIGNyZWF0aW9uIGFuZCBkZXN0cnVjdGlvbiBvZiBwbHVnaW5zXG4vKmdsb2JhbHMgUHJvbWlzZSwgZG9jdW1lbnQsIGNvbnNvbGUsIExpbmtlZFN0b3JlLCBXb3JrZXIsIHdpbmRvdywgWE1MSHR0cFJlcXVlc3QgKi9cbi8qZXNsaW50LWVudiBicm93c2VyICovXG4vKiBqc2hpbnQgZXN2ZXJzaW9uOjYgKi9cblxuaW1wb3J0IExpbmtlZFN0b3JlIGZyb20gJy4uL0xpbmtlZFN0b3JlJztcbmltcG9ydCBQbHVnaW5Bc3NldE1hbmFnZXIgZnJvbSAnLi9QbHVnaW5Bc3NldHMvUGx1Z2luQXNzZXRNYW5hZ2VyJztcbmltcG9ydCBQbHVnaW5Qcm90b3R5cGUgZnJvbSBcIi4vUGx1Z2luUHJvdG90eXBlXCI7XG5pbXBvcnQgRmVhdHVyZU1hcCBmcm9tIFwiLi9GZWF0dXJlTWFwL2luZGV4XCI7XG5pbXBvcnQgQXVkaW9QbHVnaW5DaGFpbk1hbmFnZXIgZnJvbSBcIi4vQXVkaW9QbHVnaW5DaGFpbk1hbmFnZXIvXCI7XG5pbXBvcnQgTWlkaVN5bnRoZXNpc2VySG9zdCBmcm9tIFwiLi9NaWRpU3ludGhlc2lzZXJIb3N0XCI7XG5pbXBvcnQgUGx1Z2luVXNlckludGVyZmFjZU1lc3NhZ2VIdWIgZnJvbSBcIi4vUGx1Z2luVXNlckludGVyZmFjZU1lc3NhZ2VIdWJcIjtcblxuZnVuY3Rpb24gUGx1Z2luRmFjdG9yeShhdWRpb19jb250ZXh0LCByb290VVJMKSB7XG5cbiAgICBmdW5jdGlvbiBsb2FkUmVzb3VyY2UocmVzb3VyY2VPYmplY3QpIHtcbiAgICAgICAgaWYgKHJlc291cmNlT2JqZWN0LnVybC5zdGFydHNXaXRoKFwiaHR0cFwiKSA9PT0gZmFsc2UgJiYgcm9vdFVSTCAhPT0gdW5kZWZpbmVkICYmIHJvb3RVUkwuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICAgICAgICAgIHJlc291cmNlT2JqZWN0LnVybCA9IHJvb3RVUkwgKyByZXNvdXJjZU9iamVjdC51cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHJlc291cmNlT2JqZWN0LnVybCk7XG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHQudGV4dENvbnRlbnQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvdXJjZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29weUZhY3RvcnkoZmFjdG9yeSwgbmV3Y29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAobmV3Y29udGV4dC5zYW1wbGVSYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvL01heWJlIG5vdCBhIHJlYWwgQXVkaW9Db250ZXh0XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgYXVkaW8gY29udGV4dCBwcm92aWRlZFwiKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3Y29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3Y29udGV4dCkge1xuICAgICAgICAgICAgdmFyIEJGYWN0b3J5ID0gbmV3IFBsdWdpbkZhY3RvcnkobmV3Y29udGV4dCk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIHBsdWdpbl9wcm90b3R5cGVzLmZvckVhY2goZnVuY3Rpb24gKHByb3RvKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChCRmFjdG9yeS5hZGRQcm90b3R5cGUocHJvdG8ucHJvdG8pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCRmFjdG9yeTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5ld0ZhY3RvcnkpIHtcbiAgICAgICAgICAgIG5ld0ZhY3RvcnkucGx1Z2luQXNzZXRzLmltcG9ydEZyb21Bc3NldExpc3RzKGZhY3RvcnkucGx1Z2luQXNzZXRzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdGYWN0b3J5O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbHVnaW5BdWRpb1N0YXJ0KG5vZGUsIHByb2dyYW1fdGltZSwgY29udGV4dF90aW1lKSB7XG4gICAgICAgIG5vZGUuc3RhcnQuY2FsbChub2RlLCBwcm9ncmFtX3RpbWUsIGNvbnRleHRfdGltZSk7XG4gICAgICAgIG5vZGUucGFyYW1ldGVycy5nZXRQYXJhbWV0ZXJOYW1lcygpLmZvckVhY2goZnVuY3Rpb24obikge1xuICAgICAgICAgICAgdmFyIHAgPSBub2RlLnBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyQnlOYW1lKG4pO1xuICAgICAgICAgICAgaWYgKHAuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHAuc3RhcnQocHJvZ3JhbV90aW1lLCBjb250ZXh0X3RpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbHVnaW5BdWRpb1N0b3Aobm9kZSkge1xuICAgICAgICB2YXIgY3QgPSBhdWRpb19jb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgICAgICBub2RlLnN0b3AuY2FsbChub2RlLCBjdCk7XG4gICAgICAgIG5vZGUucGFyYW1ldGVycy5nZXRQYXJhbWV0ZXJOYW1lcygpLmZvckVhY2goZnVuY3Rpb24obikge1xuICAgICAgICAgICAgdmFyIHAgPSBub2RlLnBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyQnlOYW1lKG4pO1xuICAgICAgICAgICAgaWYgKHAuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHAuc3RvcChjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyaWdnZXJBdWRpb1N0YXJ0KHByb2dyYW1fdGltZSwgY29udGV4dF90aW1lKSB7XG4gICAgICAgIHBsdWdpbnNMaXN0LmZvckVhY2goZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHBsdWdpbkF1ZGlvU3RhcnQobi5ub2RlLCBwcm9ncmFtX3RpbWUsIGNvbnRleHRfdGltZSk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJpZ2dlckF1ZGlvU3RvcCgpIHtcbiAgICAgICAgcGx1Z2luc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcGx1Z2luQXVkaW9TdG9wKG4ubm9kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzdWJGYWN0b3JpZXMgPSBbXSxcbiAgICBzeW50aGVzaXNlckhvc3RzID0gW10sXG4gICAgcGx1Z2luX3Byb3RvdHlwZXMgPSBbXSxcbiAgICBwbHVnaW5zTGlzdCA9IFtdLFxuICAgIGF1ZGlvU3RhcnRQcm9ncmFtVGltZSxcbiAgICBhdWRpb1N0YXJ0Q29udGV4dFRpbWUsXG4gICAgYXVkaW9TdGFydGVkID0gZmFsc2UsXG4gICAgcGx1Z2luVXNlckludGVyZmFjZU1lc3NhZ2VIdWJJbnRhbmNlID0gbmV3IFBsdWdpblVzZXJJbnRlcmZhY2VNZXNzYWdlSHViKHRoaXMpLFxuICAgIHN0b3JlcyA9IFtdO1xuXG4gICAgdGhpcy5wbHVnaW5Bc3NldHMgPSBuZXcgUGx1Z2luQXNzZXRNYW5hZ2VyKHRoaXMpO1xuXG4gICAgLypcbiAgICAgICAgdGhpcy5sb2FkUmVzb3VyY2UuIExvYWQgYSByZXNvdXJjZSBpbnRvIHRoZSBnbG9iYWwgbmFtZXNwYWNlXG5cbiAgICAgICAgQHBhcmFtIHJlc291cmNlT2JqZWN0OiBhIEpTIG9iamVjdCBob2xkaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgICAgICAgIC51cmw6IFVSTCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICAgIC50ZXN0OiBmdW5jdGlvbiB0byBjYWxsLCByZXR1cm5zIHRydWUgaWYgcmVzb3VyY2UgYWxyZWFkeSBsb2FkZWQsIGZhbHNlIGlmIG5vdFxuICAgICovXG4gICAgdGhpcy5sb2FkUHJvdG90eXBlTW9kdWxlID0gZnVuY3Rpb24ocmVzb3VyY2VPYmplY3QsIG11c3RNb2R1bGUpIHtcbiAgICAgICAgdmFyIGZhY3RvcnkgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGdsb2JhbC5kZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBnbG9iYWwuZGVmaW5lLmFtZCkge1xuICAgICAgICAgICAgICAgIGdsb2JhbC5yZXF1aXJlKFtyZXNvdXJjZU9iamVjdC51cmxdLCBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwubW9kdWxlID09IFwib2JqZWN0XCIgJiYgZ2xvYmFsLm1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShnbG9iYWwucmVxdWlyZShyZXNvdXJjZU9iamVjdC51cmwpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiQ2Fubm90IGxvYWQgdXNpbmcgbW9kdWxhciBzeXN0ZW1zXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGV4ZWN1dGFibGUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXhlY3V0YWJsZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkuYWRkUHJvdG90eXBlKGV4ZWN1dGFibGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJJcyBub3QgYSBtb2R1bGUgcGx1Z2luXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChtdXN0TW9kdWxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiQ2Fubm90IGxvYWQgdXNpbmcgbW9kdWxhciBzeXN0ZW1zXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgbG9hZCB1c2luZyBtb2R1bGFyIHN5c3RlbXNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkubG9hZFBsdWdpblNjcmlwdChyZXNvdXJjZU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAocmVzb3VyY2VPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNvdXJjZU9iamVjdCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIkVycm9yXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJlc291cmNlT2JqZWN0LnVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJlamVjdChcInJlc291cmNlT2JqZWN0LnVybCBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJlc291cmNlT2JqZWN0LnRlc3QgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJlamVjdChcInJlc291cmNlT2JqZWN0LnRlc3QgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc291cmNlT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNvdXJjZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXNvdXJjZU9iamVjdC50ZXN0KCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlICYmIHJlc3BvbnNlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwicmVzb3VyY2VPYmplY3QudGVzdCBtdXN0IHJldHVybiB0cnVlIG9yIGZhbHNlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXNvdXJjZU9iamVjdC50eXBlKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VPYmplY3QudHlwZSA9IFwiamF2YXNjcmlwdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb3VyY2VPYmplY3QudHlwZSA9IHJlc291cmNlT2JqZWN0LnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHN3aXRjaCAocmVzb3VyY2VPYmplY3QudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJqYXZhc2NyaXB0XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2FkUmVzb3VyY2UocmVzb3VyY2VPYmplY3QpLnRoZW4oZnVuY3Rpb24gKHJlc291cmNlT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNvdXJjZU9iamVjdC5yZXR1cm5PYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVybk9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZU9iamVjdC5yZXR1cm5PYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93W3Jlc291cmNlT2JqZWN0LnJldHVybk9iamVjdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc291cmNlT2JqZWN0LnJldHVybk9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhhc093blByb3BlcnR5KHJlc291cmNlT2JqZWN0LnJldHVybk9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUod2luZG93W3Jlc291cmNlT2JqZWN0LnJldHVybk9iamVjdF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiSW52YWxpZCB0eXBlIFwiICsgU3RyaW5nKHJlc291cmNlT2JqZWN0LnR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMubG9hZFBsdWdpblNjcmlwdCA9IGZ1bmN0aW9uIChyZXNvdXJjZU9iamVjdCkge1xuICAgICAgICBpZiAocmVzb3VyY2VPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzb3VyY2VPYmplY3QucmV0dXJuT2JqZWN0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwicmVzb3VyY2VPYmplY3QucmV0dXJuT2JqZWN0IG11c3QgYmUgdGhlIG5hbWUgb2YgdGhlIHByb3RvdHlwZSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRSZXNvdXJjZShyZXNvdXJjZU9iamVjdCkudGhlbihmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkUHJvdG90eXBlKHBsdWdpbik7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaW5qZWN0UHJvdG90eXBlID0gZnVuY3Rpb24ocHJvdG90eXBlRXhlY3V0YWJsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZUV4ZWN1dGFibGUgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyhcIkludmFsaWQgZXhlY3V0YWJsZSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRQcm90b3R5cGUocHJvdG90eXBlRXhlY3V0YWJsZSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkUHJvdG90eXBlID0gZnVuY3Rpb24gKHBsdWdpbl9wcm90bykge1xuICAgICAgICB2YXIgZmFjdG9yeSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGx1Z2luX3Byb3RvICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJUaGUgUHJvdG90eXBlIG11c3QgYmUgYSBmdW5jdGlvbiFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcGx1Z2luX3Byb3RvLnByb3RvdHlwZS5uYW1lICE9PSBcInN0cmluZ1wiIHx8IHBsdWdpbl9wcm90by5wcm90b3R5cGUubmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJNYWxmb3JtZWQgcGx1Z2luLiBOYW1lIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHBsdWdpbl9wcm90by5wcm90b3R5cGUudmVyc2lvbiAhPT0gXCJzdHJpbmdcIiB8fCBwbHVnaW5fcHJvdG8ucHJvdG90eXBlLnZlcnNpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiTWFsZm9ybWVkIHBsdWdpbi4gVmVyc2lvbiBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwbHVnaW5fcHJvdG8ucHJvdG90eXBlLnVuaXF1ZUlEICE9PSBcInN0cmluZ1wiIHx8IHBsdWdpbl9wcm90by5wcm90b3R5cGUudW5pcXVlSUQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiTWFsZm9ybWVkIHBsdWdpbi4gdW5pcXVlSUQgbm90IGRlZmluZWRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocGx1Z2luX3Byb3RvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihwbHVnaW5fcHJvdG8pIHtcbiAgICAgICAgICAgIHZhciB0ZXN0T2JqID0ge1xuICAgICAgICAgICAgICAgICdwcm90byc6IHBsdWdpbl9wcm90byxcbiAgICAgICAgICAgICAgICAnbmFtZSc6IHBsdWdpbl9wcm90by5wcm90b3R5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAndmVyc2lvbic6IHBsdWdpbl9wcm90by5wcm90b3R5cGUudmVyc2lvbixcbiAgICAgICAgICAgICAgICAndW5pcXVlSUQnOiBwbHVnaW5fcHJvdG8ucHJvdG90eXBlLnVuaXF1ZUlEXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9iaiA9IHBsdWdpbl9wcm90b3R5cGVzLmZpbmQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW07XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHBhcmFtIGluIHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVbcGFyYW1dID09PSB0aGlzW3BhcmFtXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2grKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2ggPT09IDQ7XG4gICAgICAgICAgICB9LCB0ZXN0T2JqKTtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoXCJUaGUgcGx1Z2luIG11c3QgYmUgdW5pcXVlIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iaiA9IG5ldyBQbHVnaW5Qcm90b3R5cGUocGx1Z2luX3Byb3RvLCBmYWN0b3J5KTtcbiAgICAgICAgICAgIHBsdWdpbl9wcm90b3R5cGVzLnB1c2gob2JqKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAgICAgICAgICdmYWN0b3J5Jzoge1xuICAgICAgICAgICAgICAgICAgICAndmFsdWUnOiBmYWN0b3J5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRQcm90b3R5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcGx1Z2luX3Byb3RvdHlwZXM7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0QXVkaW9QbHVnaW5Qcm90b3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5fcHJvdG90eXBlcy5maWx0ZXIoZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgICAgIHJldHVybiBwcm90by5oYXNNaWRpSW5wdXQgPT0gZmFsc2UgJiYgcHJvdG8uaGFzTWlkaU91dHB1dCA9PSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0TWlkaVN5bnRoUHJvdG90eXBlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcGx1Z2luX3Byb3RvdHlwZXMuZmlsdGVyKGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdG8uaGFzTWlkaUlucHV0ID09IHRydWUgJiYgcHJvdG8uaGFzTWlkaU91dHB1dCA9PSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0TWlkaVBsdWdpblByb3RvdHlwZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBsdWdpbl9wcm90b3R5cGVzLmZpbHRlcihmdW5jdGlvbihwcm90bykge1xuICAgICAgICAgICAgcmV0dXJuIHByb3RvLmhhc01pZGlJbnB1dCA9PSB0cnVlICYmIHByb3RvLmhhc01pZGlPdXRwdXQgPT0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0QWxsUGx1Z2lucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHBsdWdpbnNMaXN0O1xuICAgIH07XG5cbiAgICB0aGlzLmdldEFsbFBsdWdpbnNPYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgJ2ZhY3RvcnknOiB0aGlzLFxuICAgICAgICAgICAgICAgICdzdWJGYWN0b3JpZXMnOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdWJGYWN0b3JpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG9iai5zdWJGYWN0b3JpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgJ3N1YkZhY3RvcnknOiBzdWJGYWN0b3JpZXNbaV0sXG4gICAgICAgICAgICAgICAgJ3BsdWdpbnMnOiBzdWJGYWN0b3JpZXNbaV0uZ2V0UGx1Z2lucygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZVN1YkZhY3RvcnkgPSBmdW5jdGlvbihjaGFpblN0YXJ0LCBjaGFpblN0b3ApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiREVQUkVDQVRFRCAtIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBkZXByZWNhdGVkIGluIGZhdm91ciBvZiBcXFwiY3JlYXRlQXVkaW9QbHVnaW5DaGFpbk1hbmFnZXJcXFwiXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb1BsdWdpbkNoYWluTWFuYWdlcihjaGFpblN0YXJ0LCBjaGFpblN0b3ApO1xuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3lTdWJGYWN0b3J5ID0gZnVuY3Rpb24oY2hhaW5TdGFydCwgY2hhaW5TdG9wKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQgLSBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiBmYXZvdXIgb2YgXFxcImRlc3Ryb3lBdWRpb1BsdWdpbkNoYWluTWFuYWdlclxcXCJcIik7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc3Ryb3lBdWRpb1BsdWdpbkNoYWluTWFuYWdlcihjaGFpblN0YXJ0LCBjaGFpblN0b3ApO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZUF1ZGlvUGx1Z2luQ2hhaW5NYW5hZ2VyID0gZnVuY3Rpb24gKGNoYWluU3RhcnQsIGNoYWluU3RvcCkge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBBdWRpb1BsdWdpbkNoYWluTWFuYWdlcih0aGlzLCBjaGFpblN0YXJ0LCBjaGFpblN0b3ApO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhub2RlLCB7XG4gICAgICAgICAgICAnU2Vzc2lvbkRhdGEnOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuU2Vzc2lvbkRhdGFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnVXNlckRhdGEnOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuVXNlckRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN1YkZhY3Rvcmllcy5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuXG4gICAgdGhpcy5kdXBsaWNhdGVBdWRpb1BsdWdpbkNoYWluTWFuYWdlciA9IGZ1bmN0aW9uKHNvdXJjZUNoYWluTWFuYWdlciwgY2hhaW5TdGFydCwgY2hhaW5TdG9wKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5jcmVhdGVBdWRpb1BsdWdpbkNoYWluTWFuYWdlcihjaGFpblN0YXJ0LCBjaGFpblN0b3ApO1xuICAgICAgICB2YXIgcHJvbWlzZUNoYWluID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHNvdXJjZUNoYWluTWFuYWdlci5nZXRQbHVnaW5zKCkuZm9yRWFjaChmdW5jdGlvbihwbHVnaW5fb2JqZWN0KSB7XG4gICAgICAgICAgICBwcm9taXNlQ2hhaW4gPSBwcm9taXNlQ2hhaW4udGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5jcmVhdGVQbHVnaW4ocGx1Z2luX29iamVjdC5wcm90b3R5cGVPYmplY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24obmV3UGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BsdWdpbi5ub2RlLnBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyc0J5T2JqZWN0KHBsdWdpbl9vYmplY3Qubm9kZS5wYXJhbWV0ZXJzLmdldFBhcmFtZXRlck9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlQ2hhaW4udGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZXN0cm95QXVkaW9QbHVnaW5DaGFpbk1hbmFnZXIgPSBmdW5jdGlvbiAoU3ViRmFjdG9yeSkge1xuICAgICAgICB2YXIgaW5kZXggPSBzdWJGYWN0b3JpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LCBTdWJGYWN0b3J5KTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHN1YkZhY3Rvcmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgU3ViRmFjdG9yeS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVNaWRpU3ludGhlc2lzZXJIb3N0ID0gZnVuY3Rpb24oZmFjdG9yeSkge1xuICAgICAgICBpZiAoZmFjdG9yeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9zdCA9IG5ldyBNaWRpU3ludGhlc2lzZXJIb3N0KGZhY3RvcnkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhob3N0LCB7XG4gICAgICAgICAgICAnU2Vzc2lvbkRhdGEnOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuU2Vzc2lvbkRhdGFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnVXNlckRhdGEnOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuVXNlckRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN5bnRoZXNpc2VySG9zdHMucHVzaChob3N0KTtcbiAgICAgICAgcmV0dXJuIGhvc3Q7XG4gICAgfTtcblxuICAgIHRoaXMuZGVzdHJveU1pZGlTeW50aGVzaXNlckhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICB2YXIgaW5kZXggPSBzeW50aGVzaXNlckhvc3RzLmZpbmRJbmRleChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSwgaG9zdCk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBzeW50aGVzaXNlckhvc3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBob3N0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnJlZ2lzdGVyUGx1Z2luSW5zdGFuY2UgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHBsdWdpbnNMaXN0LmZpbmQoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcCA9PT0gdGhpcztcbiAgICAgICAgICAgIH0sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgKFwiUGx1Z2luIEluc3RhbmNlIG5vdCB1bmlxdWVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luc0xpc3QucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIGlmIChhdWRpb1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0X3RpbWUgPSBhdWRpb19jb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIHByb2dyYW1fdGltZSA9IHRoaXMuZ2V0Q3VycmVudFByb2dyYW1UaW1lKCk7XG4gICAgICAgICAgICBwbHVnaW5BdWRpb1N0YXJ0KGluc3RhbmNlLm5vZGUsIHByb2dyYW1fdGltZSwgY29udGV4dF90aW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZWxldGVQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHBsdWdpbnNMaXN0LmluZGV4T2YocGx1Z2luKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHZhciBwID0gcGx1Z2luc0xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHBbMF0uZGVsZXRlKCk7XG4gICAgICAgICAgICBwWzBdLm5vZGUuZXh0ZXJuYWxJbnRlcmZhY2UuY2xvc2VXaW5kb3dzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5nZXRDdXJyZW50UHJvZ3JhbVRpbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGF1ZGlvX2NvbnRleHQuY3VycmVudFRpbWUgLSBhdWRpb1N0YXJ0Q29udGV4dFRpbWUgKyBhdWRpb1N0YXJ0UHJvZ3JhbVRpbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9TdGFydFByb2dyYW1UaW1lO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q3VycmVudFByb2dyYW1UaW1lID0gZnVuY3Rpb24odGltZSkge1xuICAgICAgICBpZiAoYXVkaW9TdGFydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyhcIk11c3Qgc3RvcCBwbGF5YmFjayB0byBzZXQgdGhlIGN1cnJlbnQgcHJvZ3JhbSB0aW1lXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGltZSA9PSBcIm51bWJlclwiICYmIHRpbWUgPj0gMCkge1xuICAgICAgICAgICAgYXVkaW9TdGFydFByb2dyYW1UaW1lID0gdGltZTtcbiAgICAgICAgICAgIHRoaXMuUGx1Z2luR1VJLnBvbGxBbGxQbHVnaW5zKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hdWRpb1N0YXJ0ID0gZnVuY3Rpb24gKHByb2dyYW1fdGltZSwgY29udGV4dF90aW1lKSB7XG4gICAgICAgIGlmIChjb250ZXh0X3RpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGV4dF90aW1lID0gYXVkaW9fY29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZ3JhbV90aW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2dyYW1fdGltZSA9IDA7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBc3N1bWluZyBzdGFydCB0aW1lIGF0IDBcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdWRpb1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudFByb2dyYW1UaW1lKHByb2dyYW1fdGltZSk7XG4gICAgICAgICAgICBhdWRpb1N0YXJ0Q29udGV4dFRpbWUgPSBjb250ZXh0X3RpbWU7XG4gICAgICAgICAgICB0cmlnZ2VyQXVkaW9TdGFydChwcm9ncmFtX3RpbWUsIGNvbnRleHRfdGltZSk7XG4gICAgICAgICAgICBhdWRpb1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmF1ZGlvU3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGF1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgdHJpZ2dlckF1ZGlvU3RvcCgpO1xuICAgICAgICAgICAgYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVTdG9yZSA9IGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgTGlua2VkU3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgc3RvcmVzLnB1c2gobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFN0b3JlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHN0b3JlcztcbiAgICB9O1xuXG4gICAgdGhpcy5maW5kU3RvcmUgPSBmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgIHJldHVybiBzdG9yZXMuZmluZChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEubmFtZSA9PT0gc3RvcmVOYW1lO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQnVpbGQgdGhlIGRlZmF1bHQgU3RvcmVzXG4gICAgdGhpcy5TZXNzaW9uRGF0YSA9IG5ldyBMaW5rZWRTdG9yZShcIlNlc3Npb25cIik7XG4gICAgdGhpcy5Vc2VyRGF0YSA9IG5ldyBMaW5rZWRTdG9yZShcIlVzZXJcIik7XG5cbiAgICB0aGlzLkZlYXR1cmVNYXAgPSBuZXcgRmVhdHVyZU1hcCgpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuRmVhdHVyZU1hcCwgXCJmYWN0b3J5XCIsIHtcbiAgICAgICAgJ3ZhbHVlJzogdGhpc1xuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcImNvbnRleHRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBhdWRpb19jb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIFwiaGFzQXVkaW9TdGFydGVkXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1N0YXJ0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGx1Z2luUm9vdFVSTFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvb3RVUkw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdFVSTCA9IHQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb290VVJMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyAoXCJDYW5ub3Qgc2V0IHJvb3QgVVJMIHdpdGhvdXQgYSBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY3JlYXRlRmFjdG9yeUNvcHlcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3B5RmFjdG9yeSh0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdWJGYWN0b3JpZXNcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YkZhY3RvcmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJQbHVnaW5HVUlcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBwbHVnaW5Vc2VySW50ZXJmYWNlTWVzc2FnZUh1YkludGFuY2VcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW5GYWN0b3J5O1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQgTGlua2VkU3RvcmUgZnJvbSAnLi4vTGlua2VkU3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNaWRpU3ludGhlc2lzZXJIb3N0KGZhY3RvcnkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gYnVpbGROZXdTeW50aGVzaXNlck9iamVjdChwcm90b3R5cGVPYmplY3QpIHtcbiAgICAgICAgaWYgKG1pZGlTeW50aFNsb3QpIHtcbiAgICAgICAgICAgIGZhY3RvcnkuZGVsZXRlUGx1Z2luKG1pZGlTeW50aFNsb3QuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmIChwcm90b3R5cGVPYmplY3QuaGFzTWlkaUlucHV0ID09IGZhbHNlIHx8IHByb3RvdHlwZU9iamVjdC5oYXNNaWRpT3V0cHV0ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QgKFwiUHJvdG90eXBlIGlzIG5vdCBhIE1pZGlTeW50aGVzaXMgdHlwZS4gaGFzTWlkaUlucHV0IG11c3QgYmUgdHJ1ZSBhbmQgaGFzTWlkaU91dHB1dCBtdXN0IGJlIGZhbHNlXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHByb3RvdHlwZU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdG90eXBlT2JqZWN0LmNyZWF0ZVBsdWdpbkluc3RhbmNlKHNlbGYsIGZhbHNlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ1RyYWNrRGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLlRyYWNrRGF0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5UcmFja0RhdGEgPSBuZXcgTGlua2VkU3RvcmUoXCJUcmFja1wiKTtcblxuICAgIHZhciBtaWRpU3ludGhTbG90O1xuICAgIHZhciBjb25uZWN0aW9ucyA9IFtdO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJjb25uZWN0XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oZGVzdGluYXRpb25Ob2RlLCBvdXRwdXQsIGlucHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIk11c3QgZGVmaW5lIGFuIEF1ZGlvTm9kZSBvYmplY3RcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBleGlzdHMgPSBjb25uZWN0aW9ucy5maW5kKGZ1bmN0aW9uKGNvbm4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbm4uZGVzdGluYXRpb25Ob2RlID09IGRlc3RpbmF0aW9uTm9kZSAmJiBjb25uLm91dHB1dCA9PSBvdXRwdXQgJiYgY29ubi5pbnB1dCA9PSBpbnB1dDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uTm9kZTpkZXN0aW5hdGlvbk5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6b3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtaWRpU3ludGhTbG90ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTUlESSBTeW50aGVzaXNlciBpcyBub3QgbG9hZGVkLCBjb25uZWN0aW9ucyB3aWxsIGJlIHZhbGlkYXRlZCBvbiBsb2FkXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1pZGlTeW50aFNsb3Qubm9kZS5jb25uZWN0KGRlc3RpbmF0aW9uTm9kZSwgb3V0cHV0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRpc2Nvbm5lY3RcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihkZXN0aW5hdGlvbk5vZGUsIG91dHB1dCwgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Ob2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pZGlTeW50aFNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZGlTeW50aFNsb3QuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk5vZGUgPT0gXCJudW1iZXJcIiAmJiB0eXBlb2Ygb3V0cHV0ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gZGVzdGluYXRpb25Ob2RlO1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0gY29ubmVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGNvbm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uLm91dHB1dCA9PSBvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWlkaVN5bnRoU2xvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWRpU3ludGhTbG90Lm5vZGUuZGlzY29ubmVjdChjb25uLmRlc3RpbmF0aW9uTm9kZSwgY29ubi5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk5vZGUgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb3V0cHV0ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMgPSBjb25uZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oY29ubikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm4uZGVzdGluYXRpb25Ob2RlID09IGRlc3RpbmF0aW9uTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaWRpU3ludGhTbG90KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pZGlTeW50aFNsb3Qubm9kZS5kaXNjb25uZWN0KGNvbm4uZGVzdGluYXRpb25Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGVzdGluYXRpb25Ob2RlID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG91dHB1dCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0gY29ubmVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGNvbm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uLmRlc3RpbmF0aW9uTm9kZSA9PSBkZXN0aW5hdGlvbk5vZGUgJiYgY29ubi5vdXRwdXQgPT0gb3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pZGlTeW50aFNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkaVN5bnRoU2xvdC5ub2RlLmRpc2Nvbm5lY3QoY29ubi5kZXN0aW5hdGlvbk5vZGUsIGNvbm4ub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGVzdGluYXRpb25Ob2RlID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG91dHB1dCA9PSBcIm51bWJlclwiICYmIHR5cGVvZiBpbnB1dCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0gY29ubmVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGNvbm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uLmRlc3RpbmF0aW9uTm9kZSA9PSBkZXN0aW5hdGlvbk5vZGUgJiYgY29ubi5vdXRwdXQgPT0gb3V0cHV0ICYmIGNvbm4uaW5wdXQgPT0gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWlkaVN5bnRoU2xvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWRpU3ludGhTbG90Lm5vZGUuZGlzY29ubmVjdChjb25uLmRlc3RpbmF0aW9uTm9kZSwgY29ubi5vdXRwdXQsIGNvbm4uaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2NoZWR1bGVFdmVudFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKG1zZywgdCkge1xuICAgICAgICAgICAgICAgIGlmIChtaWRpU3ludGhTbG90KSB7XG4gICAgICAgICAgICAgICAgICAgIG1pZGlTeW50aFNsb3Qubm9kZS5zY2hlZHVsZUV2ZW50KG1zZywgdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJNSURJIFN5bnRoZXNpc2VyIG5vdCBsb2FkZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNhbmNlbEFsbEV2ZW50c1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAobWlkaVN5bnRoU2xvdCkge1xuICAgICAgICAgICAgICAgICAgICBtaWRpU3ludGhTbG90Lm5vZGUuY2FuY2VsQWxsRXZlbnRzKHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93KFwiTUlESSBTeW50aGVzaXNlciBub3QgbG9hZGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtaWRpU3ludGhlc2lzZXJcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtaWRpU3ludGhTbG90O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRocm93KFwiQ2Fubm90IHNldCByZWFkLW9ubHkgYXR0cmlidXRlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJsb2FkTWlkaVN5bnRoZXNpc2VyTW9kdWxlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZS5oYXNNaWRpSW5wdXQgPT0gZmFsc2UgfHwgcHJvdG90eXBlLmhhc01pZGlPdXRwdXQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0IChcIlByb3RvdHlwZSBpcyBub3QgYSBNaWRpU3ludGhlc2lzIHR5cGUuIGhhc01pZGlJbnB1dCBtdXN0IGJlIHRydWUgYW5kIGhhc01pZGlPdXRwdXQgbXVzdCBiZSBmYWxzZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocHJvdG90eXBlT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidWlsZE5ld1N5bnRoZXNpc2VyT2JqZWN0LmNhbGwoc2VsZiwgcHJvdG90eXBlT2JqZWN0KS5jYXRjaChmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJQbHVnaW4gZGlkIG5vdCBnZXQgY3JlYXRlZCEgQWJvcnRpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGUub25sb2FkZWQuY2FsbChub2RlLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBtaWRpU3ludGhTbG90ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihjb25uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRpU3ludGhTbG90Lm5vZGUuY29ubmVjdChjb25uLmRlc3RpbmF0aW9uTm9kZSwgY29ubi5vdXRwdXQsIGNvbm4uaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pZGlTeW50aFNsb3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBsdWdpblVzZXJJbnRlcmZhY2VNZXNzYWdlSHViKGZhY3Rvcnkpe1xuICAgIGZ1bmN0aW9uIGJ1aWxkUGx1Z2luSW50ZXJmYWNlKHBsdWdpbl9vYmplY3QsIGludGVyZmFjZV9vYmplY3QpIHtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBpbnRlcmZhY2Vfb2JqZWN0LnNyYztcbiAgICAgICAgaWYgKGludGVyZmFjZV9vYmplY3Qud2lkdGgpIHtcbiAgICAgICAgICAgIGlmcmFtZS53aWR0aCA9IGludGVyZmFjZV9vYmplY3Qud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyZmFjZV9vYmplY3QuaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZnJhbWUuaGVpZ2h0ID0gaW50ZXJmYWNlX29iamVjdC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWZyYW1lLnN0eWxlLmJvcmRlciA9IFwiMFwiO1xuICAgICAgICAvL2lmcmFtZS5jb250ZW50V2luZG93LnBsdWdpbkluc3RhbmNlID0gcGx1Z2luX29iamVjdDtcbiAgICAgICAgcmV0dXJuIGlmcmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Bhd25QbHVnaW5XaW5kb3cocGx1Z2luX29iamVjdCwgaW50ZXJmYWNlX29iamVjdCwgb3B0cykge1xuICAgICAgICB2YXIgdyA9IHdpbmRvdy5vcGVuKGludGVyZmFjZV9vYmplY3Quc3JjLHBsdWdpbl9vYmplY3QubmFtZSxvcHRzKTtcbiAgICAgICAgcGx1Z2luX29iamVjdC5leHRlcm5hbEludGVyZmFjZS5yZWdpc3RlcldpbmRvdyh3KTtcbiAgICAgICAgcmV0dXJuIHc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldERlZmF1bHRJbnRlcmZhY2UodXJsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGRlZmF1bHRfaW50ZXJmYWNlID0ge1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGVmYXVsdF9pbnRlcmZhY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvbGxBbGxQbHVnaW5zKCkge1xuICAgICAgICBmYWN0b3J5LmdldEFsbFBsdWdpbnMoKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICAgICAgcGx1Z2luLm5vZGUuZXh0ZXJuYWxJbnRlcmZhY2UudXBkYXRlSW50ZXJmYWNlcyh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVyID0gZmFsc2U7XG4gICAgdmFyIGRlZmF1bHRfaW50ZXJmYWNlID0ge1xuICAgICAgICBzcmM6IFwianNhcF9kZWZhdWx0Lmh0bWxcIlxuICAgIH07XG5cbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIFwic2V0RGVmYXVsdEludGVyZmFjZVwiOiBzZXREZWZhdWx0SW50ZXJmYWNlLFxuICAgICAgICBcImJ1aWxkUGx1Z2luSW50ZXJmYWNlXCI6YnVpbGRQbHVnaW5JbnRlcmZhY2UsXG4gICAgICAgIFwic3Bhd25QbHVnaW5XaW5kb3dcIjogc3Bhd25QbHVnaW5XaW5kb3csXG4gICAgICAgIFwicG9sbEFsbFBsdWdpbnNcIjogcG9sbEFsbFBsdWdpbnNcbiAgICB9KTtcbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZnVuY3Rpb24gV29ya2VyRXh0cmFjdG9yKG91dHB1dCwgZnJhbWVTaXplKSB7XG4gICAgZnVuY3Rpb24gb25hdWRpb2NhbGxiYWNrKGUpIHtcbiAgICAgICAgdmFyIGMsIGZyYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKGMgPSAwOyBjIDwgZS5pbnB1dEJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOyBjKyspIHtcbiAgICAgICAgICAgIGZyYW1lc1tjXSA9IGUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoYyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICdzdGF0ZSc6IDIsXG4gICAgICAgICAgICAnZnJhbWVzJzogZnJhbWVzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc3BvbnNlKG1zZykge1xuICAgICAgICB0aGlzLnBvc3RGZWF0dXJlcyhmcmFtZVNpemUsIG1zZy5kYXRhLnJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihcImpzYXAvZmVhdHVyZS13b3JrZXIuanNcIik7XG4gICAgd29ya2VyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVMaXN0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGNvbmZpZ01lc3NhZ2UgPSB7XG4gICAgICAgICAgICAnc3RhdGUnOiAxLFxuICAgICAgICAgICAgJ3NhbXBsZVJhdGUnOiBvdXRwdXQuY29udGV4dC5zYW1wbGVSYXRlLFxuICAgICAgICAgICAgJ2ZlYXR1cmVMaXN0JzogZmVhdHVyZUxpc3QsXG4gICAgICAgICAgICAnbnVtQ2hhbm5lbHMnOiBvdXRwdXQubnVtYmVyT2ZPdXRwdXRzLFxuICAgICAgICAgICAgJ2ZyYW1lU2l6ZSc6IHRoaXMuZnJhbWVTaXplXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmVhdHVyZXMgPSBmZWF0dXJlTGlzdDtcbiAgICAgICAgaWYgKGZlYXR1cmVMaXN0ICYmIGZlYXR1cmVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmRhdGEuc3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IHJlc3BvbnNlLmJpbmQoc2VsZik7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZXh0cmFjdG9yLm9uYXVkaW9wcm9jZXNzID0gb25hdWRpb2NhbGxiYWNrLmJpbmQoc2VsZik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKGNvbmZpZ01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICdzdGF0ZSc6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leHRyYWN0b3Iub25hdWRpb3Byb2Nlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICB0aGlzLnJlam9pbkV4dHJhY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3V0cHV0LmNvbm5lY3QodGhpcy5leHRyYWN0b3IpO1xuICAgIH07XG5cbiAgICB0aGlzLmV4dHJhY3RvciA9IG91dHB1dC5jb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihmcmFtZVNpemUsIG91dHB1dC5udW1iZXJPZk91dHB1dHMsIDEpO1xuICAgIG91dHB1dC5jb25uZWN0KHRoaXMuZXh0cmFjdG9yKTtcbiAgICB0aGlzLmV4dHJhY3Rvci5jb25uZWN0KG91dHB1dC5jb250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyYW1lU2l6ZVwiLCB7XG4gICAgICAgICd2YWx1ZSc6IGZyYW1lU2l6ZVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBXb3JrZXJFeHRyYWN0b3I7XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmZ1bmN0aW9uIEV4dHJhY3RvcihvdXRwdXQsIGZyYW1lU2l6ZSkge1xuICAgIHRoaXMuZXh0cmFjdG9yID0gb3V0cHV0LmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICB0aGlzLmV4dHJhY3Rvci5mZnRTaXplID0gZnJhbWVTaXplO1xuICAgIG91dHB1dC5jb25uZWN0KHRoaXMuZXh0cmFjdG9yKTtcbiAgICB0aGlzLmZlYXR1cmVzID0gW107XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZnJhbWVTaXplXCIsIHtcbiAgICAgICAgJ3ZhbHVlJzogZnJhbWVTaXplXG4gICAgfSk7XG5cbiAgICB2YXIgcmVjdXJzaXZlUHJvY2Vzc2luZyA9IG93bmVyLnJlY3Vyc2l2ZVByb2Nlc3Npbmc7XG4gICAgLypcbiAgICBmdW5jdGlvbiByZWN1cnNpdmVQcm9jZXNzaW5nKGJhc2UsIGxpc3QpIHtcbiAgICAgICAgdmFyIGwgPSBsaXN0Lmxlbmd0aCxcbiAgICAgICAgICAgIGksIGVudHJ5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBlbnRyeSA9IGxpc3RbaV07XG4gICAgICAgICAgICBiYXNlW2VudHJ5Lm5hbWVdLmFwcGx5KGJhc2UsIGVudHJ5LnBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgaWYgKGVudHJ5LmZlYXR1cmVzICYmIGVudHJ5LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVQcm9jZXNzaW5nKGJhc2UucmVzdWx0W2VudHJ5Lm5hbWVdLCBlbnRyeS5mZWF0dXJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgKi9cbiAgICBmdW5jdGlvbiBvbmF1ZGlvY2FsbGJhY2soZGF0YSkge1xuICAgICAgICAvL3RoaXMgPT09IEV4dHJhY3RvclxuICAgICAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgICdudW1iZXJPZkNoYW5uZWxzJzogMSxcbiAgICAgICAgICAgICdyZXN1bHRzJzogW11cbiAgICAgICAgfTtcbiAgICAgICAgcmVjdXJzaXZlUHJvY2Vzc2luZyhkYXRhLCB0aGlzLmZlYXR1cmVzKTtcbiAgICAgICAgbWVzc2FnZS5yZXN1bHRzWzBdID0ge1xuICAgICAgICAgICAgJ2NoYW5uZWwnOiAwLFxuICAgICAgICAgICAgJ3Jlc3VsdHMnOiBKU09OLnBhcnNlKGRhdGEudG9KU09OKCkpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucG9zdEZlYXR1cmVzKGRhdGEubGVuZ3RoLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVMaXN0KSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZXMgPSBmZWF0dXJlTGlzdDtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmV4dHJhY3Rvci5jbGVhckNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4dHJhY3Rvci5mcmFtZUNhbGxiYWNrKG9uYXVkaW9jYWxsYmFjaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVqb2luRXh0cmFjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBvdXRwdXQuY29ubmVjdCh0aGlzLmV4dHJhY3Rvcik7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRXh0cmFjdG9yO1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQgV29ya2VyRXh0cmFjdG9yIGZyb20gXCIuL1dvcmtlckV4dHJhY3RvclwiO1xuaW1wb3J0IEV4dHJhY3RvciBmcm9tIFwiLi9FeHRyYWN0b3JcIjtcblxuZnVuY3Rpb24gT3V0cHV0Tm9kZShwYXJlbnQsIG91dHB1dCkge1xuICAgIHZhciBleHRyYWN0b3JzID0gW107XG4gICAgdGhpcy5hZGRFeHRyYWN0b3IgPSBmdW5jdGlvbiAoZnJhbWVTaXplKSB7XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIGlmICh3aW5kb3cuV29ya2VyKSB7XG4gICAgICAgICAgICBvYmogPSBuZXcgV29ya2VyRXh0cmFjdG9yKG91dHB1dCwgZnJhbWVTaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG5ldyBFeHRyYWN0b3Iob3V0cHV0LCBmcmFtZVNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGV4dHJhY3RvcnMucHVzaChvYmopO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBcInBvc3RGZWF0dXJlc1wiLCB7XG4gICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAoZnJhbWVTaXplLCByZXN1bHRzSlNPTikge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICdvdXRwdXRJbmRleCc6IDAsXG4gICAgICAgICAgICAgICAgICAgICdmcmFtZVNpemUnOiBmcmFtZVNpemUsXG4gICAgICAgICAgICAgICAgICAgICdyZXN1bHRzJzogcmVzdWx0c0pTT05cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdEZlYXR1cmVzKG9iaik7XG4gICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB0aGlzLmZpbmRFeHRyYWN0b3IgPSBmdW5jdGlvbiAoZnJhbWVTaXplKSB7XG4gICAgICAgIHZhciBjaGVjayA9IGZyYW1lU2l6ZTtcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RvcnMuZmluZChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBNVVNUIGJlID09IE5PVCA9PT1cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoZS5mcmFtZVNpemUpID09PSBOdW1iZXIoY2hlY2spO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMucmVqb2luRXh0cmFjdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXh0cmFjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnJlam9pbkV4dHJhY3RvcigpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuZGVsZXRlRXh0cmFjdG9yID0gZnVuY3Rpb24gKGZyYW1lU2l6ZSkge307XG59XG5cbmV4cG9ydCBkZWZhdWx0IE91dHB1dE5vZGU7XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCBPdXRwdXROb2RlIGZyb20gXCIuL091dHB1dE5vZGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3ViRmFjdG9yeUZlYXR1cmVTZW5kZXIob3duZXIsIEZhY3RvcnlGZWF0dXJlTWFwKSB7XG4gICAgdmFyIG91dHB1dE5vZGVzO1xuICAgIHRoaXMudXBkYXRlRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZU9iamVjdCkge1xuICAgICAgICB2YXIgbztcbiAgICAgICAgZm9yIChvID0gMDsgbyA8IGZlYXR1cmVPYmplY3QubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXROb2RlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG8gPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIlJlcXVlc3RlZCBhbiBvdXRwdXQgdGhhdCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0Tm9kZXMgPSBuZXcgT3V0cHV0Tm9kZShvd25lciwgb3duZXIuY2hhaW5TdGFydCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dE5vZGVzLCBcInBvc3RGZWF0dXJlc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChyZXN1bHRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdEZlYXR1cmVzKHJlc3VsdE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNpO1xuICAgICAgICAgICAgZm9yIChzaSA9IDA7IHNpIDwgZmVhdHVyZU9iamVjdFtvXS5sZW5ndGg7IHNpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmFjdG9yID0gb3V0cHV0Tm9kZXMuZmluZEV4dHJhY3RvcihmZWF0dXJlT2JqZWN0W29dW3NpXS5mcmFtZVNpemUpO1xuICAgICAgICAgICAgICAgIGlmICghZXh0cmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RvciA9IG91dHB1dE5vZGVzLmFkZEV4dHJhY3RvcihmZWF0dXJlT2JqZWN0W29dW3NpXS5mcmFtZVNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHRyYWN0b3Iuc2V0RmVhdHVyZXMoZmVhdHVyZU9iamVjdFtvXVtzaV0uZmVhdHVyZUxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucmVqb2luRXh0cmFjdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG91dHB1dE5vZGVzKSB7XG4gICAgICAgICAgICBvdXRwdXROb2Rlcy5yZWpvaW5FeHRyYWN0b3JzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5wb3N0RmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZU9iamVjdCkge1xuICAgICAgICAvKlxuICAgICAgICAgICAgQ2FsbGVkIGJ5IHRoZSBpbmRpdmlkdWFsIGV4dHJhY3RvciBpbnN0YW5jZXM6XG4gICAgICAgICAgICBmZWF0dXJlT2JqZWN0ID0geydmcmFtZVNpemUnOiBmcmFtZVNpemUsXG4gICAgICAgICAgICAnb3V0cHV0SW5kZXgnOiBvdXRwdXRJbmRleCxcbiAgICAgICAgICAgICdyZXN1bHRzJzpbXX1cbiAgICAgICAgKi9cbiAgICAgICAgRmFjdG9yeUZlYXR1cmVNYXAucG9zdEZlYXR1cmVzKHtcbiAgICAgICAgICAgICdwbHVnaW4nOiB0aGlzLFxuICAgICAgICAgICAgJ291dHB1dEluZGV4JzogZmVhdHVyZU9iamVjdC5vdXRwdXRJbmRleCxcbiAgICAgICAgICAgICdmcmFtZVNpemUnOiBmZWF0dXJlT2JqZWN0LmZyYW1lU2l6ZSxcbiAgICAgICAgICAgICdyZXN1bHRzJzogZmVhdHVyZU9iamVjdC5yZXN1bHRzXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBTZW5kIHRvIEZhY3RvcnlcbiAgICBGYWN0b3J5RmVhdHVyZU1hcC5jcmVhdGVTb3VyY2VNYXAodGhpcywgdW5kZWZpbmVkKTtcbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IFN1YkZhY3RvcnlGZWF0dXJlU2VuZGVyIGZyb20gXCIuL1N1YkZhY3RvcnlGZWF0dXJlU2VuZGVyL2luZGV4XCI7XG5pbXBvcnQgTGlua2VkU3RvcmUgZnJvbSAnLi4vLi4vTGlua2VkU3RvcmUnO1xuXG5mdW5jdGlvbiBBdWRpb1BsdWdpbkNoYWluTWFuYWdlcihQbHVnaW5GYWN0b3J5LCBjaGFpblN0YXJ0LCBjaGFpblN0b3ApIHtcblxuICAgIHZhciBwbHVnaW5fbGlzdCA9IFtdLFxuICAgICAgICBwbHVnaW5DaGFpblN0YXJ0ID0gY2hhaW5TdGFydCxcbiAgICAgICAgcGx1Z2luQ2hhaW5TdG9wID0gY2hhaW5TdG9wLFxuICAgICAgICBmYWN0b3J5TmFtZSA9IFwiXCIsXG4gICAgICAgIHN0YXRlID0gMSxcbiAgICAgICAgZGVsYXlTYW1wbGVzID0gMCxcbiAgICAgICAgY2hhaW5TdGFydEZlYXR1cmUgPSBuZXcgU3ViRmFjdG9yeUZlYXR1cmVTZW5kZXIodGhpcywgUGx1Z2luRmFjdG9yeS5GZWF0dXJlTWFwKSxcbiAgICAgICAgc2VtYW50aWNTdG9yZXMgPSBbXSxcbiAgICAgICAgZXZlbnRUYXJnZXQgPSBuZXcgRXZlbnRUYXJnZXQoKSxcbiAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5wYXJlbnQgPSBQbHVnaW5GYWN0b3J5O1xuICAgIHBsdWdpbkNoYWluU3RhcnQuZGlzY29ubmVjdCgpO1xuICAgIHBsdWdpbkNoYWluU3RhcnQuY29ubmVjdChjaGFpblN0b3ApO1xuXG4gICAgdGhpcy5UcmFja0RhdGEgPSBuZXcgTGlua2VkU3RvcmUoXCJUcmFja1wiKTtcblxuICAgIHRoaXMuZmVhdHVyZVNlbmRlciA9IGNoYWluU3RhcnRGZWF0dXJlO1xuXG4gICAgdGhpcy5nZXRGZWF0dXJlQ2hhaW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVidWlsZCgpIHtcbiAgICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgICAgbCA9IHBsdWdpbl9saXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChpIDwgbCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gcGx1Z2luX2xpc3RbaSsrXTtcbiAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IHBsdWdpbl9saXN0W2ldO1xuICAgICAgICAgICAgY3VycmVudE5vZGUucmVjb25uZWN0KG5leHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzb2xhdGUoKSB7XG4gICAgICAgIHBsdWdpbl9saXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdXRDaGFpbigpIHtcbiAgICAgICAgaWYgKHBsdWdpbl9saXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBsdWdpbkNoYWluU3RhcnQuZGlzY29ubmVjdChwbHVnaW5fbGlzdFswXS5pbnB1dCk7XG4gICAgICAgICAgICBwbHVnaW5fbGlzdFtwbHVnaW5fbGlzdC5sZW5ndGggLSAxXS5vdXRwdXQuZGlzY29ubmVjdChwbHVnaW5DaGFpblN0b3ApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGx1Z2luQ2hhaW5TdGFydC5kaXNjb25uZWN0KHBsdWdpbkNoYWluU3RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gam9pbkNoYWluKCkge1xuICAgICAgICBpZiAocGx1Z2luX2xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcGx1Z2luQ2hhaW5TdGFydC5jb25uZWN0KHBsdWdpbl9saXN0WzBdLmlucHV0KTtcbiAgICAgICAgICAgIHBsdWdpbl9saXN0W3BsdWdpbl9saXN0Lmxlbmd0aCAtIDFdLm91dHB1dC5jb25uZWN0KHBsdWdpbkNoYWluU3RvcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwbHVnaW5DaGFpblN0YXJ0LmNvbm5lY3QocGx1Z2luQ2hhaW5TdG9wKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFpblN0YXJ0RmVhdHVyZS5yZWpvaW5FeHRyYWN0b3JzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5ieXBhc3NQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luX2luc3RhbmNlLCBzdGF0ZSkge1xuICAgICAgICAvLyBDaGVjayBpcyBhIG1lbWJlciBvZiB0aGlzIGNoYWluXG4gICAgICAgIGlmIChwbHVnaW5fbGlzdC5pbmNsdWRlcyhwbHVnaW5faW5zdGFuY2UpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbl9pbnN0YW5jZS5ieXBhc3Moc3RhdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFByb3RvdHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRQcm90b3R5cGVzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RmFjdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVjb25uZWN0KSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGx1Z2luX2xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVBsdWdpbihwbHVnaW5fbGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luQ2hhaW5TdGFydC5kaXNjb25uZWN0KCk7XG4gICAgICAgIGlmIChyZWNvbm5lY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHBsdWdpbkNoYWluU3RhcnQuY29ubmVjdChwbHVnaW5DaGFpblN0b3ApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFBsdWdpbiBjcmVhdGlvbiAvIGRlc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBidWlsZE5ld1BsdWdpbihwcm90b3R5cGVPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0IChcIlN1YkZhY3RvcnkgaGFzIGJlZW4gZGVzdHJveWVkISBDYW5ub3QgYWRkIG5ldyBwbHVnaW5zXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHByb3RvdHlwZU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdG90eXBlT2JqZWN0LmNyZWF0ZVBsdWdpbkluc3RhbmNlKHNlbGYsIGZhbHNlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ1RyYWNrRGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLlRyYWNrRGF0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVQbHVnaW4gPSBmdW5jdGlvbiAocHJvdG90eXBlT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBidWlsZE5ld1BsdWdpbihwcm90b3R5cGVPYmplY3QpLmNhdGNoKGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICB0aHJvdyhcIlBsdWdpbiBkaWQgbm90IGdldCBjcmVhdGVkISBBYm9ydGluZ1wiKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICBjdXRDaGFpbigpO1xuICAgICAgICAgICAgcGx1Z2luX2xpc3QucHVzaChub2RlKTtcbiAgICAgICAgICAgIGlzb2xhdGUoKTtcbiAgICAgICAgICAgIHJlYnVpbGQoKTtcbiAgICAgICAgICAgIGpvaW5DaGFpbigpO1xuICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiYWx0ZXJkZWxheVwiLCBzZWxmKTtcbiAgICAgICAgICAgIG5vZGUubm9kZS5vbmxvYWRlZC5jYWxsKG5vZGUubm9kZSk7XG4gICAgICAgICAgICB1cGRhdGVEZWxheUNvbXBlbnNhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJjaGFuZ2VcIikpO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZVBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbl9vYmplY3QpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRQbHVnaW5JbmRleChwbHVnaW5fb2JqZWN0KTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGN1dENoYWluKCk7XG4gICAgICAgICAgICBwbHVnaW5fb2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbHRlcmRlbGF5XCIsIHNlbGYpO1xuICAgICAgICAgICAgcGx1Z2luX29iamVjdC5ub2RlLnN0b3AuY2FsbChwbHVnaW5fb2JqZWN0Lm5vZGUpO1xuICAgICAgICAgICAgcGx1Z2luX29iamVjdC5ub2RlLm9udW5sb2FkZWQuY2FsbChwbHVnaW5fb2JqZWN0Lm5vZGUpO1xuICAgICAgICAgICAgcGx1Z2luX2xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIGlzb2xhdGUoKTtcbiAgICAgICAgICAgIHJlYnVpbGQoKTtcbiAgICAgICAgICAgIGpvaW5DaGFpbigpO1xuICAgICAgICAgICAgdXBkYXRlRGVsYXlDb21wZW5zYXRpb24oKTtcbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiY2hhbmdlXCIpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3lQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luX29iamVjdCkge1xuICAgICAgICBpZiAoc3RhdGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZVBsdWdpbihwbHVnaW5fb2JqZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQuZGVsZXRlUGx1Z2luKHBsdWdpbl9vYmplY3QuaWQpO1xuICAgICAgICB1cGRhdGVEZWxheUNvbXBlbnNhdGlvbigpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFBsdWdpbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5fbGlzdDtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBbGxQbHVnaW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0QWxsUGx1Z2luc09iamVjdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFBsdWdpbkluZGV4ID0gZnVuY3Rpb24gKHBsdWdpbl9vYmplY3QpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gcGx1Z2luX2xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sIHBsdWdpbl9vYmplY3QpO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIHRoaXMubW92ZVBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5fb2JqZWN0LCBuZXdfaW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRQbHVnaW5JbmRleChwbHVnaW5fb2JqZWN0KSxcbiAgICAgICAgICAgIG9iaiwgaG9sZExvdywgaG9sZEhpZ2gsIGk7XG4gICAgICAgIGlmIChQbHVnaW5GYWN0b3J5LmdldEFsbFBsdWdpbnMoKS5pbmNsdWRlcyhwbHVnaW5fb2JqZWN0KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93KFwiUGx1Z2luIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGN1dENoYWluKCk7XG4gICAgICAgIGlzb2xhdGUoKTtcbiAgICAgICAgaWYgKHBsdWdpbl9vYmplY3Qubm9kZS5vd25lciAhPT0gdGhpcykge1xuICAgICAgICAgICAgLy8gRGlmZmVyZW50IHN1Yi1mYWN0b3J5XG4gICAgICAgICAgICBwbHVnaW5fb2JqZWN0Lm5vZGUub3duZXIucmVtb3ZlUGx1Z2luKHBsdWdpbl9vYmplY3QpO1xuICAgICAgICAgICAgcGx1Z2luX29iamVjdC5ub2RlLm93bmVyID0gdGhpcztcbiAgICAgICAgICAgIG9iaiA9IFtwbHVnaW5fb2JqZWN0XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IHBsdWdpbl9saXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBwbHVnaW5fb2JqZWN0Lm5vZGUub251bmxvYWRlZC5jYWxsKHBsdWdpbl9vYmplY3Qubm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld19pbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcGx1Z2luX2xpc3QgPSBvYmouY29uY2F0KHBsdWdpbl9saXN0KTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdfaW5kZXggPj0gcGx1Z2luX2xpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBwbHVnaW5fbGlzdCA9IHBsdWdpbl9saXN0LmNvbmNhdChvYmopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaG9sZExvdyA9IHBsdWdpbl9saXN0LnNsaWNlKDAsIG5ld19pbmRleCk7XG4gICAgICAgICAgICBob2xkSGlnaCA9IHBsdWdpbl9saXN0LnNsaWNlKG5ld19pbmRleCk7XG4gICAgICAgICAgICBwbHVnaW5fbGlzdCA9IGhvbGRMb3cuY29uY2F0KG9iai5jb25jYXQoaG9sZEhpZ2gpKTtcbiAgICAgICAgfVxuICAgICAgICByZWJ1aWxkKCk7XG4gICAgICAgIGpvaW5DaGFpbigpO1xuICAgICAgICBwbHVnaW5fb2JqZWN0Lm5vZGUub25sb2FkZWQuY2FsbChwbHVnaW5fb2JqZWN0Lm5vZGUpO1xuICAgICAgICB1cGRhdGVEZWxheUNvbXBlbnNhdGlvbigpO1xuICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNoYW5nZVwiKSk7XG4gICAgfTtcblxuICAgIHRoaXMuY29weVBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbl9vYmplY3QsIGNvcHlfaW5kZXgpIHtcbiAgICAgICAgaWYgKGNvcHlfaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29weV9pbmRleCA9IHBsdWdpbl9saXN0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNvcHlfaW5kZXggIT0gXCJudW1iZXJcIiB8fCBjb3B5X2luZGV4IDwgMCB8fCBjb3B5X2luZGV4ID4gcGx1Z2luX2xpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyhcIlBsdWdpbiBjb3B5IGluZGV4IG91dHNpZGUgb2YgdGhlIGNoYWluIHNjb3BlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGROZXdQbHVnaW4ocGx1Z2luX29iamVjdC5wcm90b3R5cGVPYmplY3QpXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgdGhyb3coXCJQbHVnaW4gZGlkIG5vdCBnZXQgY3JlYXRlZCEgQWJvcnRpbmdcIik7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgbm9kZS5ub2RlLnBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyc0J5T2JqZWN0KHBsdWdpbl9vYmplY3Qubm9kZS5wYXJhbWV0ZXJzLmdldFBhcmFtZXRlck9iamVjdCgpKTtcbiAgICAgICAgICAgIGN1dENoYWluKCk7XG4gICAgICAgICAgICBpc29sYXRlKCk7XG4gICAgICAgICAgICBwbHVnaW5fbGlzdC5zcGxpY2UoY29weV9pbmRleCwgMCwgbm9kZSk7XG4gICAgICAgICAgICByZWJ1aWxkKCk7XG4gICAgICAgICAgICBqb2luQ2hhaW4oKTtcbiAgICAgICAgICAgIHVwZGF0ZURlbGF5Q29tcGVuc2F0aW9uKCk7XG4gICAgICAgICAgICBub2RlLm5vZGUub25sb2FkZWQuY2FsbChub2RlLm5vZGUpO1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJjaGFuZ2VcIikpO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZVByb2Nlc3NpbmcoYmFzZSwgbGlzdCkge1xuICAgICAgICB2YXIgbCA9IGxpc3QubGVuZ3RoLFxuICAgICAgICAgICAgaSwgZW50cnk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGVudHJ5ID0gbGlzdFtpXTtcbiAgICAgICAgICAgIGJhc2VbZW50cnkubmFtZV0uYXBwbHkoYmFzZSwgZW50cnkucGFyYW1ldGVycyk7XG4gICAgICAgICAgICBpZiAoZW50cnkuZmVhdHVyZXMgJiYgZW50cnkuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZVByb2Nlc3NpbmcoYmFzZS5yZXN1bHRbZW50cnkubmFtZV0sIGVudHJ5LmZlYXR1cmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERlbGF5Q29tcGVuc2F0aW9uKCkge1xuICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgcGx1Z2luX2xpc3QuZmlsdGVyKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICAgICAgcmV0dXJuICFwbHVnaW4uaXNCeXBhc3NlZCgpO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICAgICAgc3VtICs9IHBsdWdpbi5ub2RlLnByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlRGVsYXlDb21wZW5zYXRpb24oKSB7XG4gICAgICAgIHZhciBzdW0gPSBnZXREZWxheUNvbXBlbnNhdGlvbigpO1xuICAgICAgICBpZiAoZGVsYXlTYW1wbGVzICE9IHN1bSkge1xuICAgICAgICAgICAgZGVsYXlTYW1wbGVzID0gc3VtO1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJhbHRlcmRlbGF5XCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVsYXlTYW1wbGVzO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgJ2NoYWluU3RhcnQnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBjaGFpblN0YXJ0XG4gICAgICAgIH0sXG4gICAgICAgICdjaGFpblN0b3AnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBjaGFpblN0b3BcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cGRhdGVEZWxheUNvbXBlbnNhdGlvblwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRGVsYXlDb21wZW5zYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwcm9jZXNzaW5nRGVsYXlBc1NhbXBsZXNcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZURlbGF5Q29tcGVuc2F0aW9uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhyb3coXCJwcm9jZXNzaW5nRGVsYXlBc1NhbXBsZXMgaXMgcmVhZC1vbmx5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInByb2Nlc3NpbmdEZWxheUFzU2Vjb25kc1wiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzaW5nRGVsYXlBc1NhbXBsZXMvUGx1Z2luRmFjdG9yeS5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhyb3coXCJwcm9jZXNzaW5nRGVsYXlBc1NlY29uZHMgaXMgcmVhZC1vbmx5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnbmFtZSc6IHtcbiAgICAgICAgICAgICdnZXQnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnlOYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzZXQnOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3J5TmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWN0b3J5TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3JlY3Vyc2l2ZVByb2Nlc3NpbmcnOiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVQcm9jZXNzaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnaGFuZGxlRXZlbnQnOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09IFwiYWx0ZXJkZWxheVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURlbGF5Q29tcGVuc2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImFkZEV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBdWRpb1BsdWdpbkNoYWluTWFuYWdlcjtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVxdWVzdG9yTWFwKHBsdWdpbkluc3RhbmNlKSB7XG4gICAgdmFyIEZlYXR1cmVzID0gW107XG4gICAgdmFyIFJlY2VpdmVyID0gcGx1Z2luSW5zdGFuY2Uubm9kZS5mZWF0dXJlTWFwLlJlY2VpdmVyO1xuICAgIHRoaXMuZ2V0UmVxdWVzdG9ySW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5JbnN0YW5jZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlBZGRGZWF0dXJlcyhyb290QXJyYXksIGZlYXR1cmVPYmplY3QpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBmZWF0dXJlT2JqZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBDaGVjayB3ZSBoYXZlIG5vdCBhbHJlYWR5IGxpc3RlZCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgdmFyIGZlYXR1cmVOb2RlID0gZ2V0RmVhdHVyZU5vZGUocm9vdEFycmF5LCBmZWF0dXJlT2JqZWN0W2ldKTtcbiAgICAgICAgICAgIGlmICghZmVhdHVyZU5vZGUgfHwgKGZlYXR1cmVPYmplY3RbaV0ucGFyYW1ldGVycyAmJiBmZWF0dXJlT2JqZWN0W2ldLnBhcmFtZXRlcnMubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVOb2RlID0gYWRkRmVhdHVyZU5vZGUoZmVhdHVyZU9iamVjdFtpXSwgcm9vdEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmZWF0dXJlT2JqZWN0W2ldLmZlYXR1cmVzICE9PSB1bmRlZmluZWQgJiYgZmVhdHVyZU9iamVjdFtpXS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlBZGRGZWF0dXJlcyhmZWF0dXJlTm9kZS5mZWF0dXJlcywgZmVhdHVyZU9iamVjdFtpXS5mZWF0dXJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseURlbGV0ZUZlYXR1cmVzKHJvb3RBcnJheSwgZmVhdHVyZU9iamVjdCkge1xuICAgICAgICB2YXIgbCA9IGZlYXR1cmVPYmplY3QubGVuZ3RoLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0RmVhdHVyZU5vZGUocm9vdEFycmF5LCBmZWF0dXJlT2JqZWN0W2ldKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVPYmplY3RbaW5kZXhdLmZlYXR1cmVzICYmIGZlYXR1cmVPYmplY3RbaW5kZXhdLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlEZWxldGVGZWF0dXJlcyhyb290QXJyYXlbaW5kZXhdLmZlYXR1cmVzLCBmZWF0dXJlT2JqZWN0W2luZGV4XS5mZWF0dXJlcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZXMuc3BsaWNlKGluZGV4LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYWRkRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZU9iamVjdCkge1xuICAgICAgICByZWN1cnNpdmVseUFkZEZlYXR1cmVzKEZlYXR1cmVzLCBmZWF0dXJlT2JqZWN0LmZlYXR1cmVzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZWxldGVGZWF0dXJlcyA9IGZ1bmN0aW9uIChmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIHJlY3Vyc2l2ZWx5RGVsZXRlRmVhdHVyZXMoRmVhdHVyZXMsIGZlYXR1cmVPYmplY3QuZmVhdHVyZXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEZlYXR1cmVMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRmVhdHVyZXM7XG4gICAgfTtcblxuICAgIHRoaXMucG9zdEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVPYmplY3QpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgJ3BsdWdpbic6IGZlYXR1cmVPYmplY3QucGx1Z2luLFxuICAgICAgICAgICAgICAgICdvdXRwdXRJbmRleCc6IGZlYXR1cmVPYmplY3Qub3V0cHV0SW5kZXgsXG4gICAgICAgICAgICAgICAgJ2ZyYW1lU2l6ZSc6IGZlYXR1cmVPYmplY3QuZnJhbWVTaXplLFxuICAgICAgICAgICAgICAgICdmZWF0dXJlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ251bWJlck9mQ2hhbm5lbHMnOiBmZWF0dXJlT2JqZWN0LnJlc3VsdHMubnVtYmVyT2ZDaGFubmVscyxcbiAgICAgICAgICAgICAgICAgICAgJ3Jlc3VsdHMnOiBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZVBvc3RGZWF0dXJlcyhyb290Tm9kZSwgcmVzdWx0c0xpc3QsIEZlYXR1cmVMaXN0KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIHJlc3VsdHMgdHJlZSB3aGVyZSBuZWNlc3NhcnlcbiAgICAgICAgICAgIHZhciBpLCBwYXJhbTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gYW8oZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLm5hbWUgPT09IHBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChwYXJhbSBpbiByZXN1bHRzTGlzdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzTGlzdC5oYXNPd25Qcm9wZXJ0eShwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBGZWF0dXJlTGlzdC5maW5kKGFvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzTGlzdFtwYXJhbV0uY29uc3RydWN0b3IgPT09IE9iamVjdCAmJiBub2RlLnJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290Tm9kZVtwYXJhbV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVQb3N0RmVhdHVyZXMocm9vdE5vZGVbcGFyYW1dLCByZXN1bHRzTGlzdFtwYXJhbV0sIG5vZGUucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3ROb2RlW3BhcmFtXSA9IHJlc3VsdHNMaXN0W3BhcmFtXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQZXJmb3JtIHJlY3Vyc2l2ZSBtYXAgZm9yIGVhY2ggY2hhbm5lbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmVhdHVyZU9iamVjdC5yZXN1bHRzLm51bWJlck9mQ2hhbm5lbHM7IGkrKykge1xuICAgICAgICAgICAgbWVzc2FnZS5mZWF0dXJlcy5yZXN1bHRzW2ldID0ge307XG4gICAgICAgICAgICByZWN1cnNpdmVQb3N0RmVhdHVyZXMobWVzc2FnZS5mZWF0dXJlcy5yZXN1bHRzW2ldLCBmZWF0dXJlT2JqZWN0LnJlc3VsdHMucmVzdWx0c1tpXS5yZXN1bHRzLCBGZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luSW5zdGFuY2Uubm9kZS5mZWF0dXJlTWFwLlJlY2VpdmVyLnBvc3RGZWF0dXJlcyhtZXNzYWdlKTtcbiAgICB9O1xufVxuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQgUmVxdWVzdG9yTWFwIGZyb20gXCIuL1JlcXVlc3Rvck1hcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTb3VyY2VNYXAoU2VuZGVyLCBwbHVnaW5JbnN0YWNlKSB7XG4gICAgdmFyIE1hcHBpbmdzID0gW107XG4gICAgdGhpcy5nZXRTb3VyY2VJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHBsdWdpbkluc3RhY2U7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFNlbmRlcjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmluZEZlYXR1cmVPYmplY3QoZmVhdHVyZU9iamVjdCkge1xuICAgICAgICByZXR1cm4gTWFwcGluZ3MuZmluZChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIChlLm91dHB1dEluZGV4ID09PSB0aGlzLm91dHB1dEluZGV4ICYmIGUuZnJhbWVTaXplID09PSB0aGlzLmZyYW1lU2l6ZSk7XG4gICAgICAgIH0sIGZlYXR1cmVPYmplY3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbmRlcigpIHtcbiAgICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlRmluZChmZWF0dXJlTGlzdCkge1xuICAgICAgICAgICAgdmFyIGYsIGxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAoZiA9IDA7IGYgPCBmZWF0dXJlTGlzdC5sZW5ndGg7IGYrKykge1xuICAgICAgICAgICAgICAgIHZhciBmZWF0dXJlTm9kZSA9IGdldEZlYXR1cmVOb2RlKGxpc3QsIGZlYXR1cmVMaXN0W2ZdKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZlYXR1cmVOb2RlIHx8IChmZWF0dXJlTGlzdC5wYXJhbWV0ZXJzICYmIGZlYXR1cmVMaXN0W2ZdLnBhcmFtZXRlcnMubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlTm9kZSA9IGFkZEZlYXR1cmVOb2RlKGZlYXR1cmVMaXN0W2ZdLCBsaXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVMaXN0W2ZdLmZlYXR1cmVzICYmIGZlYXR1cmVMaXN0W2ZdLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZU5vZGUuZmVhdHVyZXMgPSByZWN1cnNpdmVGaW5kKGZlYXR1cmVMaXN0W2ZdLmZlYXR1cmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSwgb3V0cHV0TGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgTWFwcGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXRMaXN0W01hcHBpbmdzW2ldLm91dHB1dEluZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0TGlzdFtNYXBwaW5nc1tpXS5vdXRwdXRJbmRleF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmcmFtZUxpc3QgPSBvdXRwdXRMaXN0W01hcHBpbmdzW2ldLm91dHB1dEluZGV4XS5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZnJhbWVTaXplID09PSB0aGlzLmZyYW1lU2l6ZTtcbiAgICAgICAgICAgIH0sIE1hcHBpbmdzW2ldKTtcbiAgICAgICAgICAgIGlmICghZnJhbWVMaXN0KSB7XG4gICAgICAgICAgICAgICAgZnJhbWVMaXN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAnZnJhbWVTaXplJzogTWFwcGluZ3NbaV0uZnJhbWVTaXplLFxuICAgICAgICAgICAgICAgICAgICAnZmVhdHVyZUxpc3QnOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG91dHB1dExpc3RbTWFwcGluZ3NbaV0ub3V0cHV0SW5kZXhdLnB1c2goZnJhbWVMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lTGlzdC5mZWF0dXJlTGlzdCA9IHJlY3Vyc2l2ZUZpbmQoTWFwcGluZ3NbaV0uZ2V0RmVhdHVyZUxpc3QoKSk7XG4gICAgICAgIH1cbiAgICAgICAgU2VuZGVyLnVwZGF0ZUZlYXR1cmVzKG91dHB1dExpc3QpO1xuICAgIH1cblxuICAgIHRoaXMucmVxdWVzdEZlYXR1cmVzID0gZnVuY3Rpb24gKHJlcXVlc3Rvckluc3RhbmNlLCBmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIHZhciBtYXAgPSBmaW5kRmVhdHVyZU9iamVjdChmZWF0dXJlT2JqZWN0KTtcbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgIG1hcCA9IHtcbiAgICAgICAgICAgICAgICAnb3V0cHV0SW5kZXgnOiBmZWF0dXJlT2JqZWN0Lm91dHB1dEluZGV4LFxuICAgICAgICAgICAgICAgICdmcmFtZVNpemUnOiBmZWF0dXJlT2JqZWN0LmZyYW1lU2l6ZSxcbiAgICAgICAgICAgICAgICAncmVxdWVzdG9ycyc6IFtdLFxuICAgICAgICAgICAgICAgICdnZXRGZWF0dXJlTGlzdCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIEYgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnJlcXVlc3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEYgPSBGLmNvbmNhdCh0aGlzLnJlcXVlc3RvcnNbaV0uZ2V0RmVhdHVyZUxpc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE1hcHBpbmdzLnB1c2gobWFwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdG9yID0gbWFwLnJlcXVlc3RvcnMuZmluZChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUuZ2V0UmVxdWVzdG9ySW5zdGFuY2UoKSA9PT0gdGhpcztcbiAgICAgICAgfSwgcmVxdWVzdG9ySW5zdGFuY2UpO1xuICAgICAgICBpZiAoIXJlcXVlc3Rvcikge1xuICAgICAgICAgICAgcmVxdWVzdG9yID0gbmV3IFJlcXVlc3Rvck1hcChyZXF1ZXN0b3JJbnN0YW5jZSk7XG4gICAgICAgICAgICBtYXAucmVxdWVzdG9ycy5wdXNoKHJlcXVlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdG9yLmFkZEZlYXR1cmVzKGZlYXR1cmVPYmplY3QpO1xuICAgICAgICB1cGRhdGVTZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5maW5kRnJhbWVNYXAgPSBmdW5jdGlvbiAob3V0cHV0SW5kZXgsIGZyYW1lU2l6ZSkge1xuICAgICAgICByZXR1cm4gTWFwcGluZ3MuZmluZChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIChlLm91dHB1dEluZGV4ID09PSBvdXRwdXRJbmRleCAmJiBlLmZyYW1lU2l6ZSA9PT0gZnJhbWVTaXplKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2FuY2VsRmVhdHVyZXMgPSBmdW5jdGlvbiAocmVxdWVzdG9ySW5zdGFuY2UsIGZlYXR1cmVPYmplY3QpIHtcbiAgICAgICAgaWYgKGZlYXR1cmVPYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgTWFwcGluZ3MuZm9yRWFjaChmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RvckluZGV4ID0gbWFwLnJlcXVlc3RvcnMuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldFJlcXVlc3Rvckluc3RhbmNlKCkgPT09IHJlcXVlc3Rvckluc3RhbmNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0b3JJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZXF1ZXN0b3JzLnNwbGljZShyZXF1ZXN0b3JJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gZmluZEZlYXR1cmVPYmplY3QoZmVhdHVyZU9iamVjdCk7XG4gICAgICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXF1ZXN0b3IgPSBtYXAucmVxdWVzdG9ycy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZ2V0UmVxdWVzdG9ySW5zdGFuY2UoKSA9PT0gdGhpcztcbiAgICAgICAgICAgIH0sIHJlcXVlc3Rvckluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdG9yLmRlbGV0ZUZlYXR1cmVzKGZlYXR1cmVPYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVNlbmRlcigpO1xuICAgIH07XG59XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCBGZWF0dXJlTm9kZSBmcm9tIFwiLi9GZWF0dXJlTm9kZVwiO1xuaW1wb3J0IFNvdXJjZU1hcCBmcm9tIFwiLi9Tb3VyY2VNYXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmVhdHVyZU1hcCgpIHtcbiAgICB2YXIgTWFwcGluZ3MgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGdldEZlYXR1cmVOb2RlKGxpc3QsIGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBsaXN0LmZpbmQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlLm5hbWUgPT09IHRoaXMubmFtZTtcbiAgICAgICAgfSwgY2hlY2spO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEZlYXR1cmVOb2RlKGZlYXR1cmVOb2RlLCBsaXN0KSB7XG4gICAgICAgIHZhciBub2RlID0gbmV3IEZlYXR1cmVOb2RlKGZlYXR1cmVOb2RlKTtcbiAgICAgICAgbGlzdC5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kU291cmNlSW5kZXgoU2VuZGVyKSB7XG4gICAgICAgIHJldHVybiBNYXBwaW5ncy5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlLmdldFNlbmRlcigpID09PSB0aGlzO1xuICAgICAgICB9LCBTZW5kZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRTb3VyY2VNYXAoTWFwcGluZ3MsIHNvdXJjZSwgcGx1Z2luU2VuZGVyKSB7XG4gICAgICAgIHZhciBzb3VyY2VNYXAgPSBNYXBwaW5nc1tmaW5kU291cmNlSW5kZXgoc291cmNlKV07XG4gICAgICAgIGlmICghc291cmNlTWFwKSB7XG4gICAgICAgICAgICBzb3VyY2VNYXAgPSBNYXBwaW5nc1tmaW5kU291cmNlSW5kZXgocGx1Z2luU2VuZGVyKV07XG4gICAgICAgICAgICBpZiAoIXNvdXJjZU1hcCkge1xuICAgICAgICAgICAgICAgIHRocm93IChcIkNvdWxkIG5vdCBsb2NhdGUgc291cmNlIG1hcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlTWFwO1xuICAgIH1cblxuICAgIC8vIEdFTkVSQUwgSU5URVJGQUNFXG4gICAgdGhpcy5jcmVhdGVTb3VyY2VNYXAgPSBmdW5jdGlvbiAoU2VuZGVyLCBwbHVnaW5JbnN0YW5jZSkge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBTb3VyY2VNYXAoU2VuZGVyLCBwbHVnaW5JbnN0YW5jZSk7XG4gICAgICAgIE1hcHBpbmdzLnB1c2gobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgdGhpcy5kZWxldGVTb3VyY2VNYXAgPSBmdW5jdGlvbiAoU2VuZGVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRTb3VyY2VJbmRleChTZW5kZXIpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyAoXCJDb3VsZCBub3QgZmluZCB0aGUgc291cmNlIG1hcCBmb3IgdGhlIHBsdWdpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBNYXBwaW5ncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFBsdWdpblNlbmRlciA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgaWYgKHBsdWdpbi5jb25zdHJ1Y3RvciA9PT0gUGx1Z2luSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHBsdWdpbiA9IHBsdWdpbi5ub2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwbHVnaW4uZmVhdHVyZU1hcC5TZW5kZXI7XG4gICAgfTtcblxuICAgIHRoaXMucmVxdWVzdEZlYXR1cmVzID0gZnVuY3Rpb24gKHJlcXVlc3Rvciwgc291cmNlLCBmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0b3IuY29uc3RydWN0b3IgIT09IFBsdWdpbkluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXF1ZXN0b3IgPSByZXF1ZXN0b3IucGx1Z2luSW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VyY2UgbWFwXG4gICAgICAgIHZhciBwbHVnaW5TZW5kZXIgPSB0aGlzLmdldFBsdWdpblNlbmRlcihzb3VyY2UpO1xuICAgICAgICB2YXIgc291cmNlTWFwID0gZmluZFNvdXJjZU1hcChNYXBwaW5ncywgc291cmNlLCBwbHVnaW5TZW5kZXIpO1xuICAgICAgICBzb3VyY2VNYXAucmVxdWVzdEZlYXR1cmVzKHJlcXVlc3RvciwgZmVhdHVyZU9iamVjdCk7XG4gICAgfTtcbiAgICB0aGlzLmRlbGV0ZUZlYXR1cmVzID0gZnVuY3Rpb24gKHJlcXVlc3Rvciwgc291cmNlLCBmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0b3IuY29uc3RydWN0b3IgIT09IFBsdWdpbkluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXF1ZXN0b3IgPSByZXF1ZXN0b3IucGx1Z2luSW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBNYXBwaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VNYXApIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VNYXAuY2FuY2VsRmVhdHVyZXMocmVxdWVzdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBzb3VyY2UgbWFwXG4gICAgICAgICAgICB2YXIgcGx1Z2luU2VuZGVyID0gdGhpcy5nZXRQbHVnaW5TZW5kZXIoc291cmNlKTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VNYXAgPSBmaW5kU291cmNlTWFwKE1hcHBpbmdzLCBzb3VyY2UsIHBsdWdpblNlbmRlcik7XG4gICAgICAgICAgICBzb3VyY2VNYXAuY2FuY2VsRmVhdHVyZXMocmVxdWVzdG9yLCBmZWF0dXJlT2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRGZWF0dXJlTGlzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0b3IsIHNvdXJjZSkge307XG4gICAgdGhpcy5wb3N0RmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZU9iamVjdCkge1xuICAgICAgICAvLyBSZWNlaXZlIGZyb20gdGhlIFNlbmRlciBvYmplY3RzXG4gICAgICAgIC8vIFRyaWdnZXIgZGlzdHJpYnV0ZWQgc2VhcmNoIGZvciByZXN1bHRzIHRyYW5zbWlzc2lvblxuXG4gICAgICAgIC8vIEZpcnN0IGdldCB0aGUgaW5zdGFuY2UgbWFwcGluZyBmb3Igb3V0cHV0L2ZyYW1lXG4gICAgICAgIHZhciBzb3VyY2UgPSBNYXBwaW5nc1tmaW5kU291cmNlSW5kZXgoZmVhdHVyZU9iamVjdC5wbHVnaW4pXTtcbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IE1hcHBpbmdzW2ZpbmRTb3VyY2VJbmRleCh0aGlzLmdldFBsdWdpblNlbmRlcihmZWF0dXJlT2JqZWN0LnBsdWdpbikpXTtcbiAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiUGx1Z2luIEluc3RhbmNlIG5vdCBsb2FkZWQhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFtZU1hcCA9IHNvdXJjZS5maW5kRnJhbWVNYXAoZmVhdHVyZU9iamVjdC5vdXRwdXRJbmRleCwgZmVhdHVyZU9iamVjdC5mcmFtZVNpemUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGZlYXR1cmUgb2JqZWN0IHRvIHRoZSBSZXF1ZXN0b3JNYXAgb2JqZWN0IHRvIGhhbmRsZSBjb21tc1xuICAgICAgICBmcmFtZU1hcC5yZXF1ZXN0b3JzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucG9zdEZlYXR1cmVzKHRoaXMpO1xuICAgICAgICB9LCBmZWF0dXJlT2JqZWN0KTtcblxuICAgIH07XG59XG4iLCIvKmVzbGludC1lbnYgYnJvd3NlciAqL1xuLyoganNoaW50IGVzdmVyc2lvbjo2ICovXG5cbmZ1bmN0aW9uIFBsdWdpbkFzc2V0KGZhY3RvcnlDb250ZXh0LCBuYW1lLCB1cmwsIGFzc2V0T2JqZWN0KSB7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gZmV0Y2hBc3NldCgpIHtcbiAgICAgICAgcCA9IGZldGNoKHVybCkudGhlbihmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICByZXR1cm4gci5hcnJheUJ1ZmZlcigpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGFiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeUNvbnRleHQuY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYWIpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGFiKSB7XG4gICAgICAgICAgICBhc3NldE9iamVjdCA9IGFiO1xuICAgICAgICAgICAgcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcDtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJuYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbmFtZVxuICAgICAgICB9LFxuICAgICAgICBcInVybFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IHVybFxuICAgICAgICB9LFxuICAgICAgICBcImFzc2V0T2JqZWN0XCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge3JldHVybiBhc3NldE9iamVjdDt9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZmV0Y2hcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhc3NldE9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hBc3NldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b0pTT05cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge25hbWU6IG5hbWUsIHVybDogdXJsfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b1N0cmluZ1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQge1BsdWdpbkFzc2V0fTtcbiIsIi8qZXNsaW50LWVudiBicm93c2VyICovXG4vKiBqc2hpbnQgZXN2ZXJzaW9uOjYgKi9cblxuaW1wb3J0IHtQbHVnaW5Bc3NldH0gZnJvbSBcIi4vUGx1Z2luQXNzZXQuanNcIjtcblxuZnVuY3Rpb24gUGx1Z2luQXNzZXRzTGlzdChmYWN0b3J5Q29udGV4dCwgbmFtZSwgcmVzb3VyY2VUeXBlKSB7XG4gICAgdmFyIGFzc2V0T2JqZWN0cyA9IFtdO1xuICAgIGZ1bmN0aW9uIGZpbmRBc3NldEJ5VXJsKHVybCkge1xuICAgICAgICByZXR1cm4gYXNzZXRPYmplY3RzLmZpbmQoZnVuY3Rpb24oYXNzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3NldC51cmwgPT0gdXJsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5hZGRBc3NldFVybFRvTGlzdCA9IGZ1bmN0aW9uKG5hbWUsIHVybCwgYXNzZXRPYmplY3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgXCJhZGRBc3NldFVybFRvTGlzdCBBcmd1bWVudC0xIG11c3QgYmUgYSB0eXBlIG9mIHN0cmluZ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5kQXNzZXRCeVVybCh1cmwpKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlVSTCBcXFwiXCIrdXJsK1wiXFxcIiBhbHJlYWR5IGluIHRoaXMgbGlzdFwiO1xuICAgICAgICB9XG4gICAgICAgIGFzc2V0T2JqZWN0cy5wdXNoKG5ldyBQbHVnaW5Bc3NldChmYWN0b3J5Q29udGV4dCwgbmFtZSwgdXJsLCBhc3NldE9iamVjdCkpO1xuICAgICAgICByZXR1cm4gYXNzZXRPYmplY3RzO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVBc3NldEZyb21MaXN0ID0gZnVuY3Rpb24oYXNzZXQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXNzZXRPYmplY3RzLmZpbmRJbmRleChmdW5jdGlvbihhc3NldCkge1xuICAgICAgICAgICAgcmV0dXJuIGFzc2V0LnVybCA9PSB1cmw7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IFwiQXNzZXQgbm90IGluIHRoaXMgbGlzdFwiO1xuICAgICAgICB9XG4gICAgICAgIGFzc2V0T2JqZWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gYXNzZXRPYmplY3RzO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVBc3NldFVybEZyb21MaXN0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IFwicmVtb3ZlQXNzZXRVcmxGcm9tTGlzdCBBcmd1bWVudC0xIG11c3QgYmUgYSB0eXBlIG9mIHN0cmluZ1wiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhc3NldCA9IGZpbmRBc3NldEJ5VXJsKHVybCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUFzc2V0RnJvbUxpc3QoYXNzZXQpO1xuICAgIH07XG4gICAgdGhpcy5hc3NldE9iamVjdHMgPSBhc3NldE9iamVjdHM7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9IHJlc291cmNlVHlwZTtcbn1cblxuZXhwb3J0IHtQbHVnaW5Bc3NldHNMaXN0fTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZnVuY3Rpb24gQXNzZXRQYWNrU2VsZWN0b3IocGx1Z2luLCBhc3NldFBhY2tNYW5hZ2VyLCBwYWNrKSB7XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFzc2V0cyhzZWxmLCBhc3NldHNMaXN0KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChhc3NldHNMaXN0Lm1hcChhc3NldCA9PiBhc3NldC5mZXRjaCgpKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9ubG9hZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBvbmxvYWQuY2FsbChzZWxmLCBhc3NldHNMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uZXJyb3IgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgb25lcnJvci5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFsbEFzc2V0cyhzZWxmKSB7XG4gICAgICAgIHJldHVybiBmZXRjaEFzc2V0cyhzZWxmLCBwYWNrLmFzc2V0T2JqZWN0cyk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY3RQYWNrID0gZnVuY3Rpb24oX3BhY2spIHtcbiAgICAgICAgaWYgKGFzc2V0UGFja01hbmFnZXIuYXNzZXRQYWNrcy5pbmNsdWRlcyhfcGFjaykpIHtcbiAgICAgICAgICAgIHBhY2sgPSBfcGFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93KFwiUGFjayBub3QgaW4gZmFjdG9yeSBhc3NldCBwYWNrc1wiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFsbEFzc2V0c0xvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHBhY2suYXNzZXRPYmplY3RzLmV2ZXJ5KGFzc2V0ID0+IGFzc2V0LmFzc2V0T2JqZWN0ICE9PSB1bmRlZmluZWQpO1xuICAgIH07XG5cbiAgICB0aGlzLmZldGNoQXNzZXRCeU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIGlmIChwYWNrID09PSB1bmRlZmluZWQgfHwgcGFjay5hc3NldE9iamVjdHMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyhcIlBhY2sgbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFzc2V0ID0gcGFjay5hc3NldE9iamVjdHMuZmluZChhc3NldCA9PiBuYW1lID09IGFzc2V0Lm5hbWUpO1xuICAgICAgICBpZiAoYXNzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3NldC5mZXRjaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgKFwiQXNzZXQgd2l0aCBuYW1lIFwiK1N0cmluZyhuYW1lKStcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIHBhY2tcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcInBhY2tcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge3JldHVybiBwYWNrO31cbiAgICAgICAgfSxcbiAgICAgICAgXCJsb2FkQXNzZXRzXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKGFzc2V0c0xpc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFjayA9PT0gdW5kZWZpbmVkIHx8IHBhY2suYXNzZXRPYmplY3RzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyhcIlBhY2sgbm90IGRlZmluZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhc3NldHNMaXN0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NldHNMaXN0ID0gcGFjay5hc3NldE9iamVjdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhc3NldHNMaXN0KSB8fCBhc3NldHNMaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTXVzdCBwYXNzIGFuIGFycmF5IG9mIGFzc2V0c1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgYWxsSW5QYWNrID0gYXNzZXRzTGlzdC5ldmVyeShmdW5jdGlvbihhc3NldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFjay5hc3NldE9iamVjdHMuc29tZShhbyA9PiBhby5uYW1lID09IGFzc2V0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghYWxsSW5QYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBhbGwgZ2l2ZW4gYXNzZXRzIGFyZSBpbiB0aGlzIHBhY2tcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEFzc2V0cyh0aGlzLCBhc3NldHNMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJvbmxvYWRcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7IHJldHVybiBvbmxvYWQ7IH0sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIiB8fCBmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25sb2FkID0gZjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIk11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwib25lcnJvclwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9ubG9hZDsgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT0gXCJmdW5jdGlvblwiIHx8IGYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvbmVycm9yID0gZjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIk11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXNzZXRQYWNrU2VsZWN0b3I7XG4iLCIvKmVzbGludC1lbnYgYnJvd3NlciAqL1xuLyoganNoaW50IGVzdmVyc2lvbjo2ICovXG5cbmltcG9ydCB7UGx1Z2luQXNzZXRzTGlzdH0gZnJvbSBcIi4vUGx1Z2luQXNzZXRzTGlzdFwiO1xuaW1wb3J0IEFzc2V0UGFja1NlbGVjdG9yIGZyb20gXCIuL0Fzc2V0UGFja1NlbGVjdG9yXCI7XG5cbmZ1bmN0aW9uIGZpbmRQYWNrQnlOYW1lKGFzc2V0UGFja0xpc3QsIG5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXRQYWNrTGlzdC5maW5kKGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgcmV0dXJuIGwubmFtZSA9PSBuYW1lO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBQbHVnaW5Bc3NldE1hbmFnZXIoZmFjdG9yeUNvbnRleHQpIHtcbiAgICB2YXIgYXNzZXRQYWNrTGlzdCA9IFtdO1xuICAgIHRoaXMuYWRkUGFja1RvTGlzdCA9IGZ1bmN0aW9uKG5hbWUsIHJlc291cmNlVHlwZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgXCJhZGRBc3NldFVybFRvTGlzdCBBcmd1bWVudC0xIG11c3QgYmUgYSB0eXBlIG9mIHN0cmluZ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5kUGFja0J5TmFtZShhc3NldFBhY2tMaXN0LCBuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgXCJQYWNrIHdpdGggbmFtZSBcXFwiXCIrbmFtZStcIlxcXCIgYWxyZWFkeSBpbiB0aGlzIGxpc3RcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXNzZXRQYWNrID0gbmV3IFBsdWdpbkFzc2V0c0xpc3QoZmFjdG9yeUNvbnRleHQsIG5hbWUsIHJlc291cmNlVHlwZSk7XG4gICAgICAgIGFzc2V0UGFja0xpc3QucHVzaChhc3NldFBhY2spO1xuICAgICAgICByZXR1cm4gYXNzZXRQYWNrO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVBc3NldFBhY2tGcm9tTGlzdCA9IGZ1bmN0aW9uKGFzc2V0UGFjaykge1xuICAgICAgICB2YXIgaW5kZXggPSBhc3NldFBhY2tMaXN0LmluZGV4T2YoYXNzZXRQYWNrKTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkFzc2V0IHBhY2sgbm90IGluIHRoaXMgbGlzdFwiO1xuICAgICAgICB9XG4gICAgICAgIGFzc2V0UGFja0xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIGFzc2V0UGFja0xpc3Q7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUFzc2V0UGFja0Zyb21MaXN0QnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgXCJyZW1vdmVBc3NldFVybEZyb21MaXN0IEFyZ3VtZW50LTEgbXVzdCBiZSBhIHR5cGUgb2Ygc3RyaW5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFzc2V0ID0gZmluZFBhY2tCeU5hbWUoYXNzZXRQYWNrTGlzdCwgbmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUFzc2V0RnJvbUxpc3QoYXNzZXQpO1xuICAgIH07XG4gICAgdGhpcy5hc3NldFBhY2tzID0gYXNzZXRQYWNrTGlzdDtcbiAgICB0aGlzLmNyZWF0ZUFzc2V0UGFja1NlbGVjdG9yID0gZnVuY3Rpb24ocGx1Z2luLCBwYWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXNzZXRQYWNrU2VsZWN0b3IocGx1Z2luLCB0aGlzLCBwYWNrKTtcbiAgICB9O1xuICAgIHRoaXMuaW1wb3J0RnJvbUFzc2V0TGlzdHMgPSBmdW5jdGlvbihvbGRDb250ZXh0KSB7XG4gICAgICAgIG9sZENvbnRleHQuYXNzZXRQYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsQXNzZXRQYWNrKSB7XG4gICAgICAgICAgICB2YXIgbmV3Q29udGV4dFBhY2sgPSB0aGlzLmFkZFBhY2tUb0xpc3Qob3JpZ2luYWxBc3NldFBhY2submFtZSwgb3JpZ2luYWxBc3NldFBhY2sucmVzb3VyY2VUeXBlKTtcbiAgICAgICAgICAgIG9yaWdpbmFsQXNzZXRQYWNrLmFzc2V0T2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsQXNzZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQXNzZXQuYXNzZXRPYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NldE9iamVjdCA9IGZhY3RvcnlDb250ZXh0LmNvbnRleHQuY3JlYXRlQnVmZmVyKG9yaWdpbmFsQXNzZXQuYXNzZXRPYmplY3QubnVtYmVyT2ZDaGFubmVscywgb3JpZ2luYWxBc3NldC5hc3NldE9iamVjdC5sZW5ndGgsIG9yaWdpbmFsQXNzZXQuYXNzZXRPYmplY3Quc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXNzZXRPYmplY3QubnVtYmVyT2ZDaGFubmVsczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldE9iamVjdC5jb3B5VG9DaGFubmVsKG9yaWdpbmFsQXNzZXQuYXNzZXRPYmplY3QuZ2V0Q2hhbm5lbERhdGEoaSksIGksIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQXNzZXRVcmxUb0xpc3Qob3JpZ2luYWxBc3NldC5uYW1lLCBvcmlnaW5hbEFzc2V0LnVybCwgYXNzZXRPYmplY3QpO1xuICAgICAgICAgICAgfSwgbmV3Q29udGV4dFBhY2spO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW5Bc3NldE1hbmFnZXI7XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQbHVnaW5JbnN0YW5jZShwbHVnaW5fbm9kZSkge1xuICAgIHRoaXMubmV4dF9ub2RlID0gdW5kZWZpbmVkO1xuICAgIHZhciBfYnlwYXNzZWQgPSBmYWxzZTtcbiAgICB2YXIgZXYgPSBuZXcgRXZlbnRUYXJnZXQoKTtcbiAgICB2YXIgX2luID0gcGx1Z2luX25vZGUuY29udGV4dC5jcmVhdGVHYWluKCksXG4gICAgICAgIF9vdXQgPSBwbHVnaW5fbm9kZS5jb250ZXh0LmNyZWF0ZUdhaW4oKTtcblxuICAgIF9pbi5jb25uZWN0KHBsdWdpbl9ub2RlLmdldElucHV0cygpWzBdKTtcbiAgICBwbHVnaW5fbm9kZS5nZXRPdXRwdXRzKClbMF0uY29ubmVjdChfb3V0KTtcbiAgICBwbHVnaW5fbm9kZS5hZGRFdmVudExpc3RlbmVyKHRoaXMpO1xuXG4gICAgZnVuY3Rpb24gYnlwYXNzRW5hYmxlKCkge1xuICAgICAgICBfaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICBfaW4uY29ubmVjdChfb3V0KTtcbiAgICAgICAgX2J5cGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHBsdWdpbl9ub2RlLnByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyAhPSAwKSB7XG4gICAgICAgICAgICBldi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImFsdGVyZGVsYXlcIikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnlwYXNzRGlzYWJsZSgpIHtcbiAgICAgICAgX2luLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgX2luLmNvbm5lY3QocGx1Z2luX25vZGUuZ2V0SW5wdXRzKClbMF0pO1xuICAgICAgICBfYnlwYXNzZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHBsdWdpbl9ub2RlLnByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyAhPSAwKSB7XG4gICAgICAgICAgICBldi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImFsdGVyZGVsYXlcIikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ieXBhc3MgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSAoc3RhdGUgPT09IHRydWUpO1xuICAgICAgICBpZiAoc3RhdGUgPT09IF9ieXBhc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9ieXBhc3NlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGJ5cGFzc0VuYWJsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnlwYXNzRGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfYnlwYXNzZWQ7XG4gICAgfTtcblxuICAgIHRoaXMuaXNCeXBhc3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9ieXBhc3NlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZWNvbm5lY3QgPSBmdW5jdGlvbiAobmV3X25leHQpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0KG5ld19uZXh0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG5ld19uZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLm5leHRfbm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3X25leHQgIT09IHVuZGVmaW5lZCAmJiBuZXdfbmV4dC5pbnB1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRfbm9kZSA9IG5ld19uZXh0O1xuICAgICAgICAgICAgX291dC5jb25uZWN0KHRoaXMubmV4dF9ub2RlLmlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5uZXh0X25vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX291dC5kaXNjb25uZWN0KHRoaXMubmV4dF9ub2RlLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMubmV4dF9ub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGx1Z2luX25vZGUuZGVzdHJveSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiaGFuZGxlRXZlbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZXYuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoZS50eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYWRkRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGEsYixjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2LmFkZEV2ZW50TGlzdGVuZXIoYSxiLGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihhLGIsYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBldi5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ25vZGUnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBwbHVnaW5fbm9kZVxuICAgICAgICB9LFxuICAgICAgICAnaW5wdXQnOiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfaW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdvdXRwdXQnOiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnYnlwYXNzZWQnOiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYnlwYXNzZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWlkaVN5bnRoZXNpc0luc3RhbmNlKHN5bnRoTm9kZSkge1xuICAgIHZhciBfb3V0ID0gc3ludGhOb2RlLmNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIHN5bnRoTm9kZS5nZXRPdXRwdXRzKClbMF0uY29ubmVjdChfb3V0KTtcblxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3ludGhOb2RlLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAnbm9kZSc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IHN5bnRoTm9kZVxuICAgICAgICB9LFxuICAgICAgICAnb3V0cHV0Jzoge1xuICAgICAgICAgICAgJ2dldCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX291dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbmltcG9ydCBQbHVnaW5JbnN0YW5jZSBmcm9tIFwiLi9QbHVnaW5JbnN0YW5jZVwiO1xuaW1wb3J0IE1pZGlTeW50aGVzaXNJbnN0YW5jZSBmcm9tIFwiLi9NaWRpU3ludGhlc2lzSW5zdGFuY2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGx1Z2luUHJvdG90eXBlKHByb3RvLCBmYWN0b3J5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgJ25hbWUnOiB7XG4gICAgICAgICAgICB2YWx1ZTogcHJvdG8ucHJvdG90eXBlLm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgJ3Byb3RvJzoge1xuICAgICAgICAgICAgdmFsdWU6IHByb3RvXG4gICAgICAgIH0sXG4gICAgICAgICd2ZXJzaW9uJzoge1xuICAgICAgICAgICAgdmFsdWU6IHByb3RvLnByb3RvdHlwZS52ZXJzaW9uXG4gICAgICAgIH0sXG4gICAgICAgICd1bmlxdWVJRCc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwcm90by5wcm90b3R5cGUudW5pcXVlSURcbiAgICAgICAgfSxcbiAgICAgICAgJ2hhc01pZGlJbnB1dCc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwcm90by5wcm90b3R5cGUuaGFzTWlkaUlucHV0IHx8IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgICdoYXNNaWRpT3V0cHV0Jzoge1xuICAgICAgICAgICAgdmFsdWU6IHByb3RvLnByb3RvdHlwZS5oYXNNaWRpT3V0cHV0IHx8IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY3JlYXRlUGx1Z2luSW5zdGFuY2UgPSBhc3luYyBmdW5jdGlvbihvd25lciwgYXN5bmMpIHtcbiAgICAgICAgdmFyIHAgPSBjcmVhdGVQbHVnaW5JbnN0YW5jZShvd25lcik7XG4gICAgICAgIGlmIChhc3luYyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBwO1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlUGx1Z2luSW5zdGFuY2Uob3duZXIpIHtcbiAgICAgICAgcmV0dXJuIHdhaXRVbnRpbFJlYWR5KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNrSXNSZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJQbHVnaW4gbm90IHJlYWR5XCIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBwcm90byhmYWN0b3J5LCBvd25lcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmluaXRpYWxpc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbi5pbml0aWFsaXNlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocGx1Z2luKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwbHVnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICBpZiAocGx1Z2luLmhhc01pZGlJbnB1dCAhPT0gdHJ1ZSAmJiBwbHVnaW4uaGFzTWlkaU91dHB1dCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgUGx1Z2luSW5zdGFuY2UocGx1Z2luKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGx1Z2luLmhhc01pZGlJbnB1dCA9PT0gdHJ1ZSAmJiBwbHVnaW4uaGFzTWlkaU91dHB1dCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgTWlkaVN5bnRoZXNpc0luc3RhbmNlKHBsdWdpbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93KFwiTm8gSW5zdGFuY2UgSG9sZGVyIEF2YWlsYWJsZSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwbHVnaW4sIHtcbiAgICAgICAgICAgICAgICAncGx1Z2luSW5zdGFuY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6IG5vZGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdwcm90b3R5cGVPYmplY3QnOiB7XG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6IHNlbGZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICduYW1lJzoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvdG8ucHJvdG90eXBlLm5hbWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd2ZXJzaW9uJzoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvdG8ucHJvdG90eXBlLnZlcnNpb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd1bmlxdWVJRCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHByb3RvLnByb3RvdHlwZS51bmlxdWVJRFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ1Nlc2lvbkRhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWN0b3J5LlNlc3Npb25EYXRhXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnVXNlckRhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWN0b3J5LlVzZXJEYXRhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhub2RlLCB7XG4gICAgICAgICAgICAgICAgXCJwcm90b3R5cGVPYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAndmFsdWUnOiBzZWxmXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImV4dGVybmFsSW50ZXJmYWNlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzogcGx1Z2luLmV4dGVybmFsSW50ZXJmYWNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmYWN0b3J5LnJlZ2lzdGVyUGx1Z2luSW5zdGFuY2Uobm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFJlc291cmNlQ2hhaW4ocmVzb3VyY2VPYmplY3QsIHApIHtcbiAgICAgICAgaWYgKCFwKSB7XG4gICAgICAgICAgICB2YXIgayA9IGxvYWRSZXNvdXJjZShyZXNvdXJjZU9iamVjdCk7XG4gICAgICAgICAgICBrLnRoZW4oZnVuY3Rpb24gKHJlc291cmNlT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlT2JqZWN0LnJlc291cmNlcyAhPT0gdW5kZWZpbmVkICYmIHJlc291cmNlT2JqZWN0LnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb3VyY2VPYmplY3QucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrID0gbG9hZFJlc291cmNlQ2hhaW4ocmVzb3VyY2VPYmplY3QucmVzb3VyY2VzW2ldLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcC50aGVuKGxvYWRSZXNvdXJjZShyZXNvdXJjZU9iamVjdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFN0eWxlc2hlZXQodXJsKSB7XG4gICAgICAgIHZhciBjc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgY3NzLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcInN0eWxlc2hlZXRcIik7XG4gICAgICAgIGNzcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIik7XG4gICAgICAgIGNzcy5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHVybCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChjc3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUdldFRlc3QocmVzb3VyY2VPYmplY3QpIHtcbiAgICAgICAgaWYgKHJlc291cmNlT2JqZWN0Lmhhc093blByb3BlcnR5KFwibGVuZ3RoXCIpICYmIHJlc291cmNlT2JqZWN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVHZXRUZXN0KHJlc291cmNlT2JqZWN0W3Jlc291cmNlT2JqZWN0Lmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNvdXJjZU9iamVjdC5oYXNPd25Qcm9wZXJ0eShcInJlc291cmNlc1wiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZUdldFRlc3QocmVzb3VyY2VPYmplY3QucmVzb3VyY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZU9iamVjdC50ZXN0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc291cmNlUHJvbWlzZXMgPSBbXTtcbiAgICBpZiAocHJvdG8ucHJvdG90eXBlLnJlc291cmNlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3RvLnByb3RvdHlwZS5yZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IHByb3RvLnByb3RvdHlwZS5yZXNvdXJjZXNbaV07XG4gICAgICAgICAgICByZXNvdXJjZS50eXBlID0gcmVzb3VyY2UudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgc3dpdGNoIChyZXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNzc1wiOlxuICAgICAgICAgICAgICAgICAgICBsb2FkU3R5bGVzaGVldChyZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiamF2YXNjcmlwdFwiOlxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb21pc2UnOiBsb2FkUmVzb3VyY2VDaGFpbihyZXNvdXJjZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGUnOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXN0JzogcmVjdXJzaXZlR2V0VGVzdChyZXNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnByb21pc2UudGhlbihvYmplY3QuY29tcGxldGUuYmluZChvYmplY3QpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VQcm9taXNlcy5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIkNvdWxkIG5vdCBsb2FkIFwiICsgcmVzb3VyY2UudXJsICsgXCIsIGludmFsaWQgcmVzb3VyY2UudHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZ2V0UmVzb3VyY2VQcm9taXNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlUHJvbWlzZXM7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBjaGVja0lzUmVhZHkoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb3VyY2VQcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlUHJvbWlzZXNbaV0uc3RhdGUgIT09IDEgfHwgIXJlc291cmNlUHJvbWlzZXNbaV0udGVzdCgpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBmdW5jdGlvbiB3YWl0VW50aWxSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc291cmNlUHJvbWlzZXMpO1xuICAgIH1cbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbmZ1bmN0aW9uIFBsdWdpblBhcmFtZXRlcihvd25lciwgbmFtZSwgZGF0YVR5cGUsIHZpc2libGVOYW1lLCBleHBvc2VkKSB7XG4gICAgdmFyIHVwZGF0ZSwgdHJhbnNsYXRlLCB0cmlnZ2VyO1xuICAgIHZhciBldmVudFRhcmdldCA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgIHVwZGF0ZSA9IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB2O1xuICAgIH07XG4gICAgdHJpZ2dlciA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGlmICh0eXBlb2YgdmlzaWJsZU5hbWUgIT0gXCJzdHJpbmdcIiB8fCB2aXNpYmxlTmFtZS5sZW5ndGggPT0gMCkge1xuICAgICAgICB2aXNpYmxlTmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIGlmIChleHBvc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXhwb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZXhwb3NlZCAhPSBcImJvb2xlYW5cIikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJleHBvc2VkIHBhcmFtZXRlciBpcyBub3Qgb2YgdHlwZSBib29sZWFuLCBhc3N1bWluZyBleHBvc2VkID0gdHJ1ZVwiKTtcbiAgICAgICAgZXhwb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJhZGRFdmVudExpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRyaWdnZXJQYXJhbWV0ZXJTZXRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdHMgPSB7ZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW50ZXJmYWNlczogdXBkYXRlSW50ZXJmYWNlc1xuICAgICAgICAgICAgICAgIH19O1xuICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicGFyYW1ldGVyc2V0XCIsIG9wdHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJuYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbmFtZVxuICAgICAgICB9LFxuICAgICAgICBcIm93bmVyXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogb3duZXJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2aXNpYmxlTmFtZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IHZpc2libGVOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhwb3NlZFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGV4cG9zZWRcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJNdXN0IGJlIGEgY2FsbGJhY2sgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmKDApID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiRnVuY3Rpb24gbXVzdCByZXR1cm4gYSB2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXBkYXRlID0gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0cmFuc2xhdGVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJNdXN0IGJlIGEgY2FsbGJhY2sgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmKDApID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiRnVuY3Rpb24gbXVzdCByZXR1cm4gYSB2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlID0gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0cmlnZ2VyXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIk11c3QgYmUgYSBjYWxsYmFjayBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJpZ2dlciA9IGY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYmluZFRvQXVkaW9QYXJhbVwiOiB7XG4gICAgICAgICAgICBcImNvbmZpZ3VyYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoYXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyhcIkNhbm5vdCBiaW5kIHRoaXMgcGFyYW1ldGVyIHR5cGUgdG8gYW4gYXVkaW8gcGFyYW1ldGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJvdW5kQXVkaW9QYXJhbVwiOiB7XG4gICAgICAgICAgICBcImNvbmZpZ3VyYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IHtQbHVnaW5QYXJhbWV0ZXJ9O1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xudmFyIFRpbWVQb2ludCA9IGZ1bmN0aW9uKG93bmVyLCB0aW1lLCB2YWx1ZSwgdG9TdHJpbmdGdW5jKSB7XG4gICAgaWYgKHR5cGVvZiB0aW1lICE9IFwibnVtYmVyXCIgfHwgIWlzRmluaXRlKHRpbWUpIHx8IHRpbWUgPCAwKSB7XG4gICAgICAgIHRocm93KFwiSW52YWxpZCBDb25zdHJ1Y3RvcjogVGltZSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwibnVtYmVyXCIgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyhcIkludmFsaWQgQ29uc3RydWN0b3I6IFZhbHVlIG11c3QgYmUgYSBudW1iZXJcIik7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJ0aW1lXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRUaW1lKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0VmFsdWUodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2ICE9IFwibnVtYmVyXCIgfHwgIWlzRmluaXRlKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93KFwiVmFsdWUgbXVzdCBiZSBhIG51bWJlclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heCh2LCBvd25lci5taW5pbXVtKSwgb3duZXIubWF4aW11bSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNldFRpbWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ID09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodCkgJiYgdCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b1N0cmluZ1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9TdHJpbmdGdW5jID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9TdHJpbmdGdW5jLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJvd25lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IG93bmVyXG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbnZhciBUaW1lUG9pbnRMaXN0ID0gZnVuY3Rpb24obWluX3ZhbHVlLCBtYXhfdmFsdWUsIHRvU3RyaW5nRnVuYykge1xuICAgIGZ1bmN0aW9uIGdldFBvaW50QXRUaW1lKGF1dG9tYXRpb25Qb2ludHMsIHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25Qb2ludHMuZmluZChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICByZXR1cm4gcC50aW1lID09IHRpbWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNQb2ludEF0VGltZShhdXRvbWF0aW9uUG9pbnRzLCB0aW1lKSB7XG4gICAgICAgIHJldHVybiBnZXRQb2ludEF0VGltZShhdXRvbWF0aW9uUG9pbnRzLCB0aW1lKSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzb3J0UG9pbnRzKGF1dG9tYXRpb25Qb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25Qb2ludHMuc29ydChmdW5jdGlvbihhLGIpIHtcbiAgICAgICAgICAgIGlmIChhLnRpbWUgPiBiLnRpbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBtaW5fdmFsdWUgIT0gXCJudW1iZXJcIiB8fCAhaXNGaW5pdGUobWluX3ZhbHVlKSkge1xuICAgICAgICB0aHJvdyhcIkludmFsaWQgQ29uc3RydWN0b3I6IG1pbl92YWx1ZSBiZSBhIG51bWJlclwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBtYXhfdmFsdWUgIT0gXCJudW1iZXJcIiB8fCAhaXNGaW5pdGUobWF4X3ZhbHVlKSkge1xuICAgICAgICB0aHJvdyhcIkludmFsaWQgQ29uc3RydWN0b3I6IG1heF92YWx1ZSBiZSBhIG51bWJlclwiKTtcbiAgICB9XG4gICAgaWYgKG1pbl92YWx1ZSA9PSBtYXhfdmFsdWUpIHtcbiAgICAgICAgdGhyb3coXCJJbnZhbGlkIENvbnN0cnVjdG9yOiBtYXhfdmFsdWUgY2Fubm90IGVxdWFsIHRvIG1pbl92YWx1ZVwiKTtcbiAgICB9XG4gICAgaWYgKG1heF92YWx1ZSA8IG1pbl92YWx1ZSkge1xuICAgICAgICB0aHJvdyhcIkludmFsaWQgQ29uc3RydWN0b3I6IG1pbl92YWx1ZSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIG1heF92YWx1ZVwiKTtcbiAgICB9XG4gICAgdmFyIGF1dG9tYXRpb25Qb2ludHMgPSBbXTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiaW5zZXJ0UG9pbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih0aW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZSAhPSBcIm51bWJlclwiIHx8ICFpc0Zpbml0ZSh0aW1lKSB8fCB0aW1lIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyhcIlRpbWUgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcIm51bWJlclwiIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJWYWx1ZSBtdXN0IGJlIGEgbnVtYmVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGFzUG9pbnRBdFRpbWUoYXV0b21hdGlvblBvaW50cywgdGltZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJBbHJlYWR5IGEgdmFsdWUgZW50cnkgYXQgdGltZSBcIit0aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluX3ZhbHVlKSwgbWF4X3ZhbHVlKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgVGltZVBvaW50KHRoaXMsIHRpbWUsIHZhbHVlLCB0b1N0cmluZ0Z1bmMpO1xuICAgICAgICAgICAgICAgIGF1dG9tYXRpb25Qb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgYXV0b21hdGlvblBvaW50cyA9IHNvcnRQb2ludHMoYXV0b21hdGlvblBvaW50cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBvaW50c1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHN0YXJ0X3RpbWUsIGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0X3RpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydF90aW1lID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVuZF90aW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kX3RpbWUgPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25Qb2ludHMuZmlsdGVyKGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC50aW1lID49IHN0YXJ0X3RpbWUgJiYgcG9pbnQudGltZSA8IGVuZF90aW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRlbGV0ZVBvaW50XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGF1dG9tYXRpb25Qb2ludHMuZmluZEluZGV4KGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC50aW1lID09IHRpbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvblBvaW50cy5zcGxpY2UoaW5kZXgsIDEsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXV0b21hdGlvblBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0U3RhdGljVmFsdWVBc1N0cmluZ1wiOiB7XG4gICAgICAgICAgICBcIndyaXRhYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFZhbHVlQXRUaW1lUG9pbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRQb2ludEF0VGltZShhdXRvbWF0aW9uUG9pbnRzLCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJsZW5ndGhcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25Qb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm1pbmltdW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBtaW5fdmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhpbXVtXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbWF4X3ZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlUG9pbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih0aW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50ID0gYXV0b21hdGlvblBvaW50cy5maW5kKGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC50aW1lID09IHRpbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50aW1lID09IFwibnVtYmVyXCIgJiYgb3B0aW9ucy50aW1lICE9IHBvaW50LnRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRQb2ludEF0VGltZShhdXRvbWF0aW9uUG9pbnRzLCB0aW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93KFwiQSB0aW1lLXBvaW50IGFscmVhZHkgZXhpc3RzIGF0IFxcXCJcIitTdHJpbmcob3B0aW9ucy50aW1lKStcIlxcXCIgc2Vjb25kc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQudGltZSA9IG9wdGlvbnMudGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uUG9pbnRzID0gc29ydFBvaW50cyhhdXRvbWF0aW9uUG9pbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwb2ludC52YWx1ZSA9IG9wdGlvbnMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxudmFyIFBhcmFtZXRlckF1dG9tYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXIsIG1pbl92YWx1ZSwgbWF4X3ZhbHVlLCB0b1N0cmluZ0Z1bmMpIHtcbiAgICBUaW1lUG9pbnRMaXN0LmNhbGwodGhpcywgbWluX3ZhbHVlLCBtYXhfdmFsdWUsIHRvU3RyaW5nRnVuYyk7XG4gICAgdmFyIGVuYWJsZWQgPSBmYWxzZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiZW5hYmxlZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5hYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkID0gKHQgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW5hYmxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxudmFyIFBhcmFtZXRlckxpbmVhckF1dG9tYXRpb24gPSBmdW5jdGlvbiAob3duZXIsIHBhcmFtZXRlciwgbWluX3ZhbHVlLCBtYXhfdmFsdWUsIHRvU3RyaW5nRnVuYykge1xuICAgIFBhcmFtZXRlckF1dG9tYXRpb24uY2FsbCh0aGlzLCBwYXJhbWV0ZXIsIG1pbl92YWx1ZSwgbWF4X3ZhbHVlLCB0b1N0cmluZ0Z1bmMpO1xuICAgIGZ1bmN0aW9uIGxpbmVhckludGVycG9sYXRpb24odGltZSwgcG9pbnRBLCBwb2ludEIpIHtcbiAgICAgICAgdmFyIHQxID0gcG9pbnRBLnRpbWU7XG4gICAgICAgIHZhciB0MiA9IHBvaW50Qi50aW1lO1xuICAgICAgICB0aW1lIC09IHQxO1xuICAgICAgICB0MiAtPSB0MTtcbiAgICAgICAgdDEgPSAwO1xuXG4gICAgICAgIHZhciBwID0gdGltZS90MjtcbiAgICAgICAgcmV0dXJuIHBvaW50QS52YWx1ZSAqICgxLXApICsgcG9pbnRCLnZhbHVlICogcDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWVWYWx1ZShhdXRvbWF0aW9uUG9pbnRzLCB0aW1lKSB7XG4gICAgICAgIGlmIChhdXRvbWF0aW9uUG9pbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyhcIk5vIGF1dG9tYXRpb24gcG9pbnRzIGF2YWlsYWJsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0b21hdGlvblBvaW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25Qb2ludHNbMF0udmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlyc3RQb2ludCA9IGF1dG9tYXRpb25Qb2ludHMucmVkdWNlKGZ1bmN0aW9uKHBvaW50LCBuZXh0UG9pbnQpIHtcbiAgICAgICAgICAgIGlmIChuZXh0UG9pbnQudGltZSA8PSB0aW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRQb2ludDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBhdXRvbWF0aW9uUG9pbnRzWzBdKTtcbiAgICAgICAgdmFyIHNlY29uZFBvaW50ID0gYXV0b21hdGlvblBvaW50cy5maW5kKGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnQudGltZSA+IGZpcnN0UG9pbnQudGltZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzZWNvbmRQb2ludCA9PT0gdW5kZWZpbmVkIHx8IGZpcnN0UG9pbnQudGltZSA+IHRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdFBvaW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lYXJJbnRlcnBvbGF0aW9uKHRpbWUsIGZpcnN0UG9pbnQsIHNlY29uZFBvaW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydChhdXRvbWF0aW9uUG9pbnRzLCB0aW1lLCBjb250ZXh0VGltZSkge1xuICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IG93bmVyLnVwZGF0ZShnZXRDdXJyZW50VGltZVZhbHVlKGF1dG9tYXRpb25Qb2ludHMsIHRpbWUpKTtcbiAgICAgICAgcGFyYW1ldGVyLnNldFZhbHVlQXRUaW1lKHN0YXJ0UG9zaXRpb24sIGNvbnRleHRUaW1lKTtcbiAgICAgICAgYXV0b21hdGlvblBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICAgIGlmIChwLnRpbWUgPiB0aW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBwLnRpbWUgLSB0aW1lO1xuICAgICAgICAgICAgICAgIHZhciB2ID0gb3duZXIudXBkYXRlKHAudmFsdWUpO1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlci5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2LCB0K2NvbnRleHRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcChjb250ZXh0VGltZSkge1xuICAgICAgICBpZiAoY29udGV4dFRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGV4dFRpbWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtZXRlci5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoY29udGV4dFRpbWUpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJnZXRDdXJyZW50VGltZVZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDdXJyZW50VGltZVZhbHVlKHRoaXMuZ2V0UG9pbnRzKCksIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInN0YXJ0XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSwgY29udGV4dFRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuZ2V0UG9pbnRzKCksIHRpbWUsIGNvbnRleHRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGNvbnRleHRUaW1lKSB7XG4gICAgICAgICAgICAgICAgc3RvcChjb250ZXh0VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxufTtcblBhcmFtZXRlckxpbmVhckF1dG9tYXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQYXJhbWV0ZXJBdXRvbWF0aW9uLnByb3RvdHlwZSk7XG5QYXJhbWV0ZXJMaW5lYXJBdXRvbWF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBhcmFtZXRlckxpbmVhckF1dG9tYXRpb247XG5cbnZhciBQYXJhbWV0ZXJTdGVwQXV0b21hdGlvbiA9IGZ1bmN0aW9uIChvd25lciwgcGFyYW1ldGVyLCBtaW5fdmFsdWUsIG1heF92YWx1ZSwgdG9TdHJpbmdGdW5jKSB7XG4gICAgUGFyYW1ldGVyQXV0b21hdGlvbi5jYWxsKHRoaXMsIHBhcmFtZXRlciwgbWluX3ZhbHVlLCBtYXhfdmFsdWUsIHRvU3RyaW5nRnVuYyk7XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWVWYWx1ZShhdXRvbWF0aW9uUG9pbnRzLCB0aW1lKSB7XG4gICAgICAgIGlmIChhdXRvbWF0aW9uUG9pbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyhcIk5vIGF1dG9tYXRpb24gcG9pbnRzIGF2YWlsYWJsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0b21hdGlvblBvaW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25Qb2ludHNbMF0udmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmVhcmVzdFBvaW50ID0gYXV0b21hdGlvblBvaW50cy5yZWR1Y2UoZnVuY3Rpb24ocG9pbnQsIG5leHRQb2ludCkge1xuICAgICAgICAgICAgaWYgKG5leHRQb2ludC50aW1lIDw9IHRpbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFBvaW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGF1dG9tYXRpb25Qb2ludHNbMF0pO1xuICAgICAgICByZXR1cm4gbmVhcmVzdFBvaW50LnZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0KGF1dG9tYXRpb25Qb2ludHMsIHRpbWUsIGNvbnRleHRUaW1lKSB7XG4gICAgICAgIHZhciBzdGFydFBvc2l0aW9uID0gb3duZXIudXBkYXRlKGdldEN1cnJlbnRUaW1lVmFsdWUoYXV0b21hdGlvblBvaW50cywgdGltZSkpO1xuICAgICAgICBwYXJhbWV0ZXIuc2V0VmFsdWVBdFRpbWUoc3RhcnRQb3NpdGlvbiwgY29udGV4dFRpbWUpO1xuICAgICAgICBhdXRvbWF0aW9uUG9pbnRzLmZvckVhY2goZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgaWYgKHAudGltZSA+IHRpbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IHAudGltZSAtIHRpbWU7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBvd25lci51cGRhdGUocC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyLnNldFZhbHVlQXRUaW1lKHYsIHQrY29udGV4dFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wKGNvbnRleHRUaW1lKSB7XG4gICAgICAgIHBhcmFtZXRlci5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoY29udGV4dFRpbWUpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJnZXRDdXJyZW50VGltZVZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDdXJyZW50VGltZVZhbHVlKHRoaXMuZ2V0UG9pbnRzKCksIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInN0YXJ0XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSwgY29udGV4dFRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuZ2V0UG9pbnRzKCksIHRpbWUsIGNvbnRleHRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGNvbnRleHRUaW1lKSB7XG4gICAgICAgICAgICAgICAgc3RvcChjb250ZXh0VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5QYXJhbWV0ZXJTdGVwQXV0b21hdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBhcmFtZXRlckF1dG9tYXRpb24ucHJvdG90eXBlKTtcblBhcmFtZXRlclN0ZXBBdXRvbWF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBhcmFtZXRlclN0ZXBBdXRvbWF0aW9uO1xuXG5leHBvcnQge1BhcmFtZXRlckxpbmVhckF1dG9tYXRpb24sIFBhcmFtZXRlclN0ZXBBdXRvbWF0aW9ufTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbmltcG9ydCB7UGx1Z2luUGFyYW1ldGVyfSBmcm9tIFwiLi9QbHVnaW5QYXJhbWV0ZXIuanNcIjtcbmltcG9ydCB7UGFyYW1ldGVyTGluZWFyQXV0b21hdGlvbn0gZnJvbSBcIi4vUGFyYW1ldGVyQXV0b21hdGlvbi5qc1wiO1xuXG5mdW5jdGlvbiBOdW1iZXJQYXJhbWV0ZXIob3duZXIsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgbWluaW11bSwgbWF4aW11bSwgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgIFBsdWdpblBhcmFtZXRlci5jYWxsKHRoaXMsIG93bmVyLCBuYW1lLCBcIk51bWJlclwiLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgdmFyIGF1ZGlvUGFyYW1ldGVyLCBhdXRvbWF0aW9uO1xuICAgIHZhciBfdmFsdWUgPSBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF9zdGVwU2l6ZTtcblxuICAgIGZ1bmN0aW9uIHNldFZhbHVlKHYsIHVwZGF0ZUludGVyZmFjZXMpXG4gICAge1xuICAgICAgICBpZiAoYXV0b21hdGlvbiAmJiBhdXRvbWF0aW9uLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRocm93KFwiQXV0b21hdGlvbiBpcyBlbmFibGVkLCBjYW5ub3Qgc2V0IHRoZSB2YWx1ZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWluaW11bSkge1xuICAgICAgICAgICAgdiA9IE1hdGgubWF4KHYsIHRoaXMubWluaW11bSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4aW11bSkge1xuICAgICAgICAgICAgdiA9IE1hdGgubWluKHYsIHRoaXMubWF4aW11bSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9zdGVwU2l6ZSkge1xuICAgICAgICAgICAgdiA9IE1hdGgucm91bmQodiAvIF9zdGVwU2l6ZSk7XG4gICAgICAgICAgICB2ID0gdiAqIF9zdGVwU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2ID0gdGhpcy51cGRhdGUodik7XG4gICAgICAgIGlmIChhdWRpb1BhcmFtZXRlcikge1xuICAgICAgICAgICAgaWYgKGF1dG9tYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtZXRlci5zZXRWYWx1ZUF0VGltZSh2LCBvd25lci5mYWN0b3J5LmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtZXRlci52YWx1ZSA9IHY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF92YWx1ZSAhPT0gdikge1xuICAgICAgICAgICAgX3ZhbHVlID0gdjtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclBhcmFtZXRlclNldCh1cGRhdGVJbnRlcmZhY2VzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyaWdnZXIoKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IFwiTnVtYmVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZXN0cm95XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG93bmVyID0gbmFtZSA9IGRlZmF1bHRWYWx1ZSA9IG1pbmltdW0gPSBtYXhpbXVtID0gX3ZhbHVlID0gX3N0ZXBTaXplID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm1pbmltdW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBtaW5pbXVtXG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4aW11bVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IG1heGltdW1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWZhdWx0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBkZWZhdWx0VmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRvbWF0aW9uICYmIGF1dG9tYXRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBvd25lci5mYWN0b3J5LmdldEN1cnJlbnRQcm9ncmFtVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb24uZ2V0Q3VycmVudFRpbWVWYWx1ZSh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUoYXVkaW9QYXJhbWV0ZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RlcFNpemVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3RlcFNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKG4pIHx8IG4gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIkludmFsaWQgc3RlcCBzaXplXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfc3RlcFNpemUgPSBuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJpbmRUb0F1ZGlvUGFyYW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoYXApIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwID09IFwib2JqZWN0XCIgJiYgYXAudmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW1ldGVyID0gYXA7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW1ldGVyLnZhbHVlID0gdGhpcy51cGRhdGUoX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwLnNldFZhbHVlQXRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uID0gbmV3IFBhcmFtZXRlckxpbmVhckF1dG9tYXRpb24odGhpcywgYXVkaW9QYXJhbWV0ZXIsIG1pbmltdW0sIG1heGltdW0sIHRvU3RyaW5nRnVuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRWYWx1ZUF0VGltZVBvaW50XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvbWF0aW9uUG9pbnRzLmdldFZhbHVlQXRUaW1lUG9pbnQodGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXV0b21hdGlvblBvaW50c1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogYXV0b21hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGFydFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSwgY29udGV4dFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvbWF0aW9uLnN0YXJ0KHRpbWUsIGNvbnRleHRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihjb250ZXh0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbi5zdG9wKGNvbnRleHRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmFibGVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0b21hdGlvbi5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF1dG9tYXRpb24uZW5hYmxlZCA9IHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3QgYmluZCBhdXRvbWF0aW9uIGFzIEF1ZGlvUGFyYW1ldGVyIGlzIG5vdCBhdXRvbWF0YWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93KFwiQXJndW1lbnQgMSBpcyBub3QgYSB2YWxpZCBBdWRpb1BhcmFtZXRlciBvYmplY3RcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJvdW5kQXVkaW9QYXJhbVwiOiB7XG4gICAgICAgICAgICBcImNvbmZpZ3VyYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtZXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJhdXRvbWF0YWJsZVwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhdXRvbWF0aW9uID09IFwib2JqZWN0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidG9TdHJpbmdcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvU3RyaW5nRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvU3RyaW5nRnVuYy5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogbWluaW11bSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogbWF4aW11bSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZU5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiTnVtYmVyUGFyYW1ldGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5OdW1iZXJQYXJhbWV0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQbHVnaW5QYXJhbWV0ZXIucHJvdG90eXBlKTtcbk51bWJlclBhcmFtZXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOdW1iZXJQYXJhbWV0ZXI7XG5cbmV4cG9ydCB7TnVtYmVyUGFyYW1ldGVyfTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbmltcG9ydCB7UGx1Z2luUGFyYW1ldGVyfSBmcm9tIFwiLi9QbHVnaW5QYXJhbWV0ZXIuanNcIjtcblxuZnVuY3Rpb24gU3RyaW5nUGFyYW1ldGVyKG93bmVyLCBuYW1lLCBkZWZhdWx0VmFsdWUsIG1heExlbmd0aCwgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgIFBsdWdpblBhcmFtZXRlci5jYWxsKHRoaXMsIG93bmVyLCBuYW1lLCBcIlN0cmluZ1wiLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgdmFyIF92YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB2YXIgYXVkaW9QYXJhbWV0ZXI7XG5cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZSh2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgIGlmIChtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh2Lmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IChcIlN0cmluZyBsb25nZXIgdGhhbiBcIiArIG1heExlbmd0aCArIFwiIGNoYXJhY3RlcnNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm91bmRBdWRpb1BhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kQXVkaW9QYXJhbS52YWx1ZSA9IHRoaXMudXBkYXRlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdmFsdWUgIT09IHYpIHtcbiAgICAgICAgICAgIF92YWx1ZSA9IHY7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJQYXJhbWV0ZXJTZXQodXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIlN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzdHJveVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvd25lciA9IG5hbWUgPSBkZWZhdWx0VmFsdWUgPSBtYXhMZW5ndGggPSBfdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4TGVuZ3RoXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbWF4TGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZGVmYXVsdFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kQXVkaW9QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUodGhpcy5ib3VuZEF1ZGlvUGFyYW0udmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYmluZFRvQXVkaW9QYXJhbVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uIChhcCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXAgPT0gXCJvYmplY3RcIiAmJiBhcC52YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9QYXJhbWV0ZXIgPSBhcDtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9QYXJhbWV0ZXIudmFsdWUgPSB0aGlzLnVwZGF0ZShfdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93KFwiQXJndW1lbnQgMSBpcyBub3QgYSB2YWxpZCBBdWRpb1BhcmFtZXRlciBvYmplY3RcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJvdW5kQXVkaW9QYXJhbVwiOiB7XG4gICAgICAgICAgICBcImNvbmZpZ3VyYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtZXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b1N0cmluZ1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAodiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9TdHJpbmdGdW5jID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9TdHJpbmdGdW5jLmNhbGwodGhpcywgdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0UGFyYW1ldGVyT2JqZWN0XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZU5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiU3RyaW5nUGFyYW1ldGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5TdHJpbmdQYXJhbWV0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQbHVnaW5QYXJhbWV0ZXIucHJvdG90eXBlKTtcblN0cmluZ1BhcmFtZXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdHJpbmdQYXJhbWV0ZXI7XG5cbmV4cG9ydCB7U3RyaW5nUGFyYW1ldGVyfTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbmltcG9ydCB7UGx1Z2luUGFyYW1ldGVyfSBmcm9tIFwiLi9QbHVnaW5QYXJhbWV0ZXIuanNcIjtcblxuZnVuY3Rpb24gQnV0dG9uUGFyYW1ldGVyKG93bmVyLCBuYW1lLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgIFBsdWdpblBhcmFtZXRlci5jYWxsKHRoaXMsIG93bmVyLCBuYW1lLCBcIkJ1dHRvblwiLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgdmFyIG9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogXCJCdXR0b25cIlxuICAgICAgICB9LFxuICAgICAgICBcImRlc3Ryb3lcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb3duZXIgPSBuYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm9uY2xpY2tcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbmNsaWNrO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwib25jbGljayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uY2xpY2sgPSBmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVOYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkJ1dHRvblBhcmFtZXRlclwiLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuQnV0dG9uUGFyYW1ldGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGx1Z2luUGFyYW1ldGVyLnByb3RvdHlwZSk7XG5CdXR0b25QYXJhbWV0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQnV0dG9uUGFyYW1ldGVyO1xuXG5leHBvcnQge0J1dHRvblBhcmFtZXRlcn07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge1BsdWdpblBhcmFtZXRlcn0gZnJvbSBcIi4vUGx1Z2luUGFyYW1ldGVyLmpzXCI7XG5pbXBvcnQge1BhcmFtZXRlclN0ZXBBdXRvbWF0aW9ufSBmcm9tIFwiLi9QYXJhbWV0ZXJBdXRvbWF0aW9uLmpzXCI7XG5cbmZ1bmN0aW9uIFN3aXRjaFBhcmFtZXRlcihvd25lciwgbmFtZSwgZGVmYXVsdFZhbHVlLCBtaW5TdGF0ZSwgbWF4U3RhdGUsIHRvU3RyaW5nRnVuYywgdmlzaWJsZU5hbWUsIGV4cG9zZWQpIHtcbiAgICBQbHVnaW5QYXJhbWV0ZXIuY2FsbCh0aGlzLCBvd25lciwgbmFtZSwgXCJCdXR0b25cIiwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpO1xuICAgIHZhciBvbmNsaWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgdmFyIF92YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB2YXIgYXVkaW9QYXJhbWV0ZXIsIGF1dG9tYXRpb247XG5cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZSh2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgIGlmICh2IDwgbWluU3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IChcIlNldCB2YWx1ZSBpcyBsZXNzIHRoYW4gXCIgKyBtaW5TdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHYgPiBtYXhTdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgKFwiU2V0IHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBcIiArIG1heFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib3VuZEF1ZGlvUGFyYW0pIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRBdWRpb1BhcmFtLnZhbHVlID0gdGhpcy51cGRhdGUodik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF92YWx1ZSAhPT0gdikge1xuICAgICAgICAgICAgX3ZhbHVlID0gdjtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclBhcmFtZXRlclNldCh1cGRhdGVJbnRlcmZhY2VzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyaWdnZXIoKTtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIlN3aXRjaFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzdHJveVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvd25lciA9IG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZGVmYXVsdFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluU3RhdGVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBtaW5TdGF0ZVxuICAgICAgICB9LFxuICAgICAgICBcIm1heFN0YXRlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbWF4U3RhdGVcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRBdWRpb1BhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZSh0aGlzLmJvdW5kQXVkaW9QYXJhbS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VmFsdWUuY2FsbCh0aGlzLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRWYWx1ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHYsIHVwZGF0ZUludGVyZmFjZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VmFsdWUuY2FsbCh0aGlzLCB2LCB1cGRhdGVJbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpbmNyZW1lbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBfdmFsdWUgKyAxO1xuICAgICAgICAgICAgICAgIGlmICh2ID4gbWF4U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IG1pblN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VmFsdWUuY2FsbCh0aGlzLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWNyZW1lbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBfdmFsdWUgLSAxO1xuICAgICAgICAgICAgICAgIGlmICh2IDwgbWluU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IG1heFN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VmFsdWUuY2FsbCh0aGlzLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJiaW5kVG9BdWRpb1BhcmFtXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKGFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcCA9PSBcIm9iamVjdFwiICYmIGFwLnZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1BhcmFtZXRlciA9IGFwO1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1BhcmFtZXRlci52YWx1ZSA9IHRoaXMudXBkYXRlKF92YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcC5zZXRWYWx1ZUF0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbiA9IG5ldyBQYXJhbWV0ZXJTdGVwQXV0b21hdGlvbih0aGlzLCBhdWRpb1BhcmFtZXRlciwgbWluU3RhdGUsIG1heFN0YXRlLCB0b1N0cmluZ0Z1bmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0VmFsdWVBdFRpbWVQb2ludFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b21hdGlvblBvaW50cy5nZXRWYWx1ZUF0VGltZVBvaW50KHRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImF1dG9tYXRpb25Qb2ludHNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IGF1dG9tYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RhcnRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHRpbWUsIGNvbnRleHRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0b21hdGlvbi5zdGFydCh0aW1lLCBjb250ZXh0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RvcFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oY29udGV4dFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb24uc3RvcChjb250ZXh0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZW5hYmxlZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb24uZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhdXRvbWF0aW9uLmVuYWJsZWQgPSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IGJpbmQgYXV0b21hdGlvbiBhcyBBdWRpb1BhcmFtZXRlciBpcyBub3QgYXV0b21hdGFibGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyhcIkFyZ3VtZW50IDEgaXMgbm90IGEgdmFsaWQgQXVkaW9QYXJhbWV0ZXIgb2JqZWN0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJib3VuZEF1ZGlvUGFyYW1cIjoge1xuICAgICAgICAgICAgXCJjb25maWd1cmFibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbWV0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYXV0b21hdGFibGVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXV0b21hdGlvbiA9PSBcIm9iamVjdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRvU3RyaW5nXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgIGlmICh2ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b1N0cmluZ0Z1bmMgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b1N0cmluZ0Z1bmMuY2FsbCh0aGlzLCB2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRQYXJhbWV0ZXJPYmplY3RcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IG1pblN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBtYXhTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZU5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiU3dpdGNoUGFyYW1ldGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5Td2l0Y2hQYXJhbWV0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQbHVnaW5QYXJhbWV0ZXIucHJvdG90eXBlKTtcblN3aXRjaFBhcmFtZXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTd2l0Y2hQYXJhbWV0ZXI7XG5cbmV4cG9ydCB7U3dpdGNoUGFyYW1ldGVyfTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbmltcG9ydCB7UGx1Z2luUGFyYW1ldGVyfSBmcm9tIFwiLi9QbHVnaW5QYXJhbWV0ZXIuanNcIjtcbmltcG9ydCB7UGFyYW1ldGVyU3RlcEF1dG9tYXRpb259IGZyb20gXCIuL1BhcmFtZXRlckF1dG9tYXRpb24uanNcIjtcblxuZnVuY3Rpb24gTGlzdFBhcmFtZXRlcihvd25lciwgbmFtZSwgZGVmYXVsdFZhbHVlLCBsaXN0T2ZWYWx1ZXMsIHRvU3RyaW5nRnVuYywgdmlzaWJsZU5hbWUsIGV4cG9zZWQpIHtcbiAgICBQbHVnaW5QYXJhbWV0ZXIuY2FsbCh0aGlzLCBvd25lciwgbmFtZSwgXCJCdXR0b25cIiwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpO1xuICAgIHZhciBhdWRpb1BhcmFtZXRlciwgYXV0b21hdGlvbjtcbiAgICB2YXIgb25jbGljayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIHZhciBfaW5kZXggPSBsaXN0T2ZWYWx1ZXMuaW5kZXhPZihkZWZhdWx0VmFsdWUpO1xuXG4gICAgZnVuY3Rpb24gc2V0Vih2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgIHZhciBpID0gbGlzdE9mVmFsdWVzLmluZGV4T2Yodik7XG4gICAgICAgIGlmIChpID09PSB1bmRlZmluZWQgfHwgaSA8IDApIHtcbiAgICAgICAgICAgIHRocm93KFwiTm90IGluIGxpc3QgcmFuZ2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm91bmRBdWRpb1BhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kQXVkaW9QYXJhbS52YWx1ZSA9IHRoaXMudXBkYXRlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfaW5kZXggIT09IGkpIHtcbiAgICAgICAgICAgIF9pbmRleCA9IGk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJQYXJhbWV0ZXJTZXQodXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgICAgIHJldHVybiBsaXN0T2ZWYWx1ZXNbX2luZGV4XTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IFwiTGlzdFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzdHJveVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvd25lciA9IG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZGVmYXVsdFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIFwibGlzdFZhbHVlc1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGxpc3RPZlZhbHVlc1xuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9QYXJhbWV0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlKGF1ZGlvUGFyYW1ldGVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RPZlZhbHVlc1tfaW5kZXhdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFYuY2FsbCh0aGlzLCB2LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRWYWx1ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHYsIHVwZGF0ZUludGVyZmFjZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0Vi5jYWxsKHRoaXMsIHYsIHVwZGF0ZUludGVyZmFjZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImluY3JlbWVudFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IF9pbmRleCArIDE7XG4gICAgICAgICAgICAgICAgaWYgKHYgPj0gbGlzdE9mVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFYuY2FsbCh0aGlzLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWNyZW1lbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBfaW5kZXggLSAxO1xuICAgICAgICAgICAgICAgIGlmICh2IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB2ID0gbGlzdE9mVmFsdWVzLmxlbmd0aC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0Vi5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJpbmRUb0F1ZGlvUGFyYW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoYXApIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwID09IFwib2JqZWN0XCIgJiYgYXAudmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW1ldGVyID0gYXA7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW1ldGVyLnZhbHVlID0gdGhpcy51cGRhdGUobGlzdE9mVmFsdWVzW19pbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXAuc2V0VmFsdWVBdFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb24gPSBuZXcgUGFyYW1ldGVyU3RlcEF1dG9tYXRpb24odGhpcywgYXVkaW9QYXJhbWV0ZXIsIDAsIGxpc3RWYWx1ZXMubGVuZ3RoLCB0b1N0cmluZ0Z1bmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0VmFsdWVBdFRpbWVQb2ludFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b21hdGlvblBvaW50cy5nZXRWYWx1ZUF0VGltZVBvaW50KHRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImF1dG9tYXRpb25Qb2ludHNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IGF1dG9tYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RhcnRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHRpbWUsIGNvbnRleHRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0b21hdGlvbi5zdGFydCh0aW1lLCBjb250ZXh0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RvcFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oY29udGV4dFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb24uc3RvcChjb250ZXh0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZW5hYmxlZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9tYXRpb24uZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhdXRvbWF0aW9uLmVuYWJsZWQgPSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IGJpbmQgYXV0b21hdGlvbiBhcyBBdWRpb1BhcmFtZXRlciBpcyBub3QgYXV0b21hdGFibGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyhcIkFyZ3VtZW50IDEgaXMgbm90IGEgdmFsaWQgQXVkaW9QYXJhbWV0ZXIgb2JqZWN0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJib3VuZEF1ZGlvUGFyYW1cIjoge1xuICAgICAgICAgICAgXCJjb25maWd1cmFibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbWV0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYXV0b21hdGFibGVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXV0b21hdGlvbiA9PSBcIm9iamVjdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImFkZE9wdGlvblRvTGlzdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiB0O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlICE9IFwic3RyaW5nXCIgJiYgdHlwZSAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTGlzdFBhcmFtZXRlcjo6YWRkT3B0aW9uVG9MaXN0IEFyZ3VtZW50IDEgbXVzdCBiZSBvZiB0eXBlIHN0cmluZyBvciBudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RPZlZhbHVlcy5pbmNsdWRlcyh0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkxpc3RQYXJhbWV0ZXI6OmFkZE9wdGlvblRvTGlzdCBBcmd1bWVudCAxIGNvbnRhaW5zIGEgdmFsdWUgYWxyZWFkeSBpbiB0aGUgbGlzdCBvcHRpb25zXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpc3RPZlZhbHVlcy5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0T2ZWYWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlT3B0aW9uRnJvbUxpc3RcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdE9mVmFsdWVzLmluZGV4T2YodCk7XG4gICAgICAgICAgICAgICAgdmFyIF92YWx1ZSA9IGxpc3RPZlZhbHVlc1tfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkxpc3RQYXJhbWV0ZXI6OmRlbGV0ZU9wdGlvbkZyb21MaXN0IGl0ZW0gXFxcIlwiK3QrXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIHRoaXMgbGlzdFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXN0T2ZWYWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBfaW5kZXggPSBfaW5kZXggJSBsaXN0T2ZWYWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0T2ZWYWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidG9TdHJpbmdcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvU3RyaW5nRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvU3RyaW5nRnVuYy5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBsaXN0T2ZWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBsaXN0T2ZWYWx1ZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlTmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJMaXN0UGFyYW1ldGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5MaXN0UGFyYW1ldGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGx1Z2luUGFyYW1ldGVyLnByb3RvdHlwZSk7XG5MaXN0UGFyYW1ldGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpc3RQYXJhbWV0ZXI7XG5cbmV4cG9ydCB7TGlzdFBhcmFtZXRlcn07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge1BsdWdpblBhcmFtZXRlcn0gZnJvbSBcIi4vUGx1Z2luUGFyYW1ldGVyLmpzXCI7XG5cbmZ1bmN0aW9uIFVSTFBhcmFtZXRlcihvd25lciwgbmFtZSwgZGVmYXVsdFZhbHVlLCBtYXhMZW5ndGgsIHRvU3RyaW5nRnVuYywgdmlzaWJsZU5hbWUsIGV4cG9zZWQpIHtcbiAgICBQbHVnaW5QYXJhbWV0ZXIuY2FsbCh0aGlzLCBvd25lciwgbmFtZSwgXCJTdHJpbmdcIiwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpO1xuICAgIHZhciBfdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgdmFyIHJlc291cmNlT2JqZWN0O1xuXG4gICAgZnVuY3Rpb24gZ2V0UmVzb3VyY2UodHlwZSkge1xuICAgICAgICBpZiAocmVzb3VyY2VPYmplY3QgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXNvdXJjZU9iamVjdCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCBfdmFsdWUpO1xuICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlLnRhcmdldC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ0aW1lb3V0XCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc291cmNlT2JqZWN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFZhbHVlKHYsIHVwZGF0ZUludGVyZmFjZXMpIHtcbiAgICAgICAgaWYgKG1heExlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHYubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiU3RyaW5nIGxvbmdlciB0aGFuIFwiICsgbWF4TGVuZ3RoICsgXCIgY2hhcmFjdGVyc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoX3ZhbHVlICE9PSB2KSB7XG4gICAgICAgICAgICByZXNvdXJjZU9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIF92YWx1ZSA9IHY7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJQYXJhbWV0ZXJTZXQodXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIlVSTFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzdHJveVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvd25lciA9IG5hbWUgPSBkZWZhdWx0VmFsdWUgPSBtYXhMZW5ndGggPSBfdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4TGVuZ3RoXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbWF4TGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZGVmYXVsdFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kQXVkaW9QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUodGhpcy5ib3VuZEF1ZGlvUGFyYW0udmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0UmVzb3VyY2VcIjp7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGdldFJlc291cmNlXG4gICAgICAgIH0sXG4gICAgICAgIFwidG9TdHJpbmdcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvU3RyaW5nRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvU3RyaW5nRnVuYy5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVOYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlVSTFBhcmFtZXRlclwiLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuVVJMUGFyYW1ldGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGx1Z2luUGFyYW1ldGVyLnByb3RvdHlwZSk7XG5VUkxQYXJhbWV0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVVJMUGFyYW1ldGVyO1xuXG5leHBvcnQge1VSTFBhcmFtZXRlcn07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge1BsdWdpblBhcmFtZXRlcn0gZnJvbSBcIi4vUGx1Z2luUGFyYW1ldGVyLmpzXCI7XG5pbXBvcnQge0xpc3RQYXJhbWV0ZXJ9IGZyb20gXCIuL0xpc3RQYXJhbWV0ZXIuanNcIjtcblxuZnVuY3Rpb24gQXNzZXRQYXJhbWV0ZXIob3duZXIsIHJlc291cmNlVHlwZSwgbmFtZSwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpIHtcbiAgICBQbHVnaW5QYXJhbWV0ZXIuY2FsbCh0aGlzLCBvd25lciwgbmFtZSwgXCJTdHJpbmdcIiwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpO1xuICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSBvd25lci5mYWN0b3J5LnBsdWdpbkFzc2V0cy5hc3NldFBhY2tzLmZpbHRlcihmdW5jdGlvbihwYWNrKSB7XG4gICAgICAgIHJldHVybiBwYWNrLnJlc291cmNlVHlwZSA9PSByZXNvdXJjZVR5cGU7XG4gICAgfSkubWFwKGZ1bmN0aW9uKHBhY2spIHtyZXR1cm4gcGFjay5hc3NldE9iamVjdHM7fSkuZmxhdCgpO1xuICAgIHZhciBhc3NldExpc3QgPSBuZXcgTGlzdFBhcmFtZXRlcihvd25lciwgbmFtZStcIiBsaXN0XCIsIHJlc291cmNlT3B0aW9uc1swXSwgcmVzb3VyY2VPcHRpb25zLCBmdW5jdGlvbih2KXtyZXR1cm4gdi51cmw7fSwgbmFtZStcIiBsaXN0XCIsIGZhbHNlKTtcbiAgICB2YXIgYXVkaW9CdWZmZXIsIG9ubG9hZENhbGxiYWNrLCBvbmVycm9yQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNzZXQoKSB7XG4gICAgICAgIGFzc2V0TGlzdC52YWx1ZS5mZXRjaCgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgICAgICAgYXVkaW9CdWZmZXIgPSBidWZmZXI7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9ubG9hZENhbGxiYWNrID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG9ubG9hZENhbGxiYWNrKGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbmVycm9yQ2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgb25lcnJvckNhbGxiYWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZSh2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiA9PSBcIm9iamVjdFwiICYmIHYuaGFzT3duUHJvcGVydHkoXCJ1cmxcIikpIHtcbiAgICAgICAgICAgIHYgPSB2LnVybDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHYgPSBhc3NldExpc3QudmFsdWUudXJsO1xuICAgICAgICB2YXIgaXRlbSA9IGFzc2V0TGlzdC5saXN0VmFsdWVzLmZpbmQoZnVuY3Rpb24obCkge1xuICAgICAgICAgICAgcmV0dXJuIGwudXJsID09IHY7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgYXNzZXRMaXN0LnZhbHVlID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXNzZXRMaXN0LnZhbHVlLnVybCAhPSB0dikge1xuICAgICAgICAgICAgLy8gYXNzZXQgaGFzIGNoYW5nZWQgdXJsLlxuICAgICAgICAgICAgbG9hZEFzc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJQYXJhbWV0ZXJTZXQodXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgICAgIHJldHVybiBhc3NldExpc3QudmFsdWU7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcIm9ubG9hZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ubG9hZENhbGxiYWNrO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93KFwiQXNzZXRQYXJhbWV0ZXI6Om9ubG9hZCByZXF1aXJlcyBhIGZ1bmN0aW9uIHdpdGggb25lIGFyZ3VtZW50IHRvIGJlIHNldFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbmxvYWRDYWxsYmFjayA9IGY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0J1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkQ2FsbGJhY2soYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmxvYWRDYWxsYmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwib25lcnJvclwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uZXJyb3JDYWxsYmFjaztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyhcIkFzc2V0UGFyYW1ldGVyOjpvbmVycm9yIHJlcXVpcmVzIGEgZnVuY3Rpb24gd2l0aCBvbmUgYXJndW1lbnQgdG8gYmUgc2V0XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uZXJyb3JDYWxsYmFjayA9IGY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmVycm9yQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIkFzc2V0XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZXN0cm95XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFzc2V0TGlzdC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgb3duZXIgPSBuYW1lID0gZGVmYXVsdFZhbHVlID0gYXNzZXRMaXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXRMaXN0LnZhbHVlLnVybDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzc2V0TGlzdC52YWx1ZS51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZhbHVlLmNhbGwodGhpcywgdiwgdXBkYXRlSW50ZXJmYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0UmVzb3VyY2VcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9CdWZmZXJQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlclByb21pc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRBc3NldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJidWZmZXJcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7cmV0dXJuIGF1ZGlvQnVmZmVyO31cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b1N0cmluZ1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXRMaXN0LnRvU3RyaW5nKHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm9wdGlvbnNcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzc2V0TGlzdC5saXN0VmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhc3NldExpc3QudmFsdWUudG9KU09OKCksXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGFzc2V0TGlzdC5saXN0VmFsdWVzLm1hcChmdW5jdGlvbih2KXtyZXR1cm4gdi50b0pTT04oKTt9KSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkOiAoYXVkaW9CdWZmZXIgIT09IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVOYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkFzc2V0UGFyYW1ldGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkQXNzZXQoKTtcbn1cbkFzc2V0UGFyYW1ldGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGx1Z2luUGFyYW1ldGVyLnByb3RvdHlwZSk7XG5Bc3NldFBhcmFtZXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBc3NldFBhcmFtZXRlcjtcblxuZXhwb3J0IHtBc3NldFBhcmFtZXRlcn07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge051bWJlclBhcmFtZXRlcn0gZnJvbSBcIi4vcGFyYW1ldGVycy9OdW1iZXJQYXJhbWV0ZXIuanNcIjtcbmltcG9ydCB7U3RyaW5nUGFyYW1ldGVyfSBmcm9tIFwiLi9wYXJhbWV0ZXJzL1N0cmluZ1BhcmFtZXRlci5qc1wiO1xuaW1wb3J0IHtCdXR0b25QYXJhbWV0ZXJ9IGZyb20gXCIuL3BhcmFtZXRlcnMvQnV0dG9uUGFyYW1ldGVyLmpzXCI7XG5pbXBvcnQge1N3aXRjaFBhcmFtZXRlcn0gZnJvbSBcIi4vcGFyYW1ldGVycy9Td2l0Y2hQYXJhbWV0ZXIuanNcIjtcbmltcG9ydCB7TGlzdFBhcmFtZXRlcn0gZnJvbSBcIi4vcGFyYW1ldGVycy9MaXN0UGFyYW1ldGVyLmpzXCI7XG5pbXBvcnQge1VSTFBhcmFtZXRlcn0gZnJvbSBcIi4vcGFyYW1ldGVycy9VUkxQYXJhbWV0ZXIuanNcIjtcbmltcG9ydCB7QXNzZXRQYXJhbWV0ZXJ9IGZyb20gXCIuL3BhcmFtZXRlcnMvQXNzZXRQYXJhbWV0ZXIuanNcIjtcblxudmFyIFBhcmFtZXRlck1hbmFnZXIgPSBmdW5jdGlvbiAob3duZXIsIHBsdWdpbkV4dGVybmFsSW50ZXJmYWNlLCBuYW1lLCBleHBvc2VkKSB7XG4gICAgdmFyIHBhcmFtZXRlckxpc3QgPSBbXTtcbiAgICB2YXIgZXZlbnRUYXJnZXQgPSBuZXcgRXZlbnRUYXJnZXQoKTtcbiAgICBpZiAobmFtZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmFtZSA9IFwiZGVmYXVsdFwiO1xuICAgIH1cbiAgICBpZiAoZXhwb3NlZCA9PSB1bmRlZmluZWQgfHwgbmFtZSA9PSBcImRlZmF1bHRcIikge1xuICAgICAgICBleHBvc2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kUGFyYW1ldGVyKHNlbGYsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuc3BsaXQoXCIuXCIpLnJlZHVjZShmdW5jdGlvbihiYXNlLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZVtuYW1lXTtcbiAgICAgICAgfSwgc2VsZik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlKHNlbGYsIG5hbWUpIHtcbiAgICAgICAgaWYgKCEvXlxcdysoIFxcdyspKiQvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBzdHJpbmcgZm9yIG5hbWVcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgXCJOYW1lIGlzIHJlc2VydmVkIG9yIGFscmVhZHkgZGVmaW5lZFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1aWxkUGFyYW1ldGVyT2JqZWN0KCkge1xuICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgIHBhcmFtZXRlckxpc3QuZmlsdGVyKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICAgIHJldHVybiBwLmV4cG9zZWQ7XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9ialtlLm5hbWVdID0gZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkUGFyYW1ldGVyKHBhcmFtLCBzZWxmKSB7XG4gICAgICAgIGlmIChwYXJhbS5uYW1lLmluY2x1ZGVzKFwiLlwiKSkge1xuICAgICAgICAgICAgdGhyb3coXCJOYW1lIGNhbm5vdCBpbmNsdWRlIGEgcGVyaW9kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBleGlzdHMgPSBwYXJhbWV0ZXJMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUgPT09IHBhcmFtO1xuICAgICAgICB9LCBwYXJhbSk7XG4gICAgICAgIGlmIChleGlzdHMgPT09IC0xKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgcGFyYW0ubmFtZSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJhbVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJhbWV0ZXJMaXN0LnB1c2gocGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiYWRkRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJoYW5kbGVFdmVudFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGV0YWlsID0gZS5kZXRhaWw7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFpbC51cGRhdGVJbnRlcmZhY2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW5FeHRlcm5hbEludGVyZmFjZS51cGRhdGVJbnRlcmZhY2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gXCJwYXJhbWV0ZXJzZXRcIikge1xuICAgICAgICAgICAgICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInBhcmFtZXRlcnNldFwiLCB7ZGV0YWlsOiBkZXRhaWwucGFyYW1ldGVyfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2NyZWF0ZU51bWJlclBhcmFtZXRlcic6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKG5hbWUsIGRlZmF1bHRWYWx1ZSwgbWluaW11bSwgbWF4aW11bSwgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcIm51bWJlclwiIHx8IChtaW5pbXVtICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG1pbmltdW0gIT09IFwibnVtYmVyXCIpIHx8IChtYXhpbXVtICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG1heGltdW0gIT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIkludmxpZCBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b1N0cmluZ0Z1bmMgIT0gXCJmdW5jdGlvblwiICYmIHRvU3RyaW5nRnVuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcInRvU3RyaW5nRnVuYyBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlKHRoaXMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IG5ldyBOdW1iZXJQYXJhbWV0ZXIob3duZXIsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgbWluaW11bSwgbWF4aW11bSwgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhcmFtZXRlcihwYXJhbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXJhbWV0ZXJzZXRcIiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2NyZWF0ZVN0cmluZ1BhcmFtZXRlcic6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKG5hbWUsIGRlZmF1bHRWYWx1ZSwgbWF4TGVuZ3RoLCB0b1N0cmluZ0Z1bmMsIHZpc2libGVOYW1lLCBleHBvc2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09IFwic3RyaW5nXCIgfHwgKG1heExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBtYXhMZW5ndGggIT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIkludmxpZCBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b1N0cmluZ0Z1bmMgIT0gXCJmdW5jdGlvblwiICYmIHRvU3RyaW5nRnVuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcInRvU3RyaW5nRnVuYyBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlKHRoaXMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IG5ldyBTdHJpbmdQYXJhbWV0ZXIob3duZXIsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgbWF4TGVuZ3RoLCB0b1N0cmluZ0Z1bmMsIHZpc2libGVOYW1lLCBleHBvc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGFyYW1ldGVyKHBhcmFtLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uYWRkRXZlbnRMaXN0ZW5lcihcInBhcmFtZXRlcnNldFwiLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2NyZWF0ZUJ1dHRvblBhcmFtZXRlcic6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiSW52YWxpZCBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzUGFyYW1ldGVyTmFtZUF2YWlsYWJsZSh0aGlzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW0gPSBuZXcgQnV0dG9uUGFyYW1ldGVyKG93bmVyLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGFyYW1ldGVyKHBhcmFtLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uYWRkRXZlbnRMaXN0ZW5lcihcInBhcmFtZXRlcnNldFwiLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2NyZWF0ZVN3aXRjaFBhcmFtZXRlcic6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKG5hbWUsIGRlZmF1bHRWYWx1ZSwgbWluU3RhdGUsIG1heFN0YXRlLCB0b1N0cmluZ0Z1bmMsIHZpc2libGVOYW1lLCBleHBvc2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIG1pblN0YXRlICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBtYXhTdGF0ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJJbnZsaWQgY29uc3RydWN0b3JcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9TdHJpbmdGdW5jICE9IFwiZnVuY3Rpb25cIiAmJiB0b1N0cmluZ0Z1bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJ0b1N0cmluZ0Z1bmMgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzUGFyYW1ldGVyTmFtZUF2YWlsYWJsZSh0aGlzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW0gPSBuZXcgU3dpdGNoUGFyYW1ldGVyKG93bmVyLCBuYW1lLCBkZWZhdWx0VmFsdWUsIG1pblN0YXRlLCBtYXhTdGF0ZSwgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhcmFtZXRlcihwYXJhbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXJhbWV0ZXJzZXRcIiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2NyZWF0ZUxpc3RQYXJhbWV0ZXInOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsdWUsIGxpc3RPZlZhbHVlcywgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSBcInVuZGVmaW5lZFwiIHx8ICFBcnJheS5pc0FycmF5KGxpc3RPZlZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiSW52bGlkIGNvbnN0cnVjdG9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvU3RyaW5nRnVuYyAhPSBcImZ1bmN0aW9uXCIgJiYgdG9TdHJpbmdGdW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwidG9TdHJpbmdGdW5jIG11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsaXN0T2ZWYWx1ZXMuaW5jbHVkZXMoZGVmYXVsdFZhbHVlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiSW52bGlkIGNvbnN0cnVjdG9yIC0gZGVmYXVsdCB2YWx1ZSBtaXNzaW5nXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlKHRoaXMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IG5ldyBMaXN0UGFyYW1ldGVyKG93bmVyLCBuYW1lLCBkZWZhdWx0VmFsdWUsIGxpc3RPZlZhbHVlcywgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhcmFtZXRlcihwYXJhbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXJhbWV0ZXJzZXRcIiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdjcmVhdGVVUkxQYXJhbWV0ZXInOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsdWUsIG1heExlbmd0aCwgdG9TdHJpbmdGdW5jLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAobWF4TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG1heExlbmd0aCAhPT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiSW52bGlkIGNvbnN0cnVjdG9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvU3RyaW5nRnVuYyAhPSBcImZ1bmN0aW9uXCIgJiYgdG9TdHJpbmdGdW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwidG9TdHJpbmdGdW5jIG11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1BhcmFtZXRlck5hbWVBdmFpbGFibGUodGhpcywgbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtID0gbmV3IFVSTFBhcmFtZXRlcihvd25lciwgbmFtZSwgZGVmYXVsdFZhbHVlLCBtYXhMZW5ndGgsIHRvU3RyaW5nRnVuYywgdmlzaWJsZU5hbWUsIGV4cG9zZWQpO1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXJhbWV0ZXIocGFyYW0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbS5hZGRFdmVudExpc3RlbmVyKFwicGFyYW1ldGVyc2V0XCIsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnY3JlYXRlQXNzZXRQYXJhbWV0ZXInOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uIChyZXNvdXJjZVR5cGUsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiSW52bGlkIGNvbnN0cnVjdG9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlKHRoaXMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IG5ldyBBc3NldFBhcmFtZXRlcihvd25lciwgcmVzb3VyY2VUeXBlLCBuYW1lLCBkZWZhdWx0VmFsdWUsIHZpc2libGVOYW1lLCBleHBvc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGFyYW1ldGVyKHBhcmFtLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uYWRkRXZlbnRMaXN0ZW5lcihcInBhcmFtZXRlcnNldFwiLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2NyZWF0ZVBhcmFtZXRlck1hbmFnZXInOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQYXJhbWV0ZXJOYW1lQXZhaWxhYmxlKHRoaXMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IG5ldyBQYXJhbWV0ZXJNYW5hZ2VyKG93bmVyLCBwbHVnaW5FeHRlcm5hbEludGVyZmFjZSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhcmFtZXRlcihwYXJhbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdjcmVhdGVQYXJhbWV0ZXInOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiVGhpcyBmdW5jdGlvbiBpcyBub3cgZGVwcmVjYXRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2dldFBhcmFtZXRlck5hbWUnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRFUFJFQ0FURUQgLSB1c2UgZ2V0UGFyYW1ldGVyTmFtZXNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyYW1ldGVyTmFtZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2dldFBhcmFtZXRlckJ5TmFtZSc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRQYXJhbWV0ZXIodGhpcywgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdnZXRQYXJhbWV0ZXJPYmplY3QnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkUGFyYW1ldGVyT2JqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdnZXRQYXJhbWV0ZXJOYW1lcyc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1ldGVyTGlzdC5maWx0ZXIoZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5leHBvc2VkO1xuICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwLmNvbnN0cnVjdG9yID09IHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwLmdldFBhcmFtZXRlck5hbWVzKCkubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgXCIuXCIgKyBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcCkuZmxhdCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRoaXMpLmZsYXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3NldFBhcmFtZXRlckJ5TmFtZSc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChuLCB2LCB1cGRhdGVJbnRlcmZhY2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IGZpbmRQYXJhbWV0ZXIodGhpcywgbik7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJhbWV0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVyLmV4cG9zZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBoaWRkZW4gcGFyYW1ldGVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlci5zZXRWYWx1ZSh2LCB1cGRhdGVJbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2RlbGV0ZVBhcmFtZXRlcic6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyYW1ldGVyTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgPT09IG87XG4gICAgICAgICAgICAgICAgfSwgbyk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9lcyBleGlzdFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIG8uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnZGVsZXRlQWxsUGFyYW1ldGVycyc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlckxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3NldFBhcmFtZXRlcnNCeU9iamVjdCc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChvYmplY3QsIHVwZGF0ZUludGVyZmFjZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5O1xuICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W2tleV0gPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFyYW1ldGVyQnlOYW1lKGtleSwgb2JqZWN0W2tleV0udmFsdWUsIHVwZGF0ZUludGVyZmFjZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0W2tleV0gPT0gXCJudW1iZXJcIiB8fCB0eXBlb2Ygb2JqZWN0W2tleV0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFyYW1ldGVyQnlOYW1lKGtleSwgb2JqZWN0W2tleV0sIHVwZGF0ZUludGVyZmFjZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJDYW5ub3Qgc2V0IFwiICsga2V5ICsgXCI6IE5vdCBhIHZhbGlkIG9iamVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3RvSlNPTic6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbWV0ZXJMaXN0LmZpbHRlcihmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwLmV4cG9zZWQ7XG4gICAgICAgICAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuaGFzT3duUHJvcGVydHkoXCJ0b0pTT05cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtlLm5hbWVdID0gZS50b0pTT04oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmhhc093blByb3BlcnR5KFwiZ2V0UGFyYW1ldGVyT2JqZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbZS5uYW1lXSA9IGUuZ2V0UGFyYW1ldGVyT2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChlLmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtlLm5hbWVdID0gZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2UubmFtZV0gPSBlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAncGFyYW1ldGVycyc6IHtcbiAgICAgICAgICAgICdnZXQnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkUGFyYW1ldGVyT2JqZWN0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3NldCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoXCJDYW5ub3Qgc2V0LCB1c2UgLnNldFBhcmFtZXRlckJ5Li4uKClcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhwb3NlZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9zZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibmFtZVwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7UGFyYW1ldGVyTWFuYWdlcn07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG52YXIgUGx1Z2luSW50ZXJmYWNlTWVzc2FnZUh1YiA9IGZ1bmN0aW9uKG93bmVyKSB7XG4gICAgZnVuY3Rpb24gYnVpbGRQbHVnaW5QYXJhbWV0ZXJKU09OKHBsdWdpbiwgc291cmNlcykge1xuICAgICAgICB2YXIgbmFtZXMgPSBvd25lci5wYXJhbWV0ZXJzLmdldFBhcmFtZXRlck5hbWVzKCk7XG4gICAgICAgIHZhciBPID0ge307XG4gICAgICAgIGlmIChzb3VyY2VzID09PSB1bmRlZmluZWQgfHwgc291cmNlcy5sZW5ndGggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzb3VyY2VzID0gbmFtZXM7XG4gICAgICAgIH1cbiAgICAgICAgbmFtZXMuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluY2x1ZGVzKG5hbWUpO1xuICAgICAgICB9LCBzb3VyY2VzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG93bmVyLnBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUpO1xuICAgICAgICAgICAgT1tuYW1lXSA9IHBhcmFtLmdldFBhcmFtZXRlck9iamVjdCgpO1xuICAgICAgICAgICAgT1tuYW1lXS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChwYXJhbS5hdXRvbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgT1tuYW1lXS5hdXRvbWF0ZWQgPSBwYXJhbS5hdXRvbWF0aW9uLmVuYWJsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gTztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZFBhcmFtZXRlclVwZGF0ZVBheWxvYWQoc2VuZGVyX2lkLCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBtc2cgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcInVwZGF0ZVBhcmFtZXRlcnNcIixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IGJ1aWxkUGx1Z2luUGFyYW1ldGVySlNPTihvd25lciwgc291cmNlcylcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHNlbmRlcl9pZCkge1xuICAgICAgICAgICAgbXNnLnNlbmRlcl9pZCA9IHNlbmRlcl9pZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmRQYXJhbWV0ZXJVcGRhdGVzKGNoYW5uZWwsIHNvdXJjZXMpIHtcbiAgICAgICAgY2hhbm5lbC5wb3N0TWVzc2FnZShidWlsZFBhcmFtZXRlclVwZGF0ZVBheWxvYWQodW5kZWZpbmVkLCBzb3VyY2VzKSwgbG9jYXRpb24ub3JpZ2luKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBicm9hZGNhc3RQYXJhbWV0ZXJVcGRhdGVzKHNlbmRlcl9pZCwgc291cmNlcykge1xuICAgICAgICB2YXIgbXNnID0gYnVpbGRQYXJhbWV0ZXJVcGRhdGVQYXlsb2FkKHNlbmRlcl9pZCwgc291cmNlcyk7XG4gICAgICAgIHdpbmRvd01lc3NhZ2VMaXN0LmZvckVhY2goZnVuY3Rpb24odykge1xuICAgICAgICAgICAgdy5wb3N0TWVzc2FnZShtc2csIGxvY2F0aW9uLm9yaWdpbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJyb2FkY2FzdFN0YXRlQ2hhbmdlKGxldmVsLCB0ZXJtLCB2YWx1ZSkge1xuICAgICAgICB2YXIgbXNnID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJ1cGRhdGVTdGF0ZVwiLFxuICAgICAgICAgICAgbGV2ZWw6IGxldmVsLFxuICAgICAgICAgICAgdGVybTogdGVybSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3dNZXNzYWdlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgICAgIHcucG9zdE1lc3NhZ2UobXNnLCBsb2NhdGlvbi5vcmlnaW4pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRQYXJhbWV0ZXJNZXNzYWdlKGUpIHtcbiAgICAgICAgdmFyIHVwZGF0ZU9iamVjdHMgPSBbXTtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBKU09OLnBhcnNlKGUubWVzc2FnZS5wYXJhbWV0ZXJzKTtcbiAgICAgICAgT2JqZWN0LmtleXMocGFyYW1ldGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVyT2JqZWN0ID0gb3duZXIucGFyYW1ldGVycy5nZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSk7XG4gICAgICAgICAgICBpZiAocGFyYW1ldGVyT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyT2JqZWN0LnNldFZhbHVlKHBhcmFtZXRlcnNbbmFtZV0udmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVPYmplY3RzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXBkYXRlT2JqZWN0cztcbiAgICB9XG5cbiAgICB2YXIgd2luZG93TWVzc2FnZUxpc3QgPSBbXTtcbiAgICB2YXIgbGlzdGVuZXI7XG4gICAgdmFyIHN0YXRlID0gMDtcbiAgICB2YXIgZXZlbnRUYXJnZXQgPSBuZXcgRXZlbnRUYXJnZXQoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghd2luZG93TWVzc2FnZUxpc3QuaW5jbHVkZXMoZS5zb3VyY2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoKGUuZGF0YS5tZXNzYWdlKSB7XG4gICAgICAgICAgICBjYXNlIFwic2V0UGFyYW1ldGVyQnlOYW1lXCI6XG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVyT2JqZWN0O1xuICAgICAgICAgICAgICAgIGlmIChlLmRhdGEucGFyYW1ldGVyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyT2JqZWN0ID0gb3duZXIucGFyYW1ldGVycy5nZXRQYXJhbWV0ZXJCeU5hbWUoZS5kYXRhLnBhcmFtZXRlci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlck9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyT2JqZWN0LnNldFZhbHVlKGUuZGF0YS5wYXJhbWV0ZXIudmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdFBhcmFtZXRlclVwZGF0ZXMoZS5kYXRhLnNlbmRlcl9pZCwgW2UuZGF0YS5wYXJhbWV0ZXIubmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNldFBhcmFtZXRlcnNCeU9iamVjdFwiOlxuICAgICAgICAgICAgICAgIGlmIChlLmRhdGEucGFyYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVPYmplY3RzID0gc2V0UGFyYW1ldGVyTWVzc2FnZShlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0UGFyYW1ldGVyVXBkYXRlcyhlLmRhdGEuc2VuZGVyX2lkLCB1cGRhdGVPYmplY3RzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVxdWVzdFBhcmFtZXRlcnNcIjpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUuZGF0YS5uYW1lID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFBhcmFtZXRlclVwZGF0ZXMoZS5zb3VyY2UsIGUuZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZW5kUGFyYW1ldGVyVXBkYXRlcyhlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlcXVlc3RTZXNzaW9uU3RhdGVcIjpcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RTdGF0ZUNoYW5nZShcInNlc3Npb25cIiwgZS5kYXRhLnRlcm0sIG93bmVyLnNlc3Npb25EYXRhSW50ZXJmYWNlLnJlcXVlc3RUZXJtKGUuZGF0YS50ZXJtKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVxdWVzdFRyYWNrU3RhdGVcIjpcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RTdGF0ZUNoYW5nZShcInRyYWNrXCIsIGUuZGF0YS50ZXJtLCBvd25lci50cmFja0RhdGFJbnRlcmZhY2UucmVxdWVzdFRlcm0oZS5kYXRhLnRlcm0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZXF1ZXN0VXNlclN0YXRlXCI6XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0U3RhdGVDaGFuZ2UoXCJ1c2VyXCIsIGUuZGF0YS50ZXJtLCBvd25lci51c2VyRGF0YUludGVyZmFjZS5yZXF1ZXN0VGVybShlLmRhdGEudGVybSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlcXVlc3RQbHVnaW5TdGF0ZVwiOlxuICAgICAgICAgICAgICAgIGJyb2FkY2FzdFN0YXRlQ2hhbmdlKFwicGx1Z2luXCIsIGUuZGF0YS50ZXJtLCBvd25lci5wbHVnaW5EYXRhSW50ZXJmYWNlLnJlcXVlc3RUZXJtKGUuZGF0YS50ZXJtKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY3VzdG9tTWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyhcIlVua25vd24gbWVzc2FnZSB0eXBlIFxcXCJcIitlLmRhdGEubWVzc2FnZStcIlxcXCJcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJhZGRFdmVudExpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oYSxiLGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihhLGIsYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGEsYixjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlbmRTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKGxldmVsLCB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09IFwic2Vzc2lvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdFN0YXRlQ2hhbmdlKFwic2Vzc2lvblwiLCB0ZXJtLCBvd25lci5zZXNzaW9uRGF0YUludGVyZmFjZS5yZXF1ZXN0VGVybSh0ZXJtKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PSBcInRyYWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0U3RhdGVDaGFuZ2UoXCJ0cmFja1wiLCB0ZXJtLCBvd25lci50cmFja0RhdGFJbnRlcmZhY2UucmVxdWVzdFRlcm0odGVybSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0U3RhdGVDaGFuZ2UoXCJ1c2VyXCIsIHRlcm0sIG93bmVyLnVzZXJEYXRhSW50ZXJmYWNlLnJlcXVlc3RUZXJtKHRlcm0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxldmVsID09IFwicGx1Z2luXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0U3RhdGVDaGFuZ2UoXCJwbHVnaW5cIiwgdGVybSwgb3duZXIucGx1Z2luRGF0YUludGVyZmFjZS5yZXF1ZXN0VGVybSh0ZXJtKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJJbnZhbGlkIHN0YXRlIGxldmVsIG9wdGlvblwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cGRhdGVJbnRlcmZhY2VzXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oYXV0b21hdGlvbk9ubHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXV0b21hdGlvbk9ubHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uT25seSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc291cmNlcztcbiAgICAgICAgICAgICAgICBpZiAoYXV0b21hdGlvbk9ubHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlck5hbWVzID0gb3duZXIucGFyYW1ldGVycy5nZXRQYXJhbWV0ZXJOYW1lcygpO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzID0gcGFyYW1ldGVyTmFtZXMuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IG93bmVyLnBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwYXJhbS5hdXRvbWF0YWJsZSAmJiBwYXJhbS5lbmFibGVkID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdFBhcmFtZXRlclVwZGF0ZXModW5kZWZpbmVkLCBzb3VyY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdFBhcmFtZXRlclVwZGF0ZXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjbG9zZVdpbmRvd3NcIjoge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSh3aW5kb3dNZXNzYWdlTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHdpbmRvd01lc3NhZ2VMaXN0LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJDYW5uZWwgYWxyZWFkeSBjbG9zZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlZ2lzdGVyV2luZG93XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odykge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3dNZXNzYWdlTGlzdC5pbmNsdWRlcyh3KSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3dNZXNzYWdlTGlzdC5zcGxpY2Uod2luZG93TWVzc2FnZUxpc3QuaW5kZXhPZih3KSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdpbmRvd01lc3NhZ2VMaXN0LnB1c2godyk7XG4gICAgICAgICAgICAgICAgdy5wbHVnaW5JbnN0YW5jZSA9IG93bmVyO1xuICAgICAgICAgICAgICAgIHNlbmRQYXJhbWV0ZXJVcGRhdGVzKHcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZVdpbmRvd1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93TWVzc2FnZUxpc3QuaW5jbHVkZXModykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93TWVzc2FnZUxpc3Quc3BsaWNlKHdpbmRvd01lc3NhZ2VMaXN0LmluZGV4T2YodyksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHtQbHVnaW5JbnRlcmZhY2VNZXNzYWdlSHVifTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cbnZhciBQbHVnaW5GZWF0dXJlSW50ZXJmYWNlUmVjZWl2ZXIgPSBmdW5jdGlvbiAoRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLCBGYWN0b3J5RmVhdHVyZU1hcCkge1xuICAgIGZ1bmN0aW9uIGNoZWNrRmVhdHVyZUFyZ3Moc291cmNlLCBmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgKFwiU291cmNlIHBsdWdpbiBtdXN0IGJlIGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlYXR1cmVPYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgKFwiRmVhdHVyZU9iamVjdCBtdXN0IGJlIGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlT2JqZWN0Lm91dHB1dEluZGV4ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBmZWF0dXJlT2JqZWN0LmZyYW1lU2l6ZSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZmVhdHVyZU9iamVjdC5mZWF0dXJlcyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhyb3cgKFwiTWFsZm9ybWVkIGZlYXR1cmVPYmplY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBjX2ZlYXR1cmVzID0gZnVuY3Rpb24gKCkge307XG4gICAgdGhpcy5yZXF1ZXN0RmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZUxpc3QpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBmZWF0dXJlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RmVhdHVyZXNGcm9tUGx1Z2luKGZlYXR1cmVMaXN0W2ldLnBsdWdpbiwge1xuICAgICAgICAgICAgICAgICdvdXRwdXRJbmRleCc6IGZlYXR1cmVMaXN0W2ldLm91dHB1dEluZGV4LFxuICAgICAgICAgICAgICAgICdmcmFtZVNpemUnOiBmZWF0dXJlTGlzdFtpXS5mcmFtZVNpemUsXG4gICAgICAgICAgICAgICAgJ2ZlYXR1cmVzJzogZmVhdHVyZUxpc3RbaV0uZmVhdHVyZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlcXVlc3RGZWF0dXJlc0Zyb21QbHVnaW4gPSBmdW5jdGlvbiAoc291cmNlLCBmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIGNoZWNrRmVhdHVyZUFyZ3Moc291cmNlLCBmZWF0dXJlT2JqZWN0KTtcbiAgICAgICAgRmFjdG9yeUZlYXR1cmVNYXAucmVxdWVzdEZlYXR1cmVzKEZlYXR1cmVJbnRlcmZhY2VJbnN0YW5jZS5wbHVnaW4sIHNvdXJjZSwgZmVhdHVyZU9iamVjdCk7XG4gICAgfTtcbiAgICB0aGlzLmNhbmNlbEZlYXR1cmVzRnJvbVBsdWdpbiA9IGZ1bmN0aW9uIChzb3VyY2UsIGZlYXR1cmVPYmplY3QpIHtcbiAgICAgICAgY2hlY2tGZWF0dXJlQXJncyhzb3VyY2UsIGZlYXR1cmVPYmplY3QpO1xuICAgICAgICBGYWN0b3J5RmVhdHVyZU1hcC5kZWxldGVGZWF0dXJlcyhGZWF0dXJlSW50ZXJmYWNlSW5zdGFuY2UucGx1Z2luLCBzb3VyY2UsIGZlYXR1cmVPYmplY3QpO1xuICAgIH07XG4gICAgdGhpcy5jYW5jZWxBbGxGZWF0dXJlc0Zyb21QbHVnaW4gPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgKFwiU291cmNlIHBsdWdpbiBtdXN0IGJlIGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgRmFjdG9yeUZlYXR1cmVNYXAuZGVsZXRlRmVhdHVyZXMoRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHRoaXMuY2FuY2VsQWxsRmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEZhY3RvcnlGZWF0dXJlTWFwLmRlbGV0ZUZlYXR1cmVzKEZlYXR1cmVJbnRlcmZhY2VJbnN0YW5jZS5wbHVnaW4pO1xuICAgIH07XG5cbiAgICB0aGlzLnBvc3RGZWF0dXJlcyA9IGZ1bmN0aW9uIChNZXNzYWdlKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgICBDYWxsZWQgYnkgdGhlIFBsdWdpbiBGYWN0b3J5IHdpdGggdGhlIGZlYXR1cmUgbWVzc2FnZVxuICAgICAgICAgICAgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICAncGx1Z2luJzogc291cmNlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgJ291dHB1dEluZGV4Jzogb3V0cHV0SW5kZXgsXG4gICAgICAgICAgICAgICAgJ2ZyYW1lU2l6ZSc6IGZyYW1lU2l6ZSxcbiAgICAgICAgICAgICAgICAnZmVhdHVyZXMnOiB7fSBKUy1YdHJhY3QgZmVhdHVyZSByZXN1bHRzIG9iamVjdFxuICAgICAgICAgICAgfVxuICAgICAgICAqL1xuICAgICAgICBpZiAodHlwZW9mIGNfZmVhdHVyZXMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY19mZWF0dXJlcyhNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbmZlYXR1cmVzXCIsIHtcbiAgICAgICAgJ2dldCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjX2ZlYXR1cmVzO1xuICAgICAgICB9LFxuICAgICAgICAnc2V0JzogZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgY19mZWF0dXJlcyA9IGZ1bmM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcblxufTtcblxuZXhwb3J0IHtQbHVnaW5GZWF0dXJlSW50ZXJmYWNlUmVjZWl2ZXJ9O1xuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG52YXIgUGx1Z2luRmVhdHVyZUludGVyZmFjZVNlbmRlciA9IGZ1bmN0aW9uIChGZWF0dXJlSW50ZXJmYWNlSW5zdGFuY2UsIEZhY3RvcnlGZWF0dXJlTWFwKSB7XG4gICAgdmFyIE91dHB1dE5vZGUgPSBmdW5jdGlvbiAocGFyZW50LCBvdXRwdXQsIGluZGV4KSB7XG4gICAgICAgIHZhciBleHRyYWN0b3JzID0gW107XG4gICAgICAgIHZhciBFeHRyYWN0b3IgPSBmdW5jdGlvbiAob3V0cHV0LCBmcmFtZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdG9yID0gRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbi5mYWN0b3J5LmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdG9yLmZmdFNpemUgPSBmcmFtZVNpemU7XG4gICAgICAgICAgICBvdXRwdXQuY29ubmVjdCh0aGlzLmV4dHJhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzID0gW107XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmcmFtZVNpemVcIiwge1xuICAgICAgICAgICAgICAgICd2YWx1ZSc6IGZyYW1lU2l6ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlUHJvY2Vzc2luZyhiYXNlLCBsaXN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBsaXN0Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgaSwgZW50cnk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IGxpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgIGJhc2VbZW50cnkubmFtZV0uYXBwbHkoYmFzZSwgZW50cnkucGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5mZWF0dXJlcyAmJiBlbnRyeS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVQcm9jZXNzaW5nKGJhc2UucmVzdWx0W2VudHJ5Lm5hbWVdLCBlbnRyeS5mZWF0dXJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHJlY3Vyc2l2ZVByb2Nlc3NpbmcgPSB0aGlzLmZhY3RvcnkucmVjdXJzaXZlUHJvY2Vzc2luZztcblxuICAgICAgICAgICAgZnVuY3Rpb24gb25hdWRpb2NhbGxiYWNrKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL3RoaXMgPT09IEV4dHJhY3RvclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAnbnVtYmVyT2ZDaGFubmVscyc6IDEsXG4gICAgICAgICAgICAgICAgICAgICdyZXN1bHRzJzogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZVByb2Nlc3NpbmcoZGF0YSwgdGhpcy5mZWF0dXJlcyk7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5yZXN1bHRzWzBdID0ge1xuICAgICAgICAgICAgICAgICAgICAnY2hhbm5lbCc6IDAsXG4gICAgICAgICAgICAgICAgICAgICdyZXN1bHRzJzogSlNPTi5wYXJzZShkYXRhLnRvSlNPTigpKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5wb3N0RmVhdHVyZXMoZGF0YS5sZW5ndGgsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVMaXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlcyA9IGZlYXR1cmVMaXN0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dHJhY3Rvci5jbGVhckNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRyYWN0b3IuZnJhbWVDYWxsYmFjayhvbmF1ZGlvY2FsbGJhY2ssIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBXb3JrZXJFeHRyYWN0b3IgPSBmdW5jdGlvbiAob3V0cHV0LCBmcmFtZVNpemUpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uYXVkaW9jYWxsYmFjayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMsIGZyYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoYyA9IDA7IGMgPCBlLmlucHV0QnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZXNbY10gPSBlLmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAnc3RhdGUnOiAyLFxuICAgICAgICAgICAgICAgICAgICAnZnJhbWVzJzogZnJhbWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlKG1zZykge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdEZlYXR1cmVzKGZyYW1lU2l6ZSwgbXNnLmRhdGEucmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihcImpzYXAvZmVhdHVyZS13b3JrZXIuanNcIik7XG4gICAgICAgICAgICB3b3JrZXIub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZUxpc3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZ01lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICdzdGF0ZSc6IDEsXG4gICAgICAgICAgICAgICAgICAgICdzYW1wbGVSYXRlJzogRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbi5mYWN0b3J5LmNvbnRleHQuc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2ZlYXR1cmVMaXN0JzogZmVhdHVyZUxpc3QsXG4gICAgICAgICAgICAgICAgICAgICdudW1DaGFubmVscyc6IG91dHB1dC5udW1iZXJPZk91dHB1dHMsXG4gICAgICAgICAgICAgICAgICAgICdmcmFtZVNpemUnOiB0aGlzLmZyYW1lU2l6ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlcyA9IGZlYXR1cmVMaXN0O1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlTGlzdCAmJiBmZWF0dXJlTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YS5zdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSByZXNwb25zZS5iaW5kKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZXh0cmFjdG9yLm9uYXVkaW9wcm9jZXNzID0gb25hdWRpb2NhbGxiYWNrLmJpbmQoc2VsZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShjb25maWdNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0ZSc6IDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRyYWN0b3Iub25hdWRpb3Byb2Nlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RvciA9IEZlYXR1cmVJbnRlcmZhY2VJbnN0YW5jZS5wbHVnaW4uZmFjdG9yeS5jb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihmcmFtZVNpemUsIG91dHB1dC5udW1iZXJPZk91dHB1dHMsIDEpO1xuICAgICAgICAgICAgb3V0cHV0LmNvbm5lY3QodGhpcy5leHRyYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5leHRyYWN0b3IuY29ubmVjdChGZWF0dXJlSW50ZXJmYWNlSW5zdGFuY2UucGx1Z2luLmZhY3RvcnkuY29udGV4dC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyYW1lU2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogZnJhbWVTaXplXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRFeHRyYWN0b3IgPSBmdW5jdGlvbiAoZnJhbWVTaXplKSB7XG4gICAgICAgICAgICB2YXIgb2JqO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5Xb3JrZXIpIHtcbiAgICAgICAgICAgICAgICBvYmogPSBuZXcgV29ya2VyRXh0cmFjdG9yKG91dHB1dCwgZnJhbWVTaXplKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqID0gbmV3IEV4dHJhY3RvcihvdXRwdXQsIGZyYW1lU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHRyYWN0b3JzLnB1c2gob2JqKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFwicG9zdEZlYXR1cmVzXCIsIHtcbiAgICAgICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAoZnJhbWVTaXplLCByZXN1bHRzSlNPTikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ291dHB1dEluZGV4JzogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZnJhbWVTaXplJzogZnJhbWVTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3VsdHMnOiByZXN1bHRzSlNPTlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RGZWF0dXJlcyhvYmopO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZpbmRFeHRyYWN0b3IgPSBmdW5jdGlvbiAoZnJhbWVTaXplKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2sgPSBmcmFtZVNpemU7XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdG9ycy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBNVVNUIGJlID09PSBOT1QgPT09XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZnJhbWVTaXplID09PSBjaGVjaztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZUV4dHJhY3RvciA9IGZ1bmN0aW9uIChmcmFtZVNpemUpIHt9O1xuICAgIH07XG4gICAgdmFyIG91dHB1dE5vZGVzID0gW107XG4gICAgdGhpcy51cGRhdGVGZWF0dXJlcyA9IGZ1bmN0aW9uIChmZWF0dXJlT2JqZWN0KSB7XG4gICAgICAgIC8vIFtdIE91dHB1dCAtPiB7fSAnZnJhbWVzaXplJyAtPiB7fSAnZmVhdHVyZXMnXG4gICAgICAgIHZhciBvO1xuICAgICAgICBmb3IgKG8gPSAwOyBvIDwgZmVhdHVyZU9iamVjdC5sZW5ndGg7IG8rKykge1xuICAgICAgICAgICAgaWYgKG91dHB1dE5vZGVzW29dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobyA+IEZlYXR1cmVJbnRlcmZhY2VJbnN0YW5jZS5wbHVnaW4ubnVtT3V0cHV0cykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJSZXF1ZXN0ZWQgYW4gb3V0cHV0IHRoYXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dE5vZGVzW29dID0gbmV3IE91dHB1dE5vZGUoRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbiwgRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbi5vdXRwdXRzW29dLCBvKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0Tm9kZXNbb10sIFwicG9zdEZlYXR1cmVzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzogZnVuY3Rpb24gKHJlc3VsdE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0RmVhdHVyZXMocmVzdWx0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2k7XG4gICAgICAgICAgICBmb3IgKHNpID0gMDsgc2kgPCBmZWF0dXJlT2JqZWN0W29dLmxlbmd0aDsgc2krKykge1xuICAgICAgICAgICAgICAgIHZhciBleHRyYWN0b3IgPSBvdXRwdXROb2Rlc1tvXS5maW5kRXh0cmFjdG9yKGZlYXR1cmVPYmplY3Rbb11bc2ldLmZyYW1lU2l6ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFleHRyYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdG9yID0gb3V0cHV0Tm9kZXNbb10uYWRkRXh0cmFjdG9yKGZlYXR1cmVPYmplY3Rbb11bc2ldLmZyYW1lU2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4dHJhY3Rvci5zZXRGZWF0dXJlcyhmZWF0dXJlT2JqZWN0W29dW3NpXS5mZWF0dXJlTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5wb3N0RmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZU9iamVjdCkge1xuICAgICAgICAvKlxuICAgICAgICAgICAgQ2FsbGVkIGJ5IHRoZSBpbmRpdmlkdWFsIGV4dHJhY3RvciBpbnN0YW5jZXM6XG4gICAgICAgICAgICBmZWF0dXJlT2JqZWN0ID0geydmcmFtZVNpemUnOiBmcmFtZVNpemUsXG4gICAgICAgICAgICAnb3V0cHV0SW5kZXgnOiBvdXRwdXRJbmRleCxcbiAgICAgICAgICAgICdyZXN1bHRzJzpbXX1cbiAgICAgICAgKi9cbiAgICAgICAgRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbi5mYWN0b3J5LkZlYXR1cmVNYXAucG9zdEZlYXR1cmVzKHtcbiAgICAgICAgICAgICdwbHVnaW4nOiBGZWF0dXJlSW50ZXJmYWNlSW5zdGFuY2UucGx1Z2luLnBsdWdpbkluc3RhbmNlLFxuICAgICAgICAgICAgJ291dHB1dEluZGV4JzogZmVhdHVyZU9iamVjdC5vdXRwdXRJbmRleCxcbiAgICAgICAgICAgICdmcmFtZVNpemUnOiBmZWF0dXJlT2JqZWN0LmZyYW1lU2l6ZSxcbiAgICAgICAgICAgICdyZXN1bHRzJzogZmVhdHVyZU9iamVjdC5yZXN1bHRzXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBTZW5kIHRvIEZhY3RvcnlcbiAgICBGYWN0b3J5RmVhdHVyZU1hcC5jcmVhdGVTb3VyY2VNYXAodGhpcywgRmVhdHVyZUludGVyZmFjZUluc3RhbmNlLnBsdWdpbi5wbHVnaW5JbnN0YW5jZSk7XG59O1xuXG5leHBvcnQge1BsdWdpbkZlYXR1cmVJbnRlcmZhY2VTZW5kZXJ9O1xuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge1BsdWdpbkZlYXR1cmVJbnRlcmZhY2VSZWNlaXZlcn0gZnJvbSBcIi4vUGx1Z2luRmVhdHVyZUludGVyZmFjZVJlY2VpdmVyXCI7XG5pbXBvcnQge1BsdWdpbkZlYXR1cmVJbnRlcmZhY2VTZW5kZXJ9IGZyb20gXCIuL1BsdWdpbkZlYXR1cmVJbnRlcmZhY2VTZW5kZXJcIjtcblxudmFyIFBsdWdpbkZlYXR1cmVJbnRlcmZhY2UgPSBmdW5jdGlvbiAoQmFzZVBsdWdpbkluc3RhbmNlKSB7XG4gICAgdGhpcy5wbHVnaW4gPSBCYXNlUGx1Z2luSW5zdGFuY2U7XG4gICAgdGhpcy5SZWNlaXZlciA9IG5ldyBQbHVnaW5GZWF0dXJlSW50ZXJmYWNlUmVjZWl2ZXIodGhpcywgQmFzZVBsdWdpbkluc3RhbmNlLmZhY3RvcnkuRmVhdHVyZU1hcCk7XG4gICAgdGhpcy5TZW5kZXIgPSBuZXcgUGx1Z2luRmVhdHVyZUludGVyZmFjZVNlbmRlcih0aGlzLCBCYXNlUGx1Z2luSW5zdGFuY2UuZmFjdG9yeS5GZWF0dXJlTWFwKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uZmVhdHVyZXNcIiwge1xuICAgICAgICAnZ2V0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVjZWl2ZXIub25mZWF0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgJ3NldCc6IGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgICAgICAgICB0aGlzLlJlY2VpdmVyLm9uZmVhdHVyZXMgPSBmdW5jO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7UGx1Z2luRmVhdHVyZUludGVyZmFjZX07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbnZhciBQbHVnaW5QYXJhbWV0ZXJJbnRlcmZhY2VOb2RlID0gZnVuY3Rpb24gKERPTSwgUGx1Z2luUGFyYW1ldGVySW5zdGFuY2UsIHByb2Nlc3NvciwgZ3VpKSB7XG4gICAgdGhpcy5pbnB1dCA9IERPTTtcbiAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB0aGlzLkdVSSA9IGd1aTtcbiAgICB0aGlzLkF1ZGlvUGFyYW0gPSBQbHVnaW5QYXJhbWV0ZXJJbnN0YW5jZTtcbiAgICB0aGlzLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuQXVkaW9QYXJhbS52YWx1ZSA9IHRoaXMuaW5wdXQudmFsdWU7XG4gICAgfTtcbiAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcyk7XG4gICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMpO1xuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMpO1xufTtcblxudmFyIFBsdWdpblVzZXJJbnRlcmZhY2UgPSBmdW5jdGlvbiAoQmFzZVBsdWdpbkluc3RhbmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc29sZS5sb2coXCJERVBSRUNBVEVEISFcIik7XG4gICAgY29uc29sZS5sb2coXCJUaGUgY2xhc3MgUGx1Z2luVXNlckludGVyZmFjZSBoYXMgYmVlbiBkZXByZWNhdGVkXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiUGxlYXNlIGxvb2sgYXQgdGhlIGRvY3VtZW50cyBmb3IgdGhlIG5ldyBtZXRob2RzIGZvciBidWlsZGluZyBwbHVnaW5zXCIpO1xuICAgIHRoaXMucHJvY2Vzc29yID0gQmFzZVBsdWdpbkluc3RhbmNlO1xuICAgIHRoaXMucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaWYgKHdpZHRoID4gMCkge1xuICAgICAgICB0aGlzLnJvb3Quc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICB9XG4gICAgaWYgKGhlaWdodCA+IDApIHtcbiAgICAgICAgdGhpcy5yb290LnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICB9XG4gICAgdGhpcy5kaW0gPSB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9O1xuICAgIHRoaXMuaW50ZXJ2YWxGdW5jdGlvbiA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IG51bGw7XG4gICAgdGhpcy5QbHVnaW5QYXJhbWV0ZXJJbnRlcmZhY2VzID0gW107XG5cbiAgICB0aGlzLmNyZWF0ZVBsdWdpblBhcmFtZXRlckludGVyZmFjZU5vZGUgPSBmdW5jdGlvbiAoRE9NLCBQbHVnaW5QYXJhbWV0ZXJJbnN0YW5jZSkge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBQbHVnaW5QYXJhbWV0ZXJJbnRlcmZhY2VOb2RlKERPTSwgUGx1Z2luUGFyYW1ldGVySW5zdGFuY2UsIHRoaXMucHJvY2Vzc29yLCB0aGlzKTtcbiAgICAgICAgdGhpcy5QbHVnaW5QYXJhbWV0ZXJJbnRlcmZhY2VzLnB1c2gobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG59O1xuXG5QbHVnaW5Vc2VySW50ZXJmYWNlLnByb3RvdHlwZS5nZXRSb290ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3Q7XG59O1xuUGx1Z2luVXNlckludGVyZmFjZS5wcm90b3R5cGUuZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW07XG59O1xuUGx1Z2luVXNlckludGVyZmFjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltLndpZHRoO1xufTtcblBsdWdpblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW0uaGVpZ2h0O1xufTtcblBsdWdpblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLmJlZ2luQ2FsbGJhY2tzID0gZnVuY3Rpb24gKG1zKSB7XG4gICAgLy8gQW55IHJlZ2lzdGVyZWQgY2FsbGJhY2tzIGFyZSBzdGFydGVkIGJ5IHRoZSBob3N0XG4gICAgaWYgKG1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbXMgPSAyNTA7XG4gICAgfSAvL0RlZmF1bHQgb2YgMjUwbXMgdXBkYXRlIHBlcmlvZFxuICAgIGlmICh0aGlzLmludGVydmFsRnVuY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IG1zO1xuICAgICAgICB0aGlzLmludGVydmFsRnVuY3Rpb24gPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLCAyNTApO1xuICAgIH1cbn07XG5QbHVnaW5Vc2VySW50ZXJmYWNlLnByb3RvdHlwZS5zdG9wQ2FsbGJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEFueSByZWdpc3RlcmVkIGNhbGxiYWNrcyBhcmUgc3RvcHBlZCBieSB0aGUgaG9zdFxuICAgIGlmICh0aGlzLmludGVydmFsRnVuY3Rpb24gIT09IG51bGwpIHtcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbEZ1bmN0aW9uKTtcbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxGdW5jdGlvbiA9IG51bGw7XG4gICAgfVxufTtcblBsdWdpblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLmxvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICByZXEub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgcmVxLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcS5yZXNwb25zZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChFcnJvcihyZXEuc3RhdHVzVGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlamVjdChFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpO1xuICAgICAgICB9O1xuICAgICAgICByZXEuc2VuZCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwO1xufTtcblBsdWdpblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLmNsZWFyR1VJID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc3RvcENhbGxiYWNrcygpO1xuICAgIHRoaXMucm9vdC5pbm5lckhUTUwgPSBcIlwiO1xufTtcblxuZXhwb3J0IHtQbHVnaW5Vc2VySW50ZXJmYWNlfTtcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGlua2VkU3RvcmVJbnRlcmZhY2Uob3duZXIsIGxpbmtlZFN0b3JlKSB7XG4gICAgZnVuY3Rpb24gb25hbHRlcmVkKGUpIHtcbiAgICAgICAgdmFyIHRlcm0gPSBlLmRldGFpbC50ZXJtO1xuICAgICAgICB2YXIgdmFsdWUgPSBlLmRldGFpbC52YWx1ZTtcbiAgICAgICAgaWYgKGxpc3RlbmVyc1t0ZXJtXSAmJiB0eXBlb2YgbGlzdGVuZXJzW3Rlcm1dID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgbGlzdGVuZXJzW3Rlcm1dLmNhbGwob3duZXIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSB7fTtcblxuICAgIGxpbmtlZFN0b3JlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbHRlcmVkXCIsIG9uYWx0ZXJlZCk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiZGVzdHJveVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsaW5rZWRTdG9yZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWx0ZXJlZFwiLCBvbmFsdGVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlcXVlc3RUZXJtXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKHRlcm0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlua2VkU3RvcmUuZ2V0VGVybSh0ZXJtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJsaXN0ZW5Gb3JUZXJtXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odGVybSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KHRlcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTGlzdGVuZXIgYWxyZWFkeSBleGlzdHNcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzW3Rlcm1dID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVsZWFzZUxpc3RlbmVyRm9yVGVybVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHRlcm0pIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbdGVybV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXNzZXRQYWNrU2VsZWN0b3JJbnRlcmZhY2UocGx1Z2luLCBmYWN0b3J5LCBwYXJhbWV0ZXJOYW1lLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCkge1xuICAgIHZhciBwYWNrU2VsZWN0b3IgPSBmYWN0b3J5LnBsdWdpbkFzc2V0cy5jcmVhdGVBc3NldFBhY2tTZWxlY3RvcihwbHVnaW4sIGZhY3RvcnkucGx1Z2luQXNzZXRzLmFzc2V0UGFja3NbMF0pO1xuICAgIHZhciBsaXN0UGFyYW1ldGVyID0gcGx1Z2luLnBhcmFtZXRlcnMuY3JlYXRlTGlzdFBhcmFtZXRlcihwYXJhbWV0ZXJOYW1lLCBmYWN0b3J5LnBsdWdpbkFzc2V0cy5hc3NldFBhY2tzWzBdLm5hbWUsIGZhY3RvcnkucGx1Z2luQXNzZXRzLmFzc2V0UGFja3MubWFwKHA9PnAubmFtZSksIHVuZGVmaW5lZCwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpO1xuICAgIGxpc3RQYXJhbWV0ZXIudHJpZ2dlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFjayA9IGZhY3RvcnkucGx1Z2luQXNzZXRzLmFzc2V0UGFja3MuZmluZChwID0+IGxpc3RQYXJhbWV0ZXIudmFsdWUgPT0gcC5uYW1lKTtcbiAgICAgICAgcGFja1NlbGVjdG9yLnNlbGVjdFBhY2socGFjayk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJwYXJhbWV0ZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBsaXN0UGFyYW1ldGVyXG4gICAgICAgIH0sXG4gICAgICAgIFwiYXZhaWxhYmxlUGFja3NcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge3JldHVybiBmYWN0b3J5LnBsdWdpbkFzc2V0cy5hc3NldFBhY2tzO31cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWxlY3RQYWNrXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24ocGFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiAobGlzdFBhcmFtZXRlci52YWx1ZSA9IHBhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlbGVjdGVkUGFja1wiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7cmV0dXJuIGxpc3RQYXJhbWV0ZXIudmFsdWU7fVxuICAgICAgICB9LFxuICAgICAgICBcImxvYWRBc3NldHNcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBwYWNrU2VsZWN0b3IubG9hZEFzc2V0c1xuICAgICAgICB9LFxuICAgICAgICBcImFsbEFzc2V0c0xvYWRlZFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IHBhY2tTZWxlY3Rvci5hbGxBc3NldHNMb2FkZWRcbiAgICAgICAgfSxcbiAgICAgICAgXCJmZXRjaEFzc2V0QnlOYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogcGFja1NlbGVjdG9yLmZldGNoQXNzZXRCeU5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJ3YWl0Rm9yQXNzZXRzXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogcGFja1NlbGVjdG9yLndhaXRGb3JBc3NldHNcbiAgICAgICAgfSxcbiAgICAgICAgJ3ZhbHVlJzoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge3JldHVybiBsaXN0UGFyYW1ldGVyLnZhbHVlO30sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbihzKSB7cmV0dXJuIChsaXN0UGFyYW1ldGVyLnZhbHVlID0gcyk7fVxuICAgICAgICB9LFxuICAgICAgICBcIm9ubG9hZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbigpIHtyZXR1cm4gcGFja1NlbGVjdG9yLm9ubG9hZDt9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24oZikge3JldHVybiAocGFja1NlbGVjdG9yLm9ubG9hZCA9IGYpO31cbiAgICAgICAgfSxcbiAgICAgICAgXCJvbmVycm9yXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge3JldHVybiBwYWNrU2VsZWN0b3Iub25lcnJvcjt9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24oZikge3JldHVybiAocGFja1NlbGVjdG9yLm9uZXJyb3IgPSBmKTt9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsIi8vIEFkZCBnZXRJbnB1dHMgdG8gYWxsIEF1ZGlvTm9kZXMgdG8gZWFzZSBkZXBsb3ltZW50XG4vKmdsb2JhbHMgQXVkaW9Ob2RlLCBXb3JrZXIsIGNvbnNvbGUsIHdpbmRvdywgZG9jdW1lbnQsIFByb21pc2UsIFhNTEh0dHBSZXF1ZXN0ICovXG4vKmVzbGludC1lbnYgYnJvd3NlciAqL1xuLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge1BhcmFtZXRlck1hbmFnZXJ9IGZyb20gXCIuL3BhcmFtZXRlck1hbmFnZXIuanNcIjtcbmltcG9ydCB7UGx1Z2luSW50ZXJmYWNlTWVzc2FnZUh1Yn0gZnJvbSBcIi4vUGx1Z2luSW50ZXJmYWNlTWVzc2FnZUh1Yi5qc1wiO1xuaW1wb3J0IHtQbHVnaW5GZWF0dXJlSW50ZXJmYWNlfSBmcm9tIFwiLi9QbHVnaW5GZWF0dXJlSW50ZXJmYWNlXCI7XG5pbXBvcnQge1BsdWdpblVzZXJJbnRlcmZhY2V9IGZyb20gXCIuL1BsdWdpblVzZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBMaW5rZWRTdG9yZSBmcm9tIFwiLi4vTGlua2VkU3RvcmVcIjtcbmltcG9ydCBMaW5rZWRTdG9yZUludGVyZmFjZSBmcm9tIFwiLi9MaW5rZWRTdG9yZUludGVyZmFjZVwiO1xuaW1wb3J0IEFzc2V0UGFja1NlbGVjdG9ySW50ZXJmYWNlIGZyb20gXCIuL0Fzc2V0UGFja1NlbGVjdG9ySW50ZXJmYWNlXCI7XG5cbmlmICh0eXBlb2YgQXVkaW9Ob2RlID09PSBcImZ1bmN0aW9uXCIgJiYgd2luZG93LmltcG9ydFNjcmlwdHMgPT09IHVuZGVmaW5lZCkge1xuICAgIEF1ZGlvTm9kZS5wcm90b3R5cGUuZ2V0SW5wdXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH07XG59XG5cbnZhciBCYXNlUGx1Z2luID0gZnVuY3Rpb24oZmFjdG9yeSwgb3duZXIpIHtcbiAgICB2YXIgaW5wdXRMaXN0ID0gW10sXG4gICAgICAgIG91dHB1dExpc3QgPSBbXSxcbiAgICAgICAgcE93bmVyID0gb3duZXIsXG4gICAgICAgIGRlbGF5U2FtcGxlcyA9IDAsXG4gICAgICAgIGV2ZW50VGFyZ2V0ID0gbmV3IEV2ZW50VGFyZ2V0KCksXG4gICAgICAgIGV4dGVybmFsSW50ZXJmYWNlID0gbmV3IFBsdWdpbkludGVyZmFjZU1lc3NhZ2VIdWIodGhpcyk7XG4gICAgaWYgKHRoaXMuY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGZhY3RvcnkuY29udGV4dDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZmFjdG9yeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgfVxuICAgIHRoaXMuZmVhdHVyZU1hcCA9IG5ldyBQbHVnaW5GZWF0dXJlSW50ZXJmYWNlKHRoaXMpO1xuICAgIHRoaXMucGFyYW1ldGVycyA9IG5ldyBQYXJhbWV0ZXJNYW5hZ2VyKHRoaXMsIGV4dGVybmFsSW50ZXJmYWNlKTtcbiAgICB0aGlzLnBhcmFtZXRlcnMuYWRkRXZlbnRMaXN0ZW5lcihcInBhcmFtZXRlcnNldFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicGFyYW1ldGVyc2V0XCIsIHtkZXRhaWw6IGUuZGV0YWlsfSkpO1xuICAgIH0pO1xuICAgIHRoaXMuYWRkQXNzZXRQYWNrSW50ZXJmYWNlID0gZnVuY3Rpb24ocGFyYW1ldGVyTmFtZSwgdmlzaWJsZU5hbWUsIGV4cG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NldFBhY2tTZWxlY3RvckludGVyZmFjZSh0aGlzLCBmYWN0b3J5LCBwYXJhbWV0ZXJOYW1lLCB2aXNpYmxlTmFtZSwgZXhwb3NlZCk7XG4gICAgfTtcblxuICAgIHRoaXMuUGx1Z2luRGF0YSA9IG5ldyBMaW5rZWRTdG9yZShcIlBsdWdpblwiKTtcblxuICAgIHRoaXMuc2Vzc2lvbkRhdGFJbnRlcmZhY2UgPSBuZXcgTGlua2VkU3RvcmVJbnRlcmZhY2UodGhpcywgZmFjdG9yeS5TZXNzaW9uRGF0YSk7XG4gICAgdGhpcy51c2VyRGF0YUludGVyZmFjZSA9IG5ldyBMaW5rZWRTdG9yZUludGVyZmFjZSh0aGlzLCBmYWN0b3J5LlVzZXJEYXRhKTtcbiAgICB0aGlzLnRyYWNrRGF0YUludGVyZmFjZSA9IG5ldyBMaW5rZWRTdG9yZUludGVyZmFjZSh0aGlzLCBvd25lci5UcmFja0RhdGEpO1xuICAgIHRoaXMucGx1Z2luRGF0YUludGVyZmFjZSA9IG5ldyBMaW5rZWRTdG9yZUludGVyZmFjZSh0aGlzLCB0aGlzLlBsdWdpbkRhdGEpO1xuXG4gICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uRGF0YUludGVyZmFjZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMudXNlckRhdGFJbnRlcmZhY2UuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnRyYWNrRGF0YUludGVyZmFjZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGx1Z2luRGF0YUludGVyZmFjZS5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmRlY29uc3RydWN0ICYmIHR5cGVvZiB0aGlzLmRlY29uc3RydWN0ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5kZWNvbnN0cnVjdCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUlPKG5vZGUsIGxpc3QpIHtcbiAgICAgICAgdmFyIGkgPSBsaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUgPT09IHRoaXM7XG4gICAgICAgIH0sIG5vZGUpO1xuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRJbnB1dCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlucHV0TGlzdC5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm4gaW5wdXRMaXN0O1xuICAgIH07XG4gICAgdGhpcy5kZWxldGVJbnB1dCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVJTyhub2RlLCBpbnB1dExpc3QpO1xuICAgIH07XG4gICAgdGhpcy5hZGRPdXRwdXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBvdXRwdXRMaXN0LnB1c2gobm9kZSk7XG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dHM7XG4gICAgfTtcbiAgICB0aGlzLmRlbGV0ZU91dHB1dCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVJTyhub2RlLCBvdXRwdXRMaXN0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRQcm9jZXNzaW5nRGVsYXlBc1NlY29uZHMgPSBmdW5jdGlvbihzZWNvbmRzKSB7XG4gICAgICAgIHZhciBmcyA9IGZhY3RvcnkuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICBpZiAodHlwZW9mIHNlY29uZHMgPT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZShzZWNvbmRzKSAmJiBzZWNvbmRzID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyhzZWNvbmRzKmZzKS9mcztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyhcInNldFByb2Nlc3NpbmdEZWxheUFzU2Vjb25kcyBJbnZhbGlkIGFyZ3VtZW50XCIpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldFByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyA9IGZ1bmN0aW9uKHNhbXBsZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzYW1wbGVzID09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUoc2FtcGxlcykgJiYgc2FtcGxlcyA+PSAwKSB7XG4gICAgICAgICAgICBkZWxheVNhbXBsZXMgPSBzYW1wbGVzO1xuICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnQoXCJhbHRlcmRlbGF5XCIpO1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgIHJldHVybiBkZWxheVNhbXBsZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyhcInNldFByb2Nlc3NpbmdEZWxheUFzU2FtcGxlcyBJbnZhbGlkIGFyZ3VtZW50XCIpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydCA9IHRoaXMuc3RvcCA9IHRoaXMub25sb2FkZWQgPSB0aGlzLm9udW5sb2FkZWQgPSB0aGlzLmRlY29uc3RydWN0ID0gZnVuY3Rpb24gKCkge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiZXh0ZXJuYWxJbnRlcmZhY2VcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBleHRlcm5hbEludGVyZmFjZVxuICAgICAgICB9LFxuICAgICAgICBcIm51bUlucHV0c1wiOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRMaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoXCJDYW5ub3Qgc2V0IHRoZSBudW1iZXIgb2YgaW5wdXRzIG9mIEJhc2VQbHVnaW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibnVtT3V0cHV0c1wiOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0TGlzdC5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiQ2Fubm90IHNldCB0aGUgbnVtYmVyIG9mIG91dHB1dHMgb2YgQmFzZVBsdWdpblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJudW1QYXJhbWV0ZXJzXCI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMucGFyYW1ldGVycy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiQ2Fubm90IHNldCB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMgb2YgQmFzZVBsdWdpblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJvd25lclwiOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcE93bmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG93bmVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvd25lciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBwT3duZXIgPSBvd25lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBPd25lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpbnB1dHNcIjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRMaXN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRocm93IChcIklsbGVnYWwgYXR0ZW1wdCB0byBtb2RpZnkgQmFzZVBsdWdpblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJvdXRwdXRzXCI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dExpc3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiSWxsZWdhbCBhdHRlbXB0IHRvIG1vZGlmeSBCYXNlUGx1Z2luXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInByb2Nlc3NpbmdEZWxheUFzU2FtcGxlc1wiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsYXlTYW1wbGVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHRoaXMuc2V0UHJvY2Vzc2luZ0RlbGF5QXNTYW1wbGVzXG4gICAgICAgIH0sXG4gICAgICAgIFwicHJvY2Vzc2luZ0RlbGF5QXNTZWNvbmRzXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxheVNhbXBsZXMvZmFjdG9yeS5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjogdGhpcy5zZXRQcm9jZXNzaW5nRGVsYXlBc1NlY29uZHNcbiAgICAgICAgfSxcbiAgICAgICAgXCJjb25uZWN0XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKGRlc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dHNbMF0uY29ubmVjdChkZXN0LmlucHQgPyBkZXN0LmlucHV0IDogZGVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGlzY29ubmVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uIChkZXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dHNbMF0uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0c1swXS5kaXNjb25uZWN0KGRlc3QuaW5wdXQgPyBkZXN0LmlucHV0IDogZGVzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldElucHV0c1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0T3V0cHV0c1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck5hbWVzXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyTmFtZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRQYXJhbWV0ZXJCeU5hbWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImdldFBhcmFtZXRlck9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLmdldFBhcmFtZXRlck9iamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNldFBhcmFtZXRlckJ5TmFtZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRQYXJhbWV0ZXJzQnlPYmplY3RcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5zZXRQYXJhbWV0ZXJzQnlPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJhZGRFdmVudExpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7QmFzZVBsdWdpbn07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQge0Jhc2VQbHVnaW59IGZyb20gXCIuLi9CYXNlUGx1Z2luL2luZGV4XCI7XG5cbnZhciBTeW50aGVzaXNlckJhc2VQbHVnaW4gPSBmdW5jdGlvbihmYWN0b3J5LCBvd25lcilcbntcbiAgICB2YXIgaGFzV2FybmVkU2NoZWR1bGVOb3RTZXQgPSBmYWxzZTtcbiAgICB2YXIgaGFzV2FybmVkQ2FuY2VsTm90U2V0ID0gZmFsc2U7XG4gICAgdmFyIGVkaXRvclR5cGUgPSBcInJvbGxcIjtcbiAgICBCYXNlUGx1Z2luLmNhbGwodGhpcywgZmFjdG9yeSwgb3duZXIpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcImFkZElucHV0XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhyb3coXCJDYW5ub3QgYWRkIGlucHV0IHRvIHR5cGUgXFxcIlN5bnRoZXNpc2VyQmFzZVBsdWdpblxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlSW5wdXRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyhcIkNhbm5vdCBkZWxldGUgaW5wdXQgdG8gdHlwZSBcXFwiU3ludGhlc2lzZXJCYXNlUGx1Z2luXFxcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzY2hlZHVsZUV2ZW50XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKG1zZywgY29udGV4dFRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1dhcm5lZFNjaGVkdWxlTm90U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybmluZyhcIldBUk5JTkcgLSAuc2NoZWR1bGVFdmVudCBpcyBub3Qgb3ZlcnJpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkU2NoZWR1bGVOb3RTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIndyaXRhYmxlXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJjYW5jZWxBbGxFdmVudHNcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1dhcm5lZENhbmNlbE5vdFNldCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm5pbmcoXCJXQVJOSU5HIC0gLmNhbmNlbEFsbEV2ZW50cyBpcyBub3Qgb3ZlcnJpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkQ2FuY2VsTm90U2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ3cml0YWJsZVwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0RWRpdG9yVHlwZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcInJvbGxcIiB8fCB0eXBlID09IFwibGluZVwiIHx8IHR5cGUgPT0gXCJzZXF1ZW5jZXJcIikge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3JUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRvclR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0RWRpdG9yVHlwZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlZGl0b3JUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImlzTm90ZUFjdGl2ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJudW1iZXJcIiAmJiBuID49IDAgJiYgbiA8IDEyOCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwid3JpdGFibGVcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcImdldEFjdGl2ZU5vdGVQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9W107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbj0wOyBuPDEyODsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IG4sXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm1pZGlOb3RlVG9OYW1lKG4pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwid3JpdGFibGVcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICAnbWlkaU5vdGVUb0ZyZXF1ZW5jeSc6IHtcbiAgICAgICAgICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KDIuMCwgKG0tNjkpLzEyKSo0NDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdmcmVxdWVuY3lUb01pZGlOb3RlJzoge1xuICAgICAgICAgICAgJ3ZhbHVlJzogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMi4wKk1hdGgubG9nMihmLzQ0MCkpKzY5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnbWlkaU5vdGVUb05hbWUnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgIHZhciBub3RlcyA9IFtcIkFcIiwgXCJBI1wiLCBcIkJcIiwgXCJDXCIsIFwiQyNcIiwgXCJEXCIsIFwiRCNcIiwgXCJFXCIsIFwiRlwiLCBcIkYjXCIsIFwiR1wiLCBcIkcjXCJdO1xuICAgICAgICAgICAgICAgIHZhciByb290ID0gbS0yMTtcbiAgICAgICAgICAgICAgICB2YXIgb2N0YXZlID0gTWF0aC5mbG9vcihyb290LzEyKTtcbiAgICAgICAgICAgICAgICB2YXIgbm90ZSA9IE1hdGguZmxvb3IoKHJvb3QrMzYpJTEyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90ZXNbbm90ZV0gKyBTdHJpbmcob2N0YXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ25vdGVOYW1lVG9NSURJJzoge1xuICAgICAgICAgICAgJ3ZhbHVlJzogZnVuY3Rpb24obikge1xuICAgICAgICAgICAgICAgIHZhciBub3RlcyA9IFtcIkFcIiwgXCJBI1wiLCBcIkJcIiwgXCJDXCIsIFwiQyNcIiwgXCJEXCIsIFwiRCNcIiwgXCJFXCIsIFwiRlwiLCBcIkYjXCIsIFwiR1wiLCBcIkcjXCJdO1xuICAgICAgICAgICAgICAgIHZhciBvY3RhdmUgPSBOdW1iZXIobi5zbGljZShuLmxlbmd0aC0xKSk7XG4gICAgICAgICAgICAgICAgdmFyIG5vdGUgPSBub3Rlcy5pbmRleE9mKG4uc2xpY2UoMCxuLmxlbmd0aC0xKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9jdGF2ZSoxMiArIG5vdGUgKyAyMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5TeW50aGVzaXNlckJhc2VQbHVnaW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlUGx1Z2luLnByb3RvdHlwZSk7XG5TeW50aGVzaXNlckJhc2VQbHVnaW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ludGhlc2lzZXJCYXNlUGx1Z2luO1xuXG5leHBvcnQge1N5bnRoZXNpc2VyQmFzZVBsdWdpbn07XG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZnVuY3Rpb24gTnVtYmVyUGFyYW1ldGVyTGlzdGVuZXIob3duZXIsIGNoYW5uZWwsIHBhcmFtZXRlck5hbWUsIHZpc2libGVOYW1lLCBkZWZhdWx0VmFsdWUsIG1heGltdW0sIG1pbmltdW0pIHtcbiAgICBmdW5jdGlvbiBvbnVwZGF0ZShlKSB7XG4gICAgICAgIHZhbHVlID0gZS52YWx1ZTtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIGNoYW5uZWwubGlzdGVuRm9yUGFyYW1ldGVyQnlOYW1lKG9udXBkYXRlLCBwYXJhbWV0ZXJOYW1lLCB0cnVlKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwibmFtZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IHZpc2libGVOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIFwicGFyYW1ldGVyTmFtZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IHBhcmFtZXRlck5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWZhdWx0VmFsdWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBkZWZhdWx0VmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhpbXVtXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbWF4aW11bVxuICAgICAgICB9LFxuICAgICAgICBcIm1pbmltdW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBtaW5pbXVtXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKCkge3JldHVybiB2YWx1ZTt9LFxuICAgICAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgubWF4KG1pbmltdW0sIE1hdGgubWluKG1heGltdW0sIHYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5zZXRQYXJhbWV0ZXJCeU5hbWUocGFyYW1ldGVyTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE51bWJlclBhcmFtZXRlckxpc3RlbmVyO1xuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmZ1bmN0aW9uIExpc3RQYXJhbWV0ZXJMaXN0ZW5lcihvd25lciwgY2hhbm5lbCwgcGFyYW1ldGVyTmFtZSwgdmlzaWJsZU5hbWUsIGRlZmF1bHRWYWx1ZSwgbGlzdFZhbHVlcykge1xuICAgIGZ1bmN0aW9uIG9udXBkYXRlKGUpIHtcbiAgICAgICAgdmFsdWUgPSBlLnZhbHVlO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgY2hhbm5lbC5saXN0ZW5Gb3JQYXJhbWV0ZXJCeU5hbWUob251cGRhdGUsIHBhcmFtZXRlck5hbWUsIHRydWUpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJuYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogdmlzaWJsZU5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYXJhbWV0ZXJOYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogcGFyYW1ldGVyTmFtZVxuICAgICAgICB9LFxuICAgICAgICBcImRlZmF1bHRWYWx1ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGRlZmF1bHRWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBcIm1heGltdW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBtYXhpbXVtXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluaW11bVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IG1pbmltdW1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7cmV0dXJuIHZhbHVlO30sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RWYWx1ZXMuaW5jbHVkZXModikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnNldFBhcmFtZXRlckJ5TmFtZShwYXJhbWV0ZXJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdFBhcmFtZXRlckxpc3RlbmVyO1xuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmZ1bmN0aW9uIFN0cmluZ1BhcmFtZXRlckxpc3RlbmVyKG93bmVyLCBjaGFubmVsLCBwYXJhbWV0ZXJOYW1lLCB2aXNpYmxlTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgZnVuY3Rpb24gb251cGRhdGUoZSkge1xuICAgICAgICB2YWx1ZSA9IGUudmFsdWU7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICBjaGFubmVsLmxpc3RlbkZvclBhcmFtZXRlckJ5TmFtZShvbnVwZGF0ZSwgcGFyYW1ldGVyTmFtZSwgdHJ1ZSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBcIm5hbWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2aXNpYmxlTmFtZVxuICAgICAgICB9LFxuICAgICAgICBcInBhcmFtZXRlck5hbWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBwYXJhbWV0ZXJOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZGVmYXVsdFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4aW11bVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IG1heGltdW1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtaW5pbXVtXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogbWluaW11bVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICAgIFwiZ2V0XCI6IGZ1bmN0aW9uICgpIHtyZXR1cm4gdmFsdWU7fSxcbiAgICAgICAgICAgIFwic2V0XCI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnNldFBhcmFtZXRlckJ5TmFtZShwYXJhbWV0ZXJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nUGFyYW1ldGVyTGlzdGVuZXI7XG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZnVuY3Rpb24gU3dpdGNoUGFyYW1ldGVyTGlzdGVuZXIob3duZXIsIGNoYW5uZWwsIHBhcmFtZXRlck5hbWUsIHZpc2libGVOYW1lLCBkZWZhdWx0VmFsdWUsIG1heFN0YXRlLCBtaW5TdGF0ZSkge1xuICAgIGZ1bmN0aW9uIG9udXBkYXRlKGUpIHtcbiAgICAgICAgdmFsdWUgPSBlLnZhbHVlO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgY2hhbm5lbC5saXN0ZW5Gb3JQYXJhbWV0ZXJCeU5hbWUob251cGRhdGUsIHBhcmFtZXRlck5hbWUsIHRydWUpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgXCJuYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogdmlzaWJsZU5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYXJhbWV0ZXJOYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogcGFyYW1ldGVyTmFtZVxuICAgICAgICB9LFxuICAgICAgICBcImRlZmF1bHRWYWx1ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGRlZmF1bHRWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBcIm1heGltdW1cIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBtYXhpbXVtXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluaW11bVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IG1pbmltdW1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAoKSB7cmV0dXJuIHZhbHVlO30sXG4gICAgICAgICAgICBcInNldFwiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5tYXgobWluU3RhdGUsIE1hdGgubWluKG1heFN0YXRlLCB2KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpbmNyZW1lbnRcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZSArIDE7XG4gICAgICAgICAgICAgICAgaWYgKHYgPiBtYXhTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2ID0gbWluU3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVjcmVtZW50XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gdmFsdWUgLSAxO1xuICAgICAgICAgICAgICAgIGlmICh2IDwgbWluU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IG1heFN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5zZXRQYXJhbWV0ZXJCeU5hbWUocGFyYW1ldGVyTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN3aXRjaFBhcmFtZXRlckxpc3RlbmVyO1xuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5pbXBvcnQgTnVtYmVyUGFyYW1ldGVyTGlzdGVuZXIgZnJvbSBcIi4vTnVtYmVyUGFyYW1ldGVyTGlzdGVuZXJcIjtcbmltcG9ydCBMaXN0UGFyYW1ldGVyTGlzdGVuZXIgZnJvbSBcIi4vTGlzdFBhcmFtZXRlckxpc3RlbmVyXCI7XG5pbXBvcnQgU3RyaW5nUGFyYW1ldGVyTGlzdGVuZXIgZnJvbSBcIi4vU3RyaW5nUGFyYW1ldGVyTGlzdGVuZXJcIjtcbmltcG9ydCBTd2l0Y2hQYXJhbWV0ZXJMaXN0ZW5lciBmcm9tIFwiLi9Td2l0Y2hQYXJhbWV0ZXJMaXN0ZW5lclwiO1xuZnVuY3Rpb24gRWRpdG9yUGFyYW1ldGVyTWFuYWdlcihjaGFubmVsKSB7XG5cbiAgICB2YXIgcGFyYW1ldGVycyA9IFtdO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyxcbiAgICB7XG4gICAgICAgIFwiY3JlYXRlTnVtYmVyUGFyYW1ldGVyTGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihwYXJhbWV0ZXJOYW1lLCB2aXNpYmxlTmFtZSwgZGVmYXVsdFZhbHVlLCBtYXhpbXVtLCBtaW5pbXVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBuZXcgTnVtYmVyUGFyYW1ldGVyTGlzdGVuZXIodGhpcywgY2hhbm5lbCwgcGFyYW1ldGVyTmFtZSwgdmlzaWJsZU5hbWUsIGRlZmF1bHRWYWx1ZSwgbWF4aW11bSwgbWluaW11bSk7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNyZWF0ZUxpc3RQYXJhbWV0ZXJMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHBhcmFtZXRlck5hbWUsIHZpc2libGVOYW1lLCBkZWZhdWx0VmFsdWUsIGxpc3RWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG5ldyBMaXN0UGFyYW1ldGVyTGlzdGVuZXIodGhpcywgY2hhbm5lbCwgcGFyYW1ldGVyTmFtZSwgdmlzaWJsZU5hbWUsIGRlZmF1bHRWYWx1ZSwgbGlzdFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNyZWF0ZVN0cmluZ1BhcmFtZXRlckxpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24ocGFyYW1ldGVyTmFtZSwgdmlzaWJsZU5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBub2RlID0gbmV3IFN0cmluZ1BhcmFtZXRlckxpc3RlbmVyKHRoaXMsIGNoYW5uZWwsIHBhcmFtZXRlck5hbWUsIHZpc2libGVOYW1lLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjcmVhdGVTd2l0Y2hQYXJhbWV0ZXJMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKHBhcmFtZXRlck5hbWUsIHZpc2libGVOYW1lLCBkZWZhdWx0VmFsdWUsIG1heFN0YXRlLCBtaW5TdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBub2RlID0gbmV3IFN3aXRjaFBhcmFtZXRlckxpc3RlbmVyKHRoaXMsIGNoYW5uZWwsIHBhcmFtZXRlck5hbWUsIHZpc2libGVOYW1lLCBkZWZhdWx0VmFsdWUsIG1heFN0YXRlLCBtaW5TdGF0ZSk7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yUGFyYW1ldGVyTWFuYWdlcjtcbiIsIi8vIGpzaGludCBlc3ZlcnNpb246IDZcblxuLypcbiAgICBKU0FQIFBsdWdpbiBHVUkgQ2hhbm5lbCBvYmplY3RcblxuICAgIFRoaXMgb2JqZWN0IGhlbHBzIHRvIGFic3RyYWN0IHRoZSB2YXJpb3VzIGNvbW11bmljYXRpb24gcGxhdGZvcm1zIGluIEpTQVBcbiAgICBiZXR3ZWVuIHRoZSBwbHVnaW4gcHJvY2Vzc29yIChCYXNlUGx1Z2luKSBhbmQgdGhlIEdVSSBvbiB0b3AuXG4qL1xuXG5pbXBvcnQgRWRpdG9yUGFyYW1ldGVyTWFuYWdlciBmcm9tIFwiLi9QYXJhbWV0ZXJMaXN0ZW5lcnMvaW5kZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFzZVBsdWdpbkVkaXRvckNoYW5uZWwoKSB7XG4gICAgZnVuY3Rpb24gcG9zdE1lc3NhZ2Uob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT09IHVuZGVmaW5lZCB8fCBvYmplY3QubWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyhcIk1hbGZvcm1lZCBtZXNzYWdlIG9iamVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3Quc2VuZGVyX2lkID0gdW5pcXVlX2lkO1xuICAgICAgICBob3N0V2luZG93LnBvc3RNZXNzYWdlKG9iamVjdCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gICAgfVxuICAgIHZhciBob3N0V2luZG93O1xuICAgIGlmICh3aW5kb3cub3BlbmVyKSB7XG4gICAgICAgIC8vIFdlIGFyZSBhIHBvcG91dCB3aW5kb3dcbiAgICAgICAgaG9zdFdpbmRvdyA9IHdpbmRvdy5vcGVuZXI7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cucGFyZW50KSB7XG4gICAgICAgIGhvc3RXaW5kb3cgPSB3aW5kb3cucGFyZW50O1xuICAgIH1cblxuICAgIHZhciB1bmlxdWVfaWQgPSAoZnVuY3Rpb24gKGxlbikge1xuICAgICAgICBmdW5jdGlvbiBkZWMyaGV4IChkZWMpIHtcbiAgICAgICAgICAgIHJldHVybiAoJzAnICsgZGVjLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoKGxlbiB8fCA0MCkgLyAyKTtcbiAgICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oYXJyLCBkZWMyaGV4KS5qb2luKCcnKTtcbiAgICB9KSgzMik7XG5cbiAgICB2YXIgb25wYXJhbWV0ZXJMaXN0ZW5lcnMgPSBbXTtcbiAgICB2YXIgb25saXN0ZW5lcnMgPSBbXTtcbiAgICB2YXIgc3RhdGVsaXN0ZW5lcnMgPSBbXTtcblxuICAgIHdpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLnNvdXJjZSAhPSBob3N0V2luZG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUuZGF0YS5zZW5kZXJfaWQgPT0gdW5pcXVlX2lkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1c3RvbUV2ZW50O1xuICAgICAgICBzd2l0Y2goZS5kYXRhLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1cGRhdGVQYXJhbWV0ZXJzXCI6XG4gICAgICAgICAgICAgICAgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJwYXJhbWV0ZXJzQ2hhbmdlZFwiLCB7ZGV0YWlsOiBlLmRhdGF9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ1cGRhdGVTdGF0ZVwiOlxuICAgICAgICAgICAgICAgIGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwidXBkYXRlU3RhdGVcIiwge2RldGFpbDogZS5kYXRhfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFyYW1ldGVyc0NoYW5nZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5kZXRhaWwucGFyYW1ldGVycykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZS5kZXRhaWwucGFyYW1ldGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IG9ucGFyYW1ldGVyTGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbihsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsLm5hbWUgPT0gbmFtZSB8fCBsLm5hbWUgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihsKSB7XG4gICAgICAgICAgICAgICAgICAgIGwuY2FsbGJhY2soZS5kZXRhaWwucGFyYW1ldGVyc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9ubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlLmRldGFpbC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVN0YXRlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc3RhdGVsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKGxpc3RlbmVyLmxldmVsID09IGUuZGV0YWlsLmxldmVsKSAmJiAobGlzdGVuZXIudGVybSA9PSBlLmRldGFpbC50ZXJtKTtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soZS5kZXRhaWwudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMucGFyYW1ldGVyTGlzdGVuZXJNYW5hZ2VyID0gbmV3IEVkaXRvclBhcmFtZXRlck1hbmFnZXIodGhpcyk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwicGx1Z2luSW5zdGFuY2VcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5wbHVnaW5JbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRQYXJhbWV0ZXJCeU5hbWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChcIkV4cGVjdHMgcGFyYW1ldGVyIG5hbWUgdG8gYmUgYSBzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJzZXRQYXJhbWV0ZXJCeU5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRQYXJhbWV0ZXJCeU9iamVjdFwiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJzZXRQYXJhbWV0ZXJCeU9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBvYmplY3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJyZXF1ZXN0UGFyYW1ldGVyc1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwicmVxdWVzdFBhcmFtZXRlcnNcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInJlcXVlc3RQYXJhbWV0ZXJCeU5hbWVcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwicmVxdWVzdFBhcmFtZXRlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJOYW1lIG5vdCBzZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibGlzdGVuRm9yUGFyYW1ldGVyQnlOYW1lXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oY2FsbGJhY2ssIG5hbWUsIHRyaWdnZXJSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGNhbGxiYWNrICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyhcIkNhbGxiYWNrIG11c3QgYmUgYSBkZWZpbmVkIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbnBhcmFtZXRlckxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJSZXF1ZXN0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInJlcXVlc3RQYXJhbWV0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb25wYXJhbWV0ZXJMaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImxpc3RlbkZvclBhcmFtZXRlcnNcIjoge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBmdW5jdGlvbihjYWxsYmFjaywgdHJpZ2dlclJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgY2FsbGJhY2sgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93KFwiQ2FsbGJhY2sgbXVzdCBiZSBhIGRlZmluZWQgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9ubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyUmVxdWVzdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJyZXF1ZXN0UGFyYW1ldGVyc1wiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb25saXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImxpc3RlbkZvclN0YXRlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24oY2FsbGJhY2ssIGxldmVsLCB0ZXJtLCB0cmlnZ2VyUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBjYWxsYmFjayAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJDYWxsYmFjayBtdXN0IGJlIGEgZGVmaW5lZCBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsICE9IFwic2Vzc2lvblwiICYmIGxldmVsICE9IFwidHJhY2tcIiAmJiBsZXZlbCAhPSBcInVzZXJcIiAmJiBsZXZlbCAhPSBcInBsdWdpblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBzdGF0ZSBsZXZlbCBnaXZlbjogXCIrU3RyaW5nKGxldmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGVsaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiBsZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgdGVybTogdGVybSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJSZXF1ZXN0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RTdGF0ZShsZXZlbCwgdGVybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZWxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVxdWVzdFN0YXRlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24gKGxldmVsLCB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcInJlcXVlc3RcIiArIGxldmVsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGV2ZWwuc2xpY2UoMSkgKyBcIlN0YXRlXCI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm06IHRlcm1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coXCJOYW1lIG5vdCBzZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic2VuZEN1c3RvbUV2ZW50XCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZnVuY3Rpb24odHlwZSwgcGF5bG9hZCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJjdXN0b21NZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgUGx1Z2luRmFjdG9yeSBmcm9tIFwiLi9GYWN0b3J5L1BsdWdpbkZhY3RvcnlcIjtcbmltcG9ydCB7QmFzZVBsdWdpbn0gZnJvbSBcIi4vQmFzZVBsdWdpbi9pbmRleFwiO1xuaW1wb3J0IHtTeW50aGVzaXNlckJhc2VQbHVnaW59IGZyb20gXCIuL1N5bnRoZXNpc2VyQmFzZVBsdWdpbi9pbmRleFwiO1xuaW1wb3J0IEJhc2VQbHVnaW5FZGl0b3JDaGFubmVsIGZyb20gXCIuL0Jhc2VQbHVnaW5FZGl0b3JDaGFubmVsXCI7XG5leHBvcnQge0Jhc2VQbHVnaW5FZGl0b3JDaGFubmVsLCBCYXNlUGx1Z2luLCBTeW50aGVzaXNlckJhc2VQbHVnaW4sIFBsdWdpbkZhY3Rvcnl9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==